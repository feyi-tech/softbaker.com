"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[275],{3183:function(e,t,n){var r=n(7294),a=n(1802),i=n(4926),o=n(6455),l=n.n(o);t.Z=e=>{let{collectionName:t,historyProps:n,dataSourceProps:o,publishTexts:s}=e;const{user:c,signIn:d,showWallet:u,balanceInUsd:p,unconfirmedDepositsCount:m,balancePendingInUsd:h,getDownloadType:g,deposit:x}=(0,i.P)(),[f,b]=(0,r.useState)(),{addHistory:v,clearHistory:w}=n,{selectedIsNew:k,selectedData:y,setSelectedData:j,createData:_,editData:C}=o;return{savingData:f,setSavingData:b,handleUpdateData:e=>{const t={...y,...e};v(t.id,t),j(t)},handlePublishData:()=>new Promise(((e,n)=>{const r=k(),i=i=>{g({docCollection:t,docCollectionRuleTtlInMinutes:10,title:r||(null===y||void 0===y?void 0:y.is_freemium)?s.newTitle:s.updateTitle,removeFreemiumBeforeUpdate:!r||(null===y||void 0===y?void 0:y.is_freemium),updateMessage:r?void 0:s.updateMessage,freeTitle:s.freeTitle,freeMessage:s.freeMessage,paidTitle:s.paidTitle,paidMessage:s.paidMessage}).then((t=>{const o=!(!r&&!(null===y||void 0===y?void 0:y.is_freemium))&&t.is_freemium;if(t.cost>p){if(b(!1),m>0)return l().fire({icon:"info",title:"Payment Error",text:"Your ".concat(m>1?"deposits":"deposit"," of approximately $").concat(h," is currently undergoing confirmations. Please try again later in 5 - 10 minutes after your ").concat(m>1?"deposits have":"deposit has"," been confirmed."),confirmButtonText:"OK"}).then((()=>{u(10)})),n(new Error(""));l().fire({icon:"error",title:"Payment Error",text:"You have insufficient balance! $".concat(t.cost," is needed. Fund your wallet with at least $").concat(t.cost,"."),showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Fund Wallet",cancelButtonText:"Cancel"}).then((e=>{e.isConfirmed&&x(t.cost,s.signInMessage,s.signUpMessage).then((()=>{l().fire({icon:"success",title:"Payment Successfull",text:"Your deposit was detected and will be confirmed soon.",showConfirmButton:!0,confirmButtonText:"OK"}),n(new Error(""))})).catch((e=>{l().fire({icon:"error",title:"Payment Error",text:e.message}),n(new Error(""))}))}))}else((t,r)=>{console.log("SolveIt:1",t,r),b(!0),k()&&y?(console.log("SolveIt:12",y),_({...y,is_freemium:t},r).then((t=>{console.log("SolveIt:15",t),w(a.XA),v(t.id,t),e(t)})).catch((e=>{console.log("SolveIt:16",e.message),n(e)}))):y?(console.log("SolveIt:13",y),C({...y,is_freemium:t}).then((t=>{w(t.id),v(t.id,t),j(t),e(t)})).catch((e=>{n(e)}))):(console.log("SolveIt:14"),n(new Error(s.noDataError)))})(o,i)})).catch((e=>{n(e)}))};c?i(c):d(s.signInMessage,s.signUpMessage).then((e=>{i(e)})).catch((e=>{n(e)}))}))}}},3348:function(e,t,n){var r=n(6100),a=n(7294),i=n(4926),o=n(1802);t.Z=(e,t,n,l)=>{const{user:s,db:c,auth:d,createDoc:u,updateDoc:p}=(0,i.P)(),[m,h]=(0,a.useState)(),[g,x]=(0,a.useState)([]),[f,b]=(0,a.useState)({}),[v,w]=(0,a.useState)(!1),[k,y]=(0,a.useState)(""),[j,_]=(0,a.useState)(),C=()=>(null===j||void 0===j?void 0:j.id)==o.XA;(0,a.useEffect)((()=>{C()&&h(j)}),[j]),(0,a.useEffect)((()=>{}),[m]);const S=e=>{e.message?y(e.message):y("An error occurred. Please try again later or contact support.")};(0,a.useEffect)((()=>{if(!c)return void w(!1);if(!(c instanceof r.gg))return void w(!1);if(!s)return x([]),b({}),w(!1),void(window.unsubscribeDocs&&window.unsubscribeDocs());w(!0);const n=(0,r.hJ)(c,e),a=(0,r.cf)((0,r.IO)(n,(0,r.ar)("authorId","==",s.uid),(0,r.Xo)("updatedAt","desc"),(0,r.b9)(t)),(e=>{const t=[],n={};var r=0;e.forEach((e=>{const a={...e.data(),id:e.id};t.push(a),n[a.id]=r,r++})),x(t),b(n),w(!1)}),(e=>{S(e),w(!1)}));return window.unsubscribeDocs=a,()=>a()}),[c,s,d]),(0,a.useEffect)((()=>{m&&Object.keys(f).includes(m.id)?(C()&&_(g[f[m.id]]),h(null)):j&&Object.keys(f).includes(j.id)&&_(g[f[j.id]])}),[f,m]);const I=()=>new Promise(((e,t)=>{if(!c)return t(new Error("Storage awaiting initialization"));let r;m?r={...m}:(r={...n(),id:o.XA},h(r)),e(r)}));return{dataList:g,newData:m,setNewData:h,selectedIsNew:C,loadingData:v,dataError:k,selectedData:j,setSelectedData:_,initData:I,updateNewData:e=>new Promise(((t,n)=>{if(m){let n={...m,...e};h(n),t(n)}else I().then((n=>{let r={...n,...e,id:n.id};h(r),t(r)})).catch((e=>{n(e)}))})),createData:(t,n)=>(console.log("SolveIt:2",t,n),new Promise(((a,i)=>{if(!c)return i(new Error("Storage awaiting initialization"));if(!n)return i(new Error("Please sign in first."));if(!t)return i(new Error("No new data to submit"));const o=(0,r.JU)((0,r.hJ)(c,e)).id.toUpperCase(),l={...t,authorId:"uid",is_freemium:void 0!==t.is_freemium&&t.is_freemium,createdAt:"current_time",updatedAt:"current_time"};delete l.id,u(e,o,l,n).then((()=>{const e={...l,id:o,authorId:n.uid,createdAt:new Date,updatedAt:new Date};C()&&_(e),h(e),a(e)})).catch((e=>{console.error("Error creating data:",e),i(e)}))}))),editData:t=>{const n=t;return new Promise(((r,a)=>{if(!c)return a(new Error("Storage awaiting initialization"));const i={};for(const e of l)i[e]=n[e];i.is_freemium=t.is_freemium,i.updatedAt="current_time",p(e,t.id,i).then((()=>{r({...t,updatedAt:new Date})})).catch((e=>{a(null===e||void 0===e?void 0:e.error)}))}))},deleteData:t=>new Promise(((n,a)=>{if(t.id==(null===m||void 0===m?void 0:m.id))return h(null),_(null),n();if(!c)return a(new Error("Storage awaiting initialization"));const i=(0,r.JU)(c,"".concat(e,"/").concat(t.id));(0,r.oe)(i).then((()=>{n()})).catch((e=>{console.error("Error updating data:",e),S(e),a(e)}))}))}}},9555:function(e,t,n){var r=n(7294);t.Z=e=>{const[t,n]=(0,r.useState)({});return{addHistory:(r,a)=>{try{const o=t[r];var i;const l=[...null!==(i=null===o||void 0===o?void 0:o.timeline)&&void 0!==i?i:[],a].slice(-e),s={...t,[r]:{currentIndex:l.length-1,totalUpdates:((null===o||void 0===o?void 0:o.totalUpdates)||0)+1,timeline:l}};n(s)}catch(o){console.error("Error adding history:",o)}},clearHistory:e=>{try{delete t[e],n(t)}catch(r){console.error("Error clearing history:",r)}},undo:e=>{const r=t[e];if((null===r||void 0===r?void 0:r.currentIndex)>0){const i=r.currentIndex-1,o=r.timeline[i];try{return n({...t,[e]:{currentIndex:i,totalUpdates:r.totalUpdates,timeline:r.timeline}}),o}catch(a){console.error("Error undoing history:",a)}}},redo:e=>{const r=t[e];if((null===r||void 0===r?void 0:r.currentIndex)<r.timeline.length-1){const i=r.currentIndex+1,o=r.timeline[i];try{return n({...t,[e]:{currentIndex:i,totalUpdates:r.totalUpdates,timeline:r.timeline}}),o}catch(a){console.error("Error redoing history:",a)}}},getCurrentTimeline:e=>{const n=t[e];if((null===n||void 0===n?void 0:n.currentIndex)>-1)return n.timeline[n.currentIndex]},getCurrentTimelineData:e=>{const n=t[e];if(n){const e=n.totalUpdates-n.timeline.length+(n.currentIndex+1);return{hasUndo:n.currentIndex>0,hasRedo:n.currentIndex<n.timeline.length-1,totalUpdates:e}}return{hasUndo:!1,hasRedo:!1,totalUpdates:0}}}}},5380:function(e,t,n){n.d(t,{z:function(){return r}});const r=e=>{switch(e){case"error":return"#e53e3e";case"info":case"loading":default:return"#3182ce";case"warning":return"#dd6b20";case"success":return"#38a169"}}},8627:function(e,t,n){var r=n(5893),a=n(5161),i=n(3717);t.Z=e=>{let{children:t}=e;const n=(0,a.ff)("/res/images/patterns/herringbone.png","/res/images/patterns/herringbone-dark.png");return(0,r.jsx)(i.k,{w:"100%",height:"100%",overflowY:"auto",justifyContent:"center",mt:"0px !important",backgroundImage:"url(".concat(n,")"),bgRepeat:"repeat",bgSize:"auto",bgPosition:"center",position:"relative",children:(0,r.jsx)(i.k,{w:"100%",pos:"absolute",justifyContent:"center",h:"auto",px:{base:"1rem",md:"2.375rem"},pt:{base:"2rem",md:"2.375rem"},pb:"10rem",children:t})})}},5397:function(e,t,n){n.d(t,{Z:function(){return de}});var r=n(5893),a=n(1802),i=n(5725),o=n(7294),l=n(7963),s=n(5161),c=n(4225),d=n(6948),u=n(1293),p=n(8783),m=n(4292),h=n(5154),g=n(8303),x=n(3717),f=n(7747),b=n(8166),v=n(6918);var w=e=>{let{id:t,sender:n,content:a,selected:i,onClick:o}=e;return(0,r.jsxs)(f.xu,{p:2,bg:i?(0,v.Z)("cardBg.light","cardBg.dark"):"transparent",_hover:{bg:(0,v.Z)("cardBg.light","cardBg.dark"),cursor:"pointer"},onClick:o,children:[(0,r.jsx)(u.x,{fontWeight:i?"bold":"normal",children:n}),(0,r.jsx)(u.x,{color:"gray.500",children:a})]},t)},k=n(1857),y=n.n(k),j=n(9993),_=n(6089),C=n(2757),S=n(4880),I=n(6712),T=n(1170),B=n(4040),z=n(8230),D=n(5380),P=n(6691),M=n(1167);var E=e=>{let{title:t,subTitle:n,logoUrl:a,onBackClicked:i,onMenuItemClicked:l,onMenuOptionState:s,onMenuOptionBadge:c,menu:b,bg:w,background:k,color:E,height:U,...A}=e;const[N,Z]=(0,o.useState)([]),[L,O]=(0,o.useState)([]),R=(0,g.S)({base:!0,md:!1}),F=(0,v.Z)("cardBg.light","cardBg.dark"),H=(0,v.Z)("cardBgHover.light","cardBgHover.dark");(0,o.useEffect)((()=>{const e=[],t=[];if(b&&b.length>0){for(var n=0;n<b.length;n++){const r=b[n];R&&r.onlyDesktop||!R&&r.onlyMobile||(W(r,b.length,n)?e.push(r):t.push(r))}Z(e),O(t)}}),[b,R]);const W=(e,t,n)=>e.showAlways||e.showIfRoom&&n!==t-1;return(0,r.jsxs)(x.k,{h:U||"40px",px:2,...A,justify:"space-between",align:"center",mb:0,bg:w||k||"transparent",children:[(0,r.jsxs)(x.k,{align:"center",children:[i?(0,r.jsx)(j.h,{"aria-label":"Toggle Sidebar",icon:(0,r.jsx)(d.J,{as:h.bUI}),onClick:i,variant:"ghost",size:"sm",mr:2}):null,a?(0,r.jsx)(M.Z,{href:"/",children:(0,r.jsx)(_.E,{src:a,alt:t||"",width:"21px",height:"21px",mr:2})}):null,(0,r.jsxs)(p.g,{justifyContent:"flex-start",alignItems:"flex-start",gap:"0 !important",children:[(0,r.jsx)(C.X,{size:"sm",color:E,mb:"0px !important",children:t}),n?(0,r.jsx)(u.x,{fontSize:"11px",fontWeight:"600",color:E,m:"0px !important",children:n}):null]})]}),b&&b.length>0?(0,r.jsxs)(x.k,{align:"center",children:[N.map(((e,t)=>{var n,a,i,o;return s&&"hide"!=s(e.id)?(0,r.jsxs)(f.xu,{position:"relative",display:"inline-block",opacity:["disable","loading"].includes(s(e.id))?"".concat(.2," !important"):1,className:["disable","loading"].includes(s(e.id))?"cursor-not-allowed-deep":"",onClick:()=>{l&&!["disable","loading"].includes(s(e.id))&&l(e.id)},children:[(0,r.jsxs)(f.xu,{pos:"relative",ml:2,children:[(0,r.jsx)(j.h,{title:e.title,"aria-label":e.title,icon:e.icon,colorScheme:E,variant:"ghost",size:"sm"},e.id),"loading"==s(e.id)?(0,r.jsx)(m.U,{justifyContent:"center",alignItems:"center",w:"100%",h:"100%",opacity:"1",fontSize:"xs",position:"absolute",top:"0",left:"0",m:"0px !important",p:"0px !important",children:(0,r.jsx)(P.Z,{type:P.Z.TYPES.tailSpin,color:(0,D.z)(c?null===(n=c(e.id))||void 0===n?void 0:n.status:null),width:"1.3rem",height:"1.3rem"})}):null]}),c&&((null===(a=c(e.id))||void 0===a?void 0:a.counts)||0)>0?(0,r.jsx)(S.C,{rounded:"7px",background:"".concat((0,D.z)(null===(i=c(e.id))||void 0===i?void 0:i.status)," !important"),color:"#fff",fontSize:"xs",position:"absolute",top:"5px",right:"5px",transform:"translate(50%, -50%)",children:(null===(o=c(e.id))||void 0===o?void 0:o.counts)||0}):null]},"menu_item_".concat(e.id)):null})),L.length>0?(0,r.jsxs)(I.v,{children:[(0,r.jsx)(T.j,{as:j.h,color:E,"aria-label":"Menu",icon:(0,r.jsx)(d.J,{as:h.EAB}),variant:"ghost",size:"sm"}),(0,r.jsx)(B.q,{bg:F,children:L.map(((e,t)=>{var n,a,i,o;return s&&"hide"!=s(e.id)?(0,r.jsx)(z.s,{title:e.title,"aria-label":e.title,opacity:["disable","loading"].includes(s(e.id))?"".concat(.2," !important"):1,className:["disable","loading"].includes(s(e.id))?"cursor-not-allowed-deep":"",bg:F,_hover:{bg:H},onClick:()=>{l&&"disable"!=s(e.id)&&l(e.id)},children:(0,r.jsxs)(m.U,{justifyContent:"space-between",alignItems:"center",w:"100%",children:[(0,r.jsxs)(m.U,{justifyContent:"flex-start",alignItems:"center",children:[e.icon?(0,r.jsx)(j.h,{"aria-label":e.title,icon:e.icon,variant:"ghost",size:"sm"}):null,(0,r.jsx)(u.x,{mb:"0 !important",ml:e.icon?2:0,color:E,children:e.title}),c&&((null===(n=c(e.id))||void 0===n?void 0:n.counts)||0)>0?(0,r.jsx)(S.C,{rounded:"7px",background:"".concat((0,D.z)(null===(a=c(e.id))||void 0===a?void 0:a.status)," !important"),color:"#fff",fontSize:"xs",transform:"translate(50%, -50%)",children:(null===(i=c(e.id))||void 0===i?void 0:i.counts)||0}):null]}),"loading"==s(e.id)?(0,r.jsx)(m.U,{justifyContent:"center",alignItems:"center",justifySelf:"flex-end",opacity:"1",cursor:"not-allowed !important",fontSize:"xs",m:"0px !important",p:"0px !important",children:(0,r.jsx)(P.Z,{type:P.Z.TYPES.tailSpin,color:(0,D.z)(c?null===(o=c(e.id))||void 0===o?void 0:o.status:null),width:"1.3rem",height:"1.3rem"})}):null]})},e.id):null}))})]}):null,(0,r.jsx)(y(),{id:"7c57b7a8495bd74",children:".cursor-not-allowed-deep.jsx-7c57b7a8495bd74{cursor:not-allowed}.cursor-not-allowed-deep.jsx-7c57b7a8495bd74 *.jsx-7c57b7a8495bd74{cursor:not-allowed}"})]}):null]})};var U=()=>{const e=(0,g.S)({base:!0,md:!1});return(0,r.jsx)(x.k,{w:"100%",h:"100%",px:2,bg:e?"white":"gray.50",p:4,flex:1,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:e?"lg":"none",rounded:e?"md":"none",children:(0,r.jsx)(u.x,{children:"Select a message to view"})})};var A=e=>{let{title:t,subTitle:n,chats:a,isLoadingChats:i,logoUrl:o,menu:l,singleChatMenu:s,onMenuItemClicked:c,noChatSelectedContent:d,children:u,headerBg:h,headerColor:k,headerHeight:y,mobileActionButton:j,noChatToListView:_,onChatTitle:C,renderChatItem:S,onMenuOptionState:I,onMenuOptionBadge:T,selectedMessage:B,setSelectedMessage:z}=e;const D=(0,g.S)({base:!0,md:!1}),M=(0,v.Z)("dividerColor.light","dividerColor.dark"),A=(0,v.Z)("cardBgHover.light","cardBgHover.dark"),N=(0,v.Z)("loadingColor.light","loadingColor.dark");return(0,r.jsxs)(x.k,{h:"100vh",maxH:"100vh",overflowY:"hidden",w:"100%",children:[D&&B?null:(0,r.jsxs)(f.xu,{overflowY:"auto",w:{base:"100%",md:"300px"},boxShadow:"lg",borderRightWidth:1,borderColor:M,bg:A,children:[(0,r.jsx)(E,{pos:"absolute",left:"0",top:"0",right:"0",w:{base:"100%",md:"300px"},borderRight:"1px",borderColor:M,title:t,subTitle:n,logoUrl:o,menu:l,bg:h||void 0,color:k||void 0,height:y,onMenuItemClicked:c,onMenuOptionState:I,onMenuOptionBadge:T}),(0,r.jsxs)(p.g,{p:4,spacing:2,align:"stretch",divider:(0,r.jsx)(b.c,{borderColor:M}),pt:"60px",children:[0==a.length?_:a.map((e=>S?S(e):(0,r.jsx)(w,{...e,selected:(null===B||void 0===B?void 0:B.id)===e.id,onClick:()=>z(e)},e.id))),i?(0,r.jsx)(m.U,{w:"100%",p:"15px",justifyContent:"center",alignItems:"center",children:(0,r.jsx)(P.Z,{type:P.Z.TYPES.threeDots,width:"2rem",height:"2rem",color:N})}):null]})]}),!D||B?(0,r.jsxs)(f.xu,{flex:1,overflow:"hidden",children:[B?(0,r.jsx)(E,{title:C&&B?C(B):null,onBackClicked:D?()=>{z(null)}:null,menu:s,bg:h||void 0,color:k||void 0,height:y,onMenuItemClicked:c,onMenuOptionState:I,onMenuOptionBadge:T}):null,(0,r.jsx)(f.xu,{w:"100%",h:"100%",overflow:"hidden",children:B?u:d||(0,r.jsx)(U,{})})]}):null,!B&&D&&j?j:null]})},N=n(6455),Z=n.n(N),L=n(1163);var O=e=>{let{title:t,description:n,icon:a,onActionButtonClicked:i}=e;const l=(0,g.S)({base:!0,md:!1}),s=(0,o.useMemo)((()=>i?(0,r.jsxs)(c.z,{size:"lg",borderRadius:"full",colorScheme:"teal",zIndex:"sticky",onClick:()=>{i()},children:[(0,r.jsx)(d.J,{as:h.wEH,mr:2}),(0,r.jsx)(u.x,{mb:"0 !important",children:"Create Now"})]}):null),[i]);return(0,r.jsxs)(p.g,{w:"100%",h:"100%",px:2,bg:(0,v.Z)("cardBg.light","cardBg.dark"),p:4,flex:1,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:l?"lg":"none",rounded:l?"md":"none",children:[(0,r.jsx)(f.xu,{w:{base:"5rem",md:"10rem"},children:a}),(0,r.jsx)(u.x,{fontSize:"3rem",children:t}),(0,r.jsx)(u.x,{textAlign:"center",maxW:"600px",children:n}),s]})};var R=e=>{let{id:t,selected:n,onClick:a,itemName:i,itemTime:o,itemDescription:l,itemBadge:s}=e;return(0,r.jsxs)(f.xu,{w:"100%",overflowX:"hidden",p:2,bg:n?(0,v.Z)("cardBg.light","cardBg.dark"):"transparent",_hover:{bg:(0,v.Z)("cardBg.light","cardBg.dark"),cursor:"pointer"},onClick:a,children:[(0,r.jsx)(u.x,{mb:"0px !important",fontWeight:n?"bold":"normal",children:i}),(0,r.jsxs)(f.xu,{children:[(0,r.jsx)(u.x,{mb:"0px !important",color:"gray.500",noOfLines:{base:1,md:2},children:l}),(0,r.jsxs)(m.U,{justifyContent:"space-between",children:[(0,r.jsx)(S.C,{children:s}),(0,r.jsx)(u.x,{mb:"0px !important",color:"gray.500",fontStyle:"italic",children:o})]})]})]},t)},F=n(3754),H=n(4926);const W=1,Y=2,K=3,X=4,J=5,G=6,V=7,$=8,q=9,Q=10,ee=11,te=12,ne=13,re=14,ae=15,ie=[{id:W,title:"Create New",icon:(0,r.jsx)(h.wEH,{}),showAlways:!0,onlyDesktop:!0},{id:Y,title:"Track/Fund Wallet",icon:(0,r.jsx)(h.OZg,{}),showAlways:!0},{id:K,title:"Softbaker Home",icon:(0,r.jsx)(h.xng,{})},{id:J,title:"How to Use",icon:(0,r.jsx)(h.KoQ,{})},{id:ne,title:"Softbaker Tools",icon:(0,r.jsx)(h.CP_,{})},{id:X,title:"Contact US",icon:(0,r.jsx)(h.SRX,{})},{id:te,title:"Sign In",icon:(0,r.jsx)(h.IPB,{})},{id:G,title:"Sign Out",icon:(0,r.jsx)(h.fHX,{})},{id:re,title:"Switch Theme",icon:(0,r.jsx)(h.TLr,{})},{id:ae,title:"Switch Theme",icon:(0,r.jsx)(h.Mei,{})}],oe=[{id:ee,title:"Save Update",icon:(0,r.jsx)(h.TvB,{}),showAlways:!0},{id:q,title:"Undo",icon:(0,r.jsx)(h.wXW,{}),showAlways:!0},{id:Q,title:"Redo",icon:(0,r.jsx)(h.WLu,{}),showAlways:!0},{id:V,title:"Copy as New",icon:(0,r.jsx)(h.esY,{}),showAlways:!1},{id:$,title:"Delete",icon:(0,r.jsx)(h.Xm5,{}),showAlways:!1}];var le=e=>{let{tool:t,form:n,historyProps:i,dataSourceProps:g,savingData:x,setSavingData:f,signInMessage:b,signUpMessage:w,createButtonText:k,noChatToListMessage:y,handlePublishData:j,getItemName:_,getItemTime:C,getItemDescription:S,getItemBadge:I,onOverWriteCopiedData:T}=e;const B=(0,l.p)(),z=(0,L.useRouter)(),{colorMode:D,toggleColorMode:P}=(0,s.If)(),{auth:M,user:E,signIn:U,signOut:N,showWallet:le,showTools:se,showTutorial:ce,balanceInUsd:de,contact_link:ue}=(0,H.P)(),{addHistory:pe,clearHistory:me,undo:he,redo:ge,getCurrentTimeline:xe,getCurrentTimelineData:fe}=i,{dataList:be,newData:ve,selectedIsNew:we,loadingData:ke,dataError:ye,selectedData:je,setSelectedData:_e,initData:Ce,updateNewData:Se,deleteData:Ie}=g;(0,o.useEffect)((()=>{ye&&B({description:ye,status:"error",duration:4e3,isClosable:!0})}),[ye]);const Te=()=>{Ce().then((e=>{_e(null),console.log("handleCreateData: ",e),_e(e)})).catch((e=>{Z().fire({icon:"error",text:e.message})}))},Be=(0,o.useMemo)((()=>(0,r.jsxs)(c.z,{pos:"fixed",bottom:4,right:4,size:"lg",borderRadius:"full",colorScheme:"teal",zIndex:"sticky",onClick:()=>{Te()},children:[(0,r.jsx)(d.J,{as:h.wEH,mr:2}),(0,r.jsx)(u.x,{mb:"0 !important",children:k})]})),[Te]),ze=(0,v.Z)("cardBg.light","cardBg.dark"),De=(0,o.useMemo)((()=>(0,r.jsxs)(p.g,{w:"100%",h:"100%",px:2,bg:ze,p:4,flex:1,display:"flex",alignItems:"center",justifyContent:"center",children:[(0,r.jsx)(m.U,{w:{base:"5rem",md:"10rem"},justifyContent:"center",alignItems:"flex-start",children:(0,r.jsx)(h.AFA,{size:"3rem"})}),(0,r.jsx)(u.x,{textAlign:"center",children:y})]})),[Te,ze]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(A,{isLoadingChats:ke,title:t.name,logoUrl:"/logo.png",subTitle:E?"Balance: $".concat((0,F.xz)(de)):null,headerBg:(0,v.Z)("navbarBg.light","navbarBg.dark"),headerHeight:"55px",menu:ie,singleChatMenu:oe,onMenuItemClicked:e=>{if(e!=W)if(e!=Y)if(e!=K)if(e!=ne)if(e!=J)if(e!=X)if(e!=te)if(e!=G)if(e!=re&&e!=ae){if(e==V&&je){const e=T({...je});Se(e).then((e=>{_e(e);xe(a.XA)||(e.id=a.XA,pe(e.id,e))})).catch((e=>{Z().fire({icon:"error",text:e.message})}))}if(e==ee&&j().then((()=>{f(!1),B({description:"Successfully saved.",status:"success",duration:4e3,isClosable:!0})})).catch((e=>{f(!1),((null===e||void 0===e?void 0:e.message)||"").length>0&&Z().fire({icon:"error",title:"Failed to save. Try again later.",text:e.message})})),e==q&&je){const e=he(je.id);_e(e)}if(e==Q&&je){const e=ge(je.id);_e(e)}if(e==$){if(!je)return;we()?(me(je.id),Ie(je).catch((e=>{Z().fire({icon:"error",text:e.message})}))):Z().fire({icon:"warning",text:"Are you sure you want to permanently delete this already saved shipment?",cancelButtonText:"No",confirmButtonText:"Yes",showCancelButton:!0}).then((e=>{e.isConfirmed&&(me(je.id),Ie(je).then((()=>{_e(null)})).catch((e=>{Z().fire({icon:"error",text:e.message})})))}))}}else P();else M&&Z().fire({icon:"warning",text:"Are you sure you want to sign out?",confirmButtonText:"Yes",cancelButtonText:"No",showCancelButton:!0}).then((e=>{e.isConfirmed&&N().then((()=>{B({description:"You're now signed out",status:"success",duration:4e3,isClosable:!0})})).catch((()=>{B({description:"Failed to signout",status:"error",duration:4e3,isClosable:!0})}))}));else U(b,w).then((e=>{})).catch((e=>{((null===e||void 0===e?void 0:e.message)||"").length>0&&Z().fire({icon:"error",title:"Authentication Error",text:e.message})}));else ue&&(location.href=ue);else ce(t.id);else se(t.id);else z.push("/");else le(a.Jo);else Te()},noChatToListView:De,noChatSelectedContent:(0,r.jsx)(O,{title:t.name,description:t.description,icon:t.icon,dataSize:be.length,isLoading:ke,onActionButtonClicked:Te}),onChatTitle:e=>we()?"New...":(0,F.Xm)(e.id,4,4),renderChatItem:e=>(0,r.jsx)(R,{...je&&je.id==e.id?je:e,selected:(null===je||void 0===je?void 0:je.id)==e.id,onClick:()=>{const t=xe(e.id);t?_e(t):(_e(e),pe(e.id,e))},itemBadge:I(e),itemDescription:S(e),itemName:_(e),itemTime:C(e)},e.id),onMenuOptionState:e=>{if(e==V&&we())return"hide";const t=fe((null===je||void 0===je?void 0:je.id)||"none");if(e==ee){if(we())return"hide";if(x)return"loading";if(t.totalUpdates<2||x)return"disable"}return(e!=q||t.hasUndo)&&(e!=Q||t.hasRedo)?e==te&&E?"hide":(e!=G||E)&&(e!=X||ue)&&(e!=Y||E)?e==re&&"dark"===D||e==ae&&"light"===D?"hide":"show":"hide":"disable"},onMenuOptionBadge:e=>{const t=fe((null===je||void 0===je?void 0:je.id)||"none");if(!we()&&e==ee&&t.totalUpdates>1){return{counts:t.totalUpdates-1,status:"info"}}return null},chats:[...ve?[ve]:[],...be],selectedMessage:je,setSelectedMessage:e=>{_e(e)},mobileActionButton:Be,children:n})})},se=n(5555);const ce=e=>{if(e.id==a.XA)return"- / - / -";{const t=(0,se.Ft)(e.updatedAt);return(null===t||void 0===t?void 0:t.toDateString)?t.toDateString():(0,r.jsx)(P.Z,{type:P.Z.TYPES.threeDots,width:"1rem",height:"1rem",color:"grey"})}};var de=e=>{let{historyProps:t,dataSourceProps:n,dataHandlerProps:o,tool:l,form:s,publishTexts:c,getItemName:d,getItemBadge:u,getItemDescription:p,onOverWriteCopiedData:m}=e;const{savingData:h,setSavingData:g,handleUpdateData:x,handlePublishData:f}=o;return(0,r.jsx)(i.Z,{title:l.name,description:l.description,image:"".concat(a.Le,"/logo.png"),bareBoneOnly:!0,children:(0,r.jsx)(le,{tool:l,form:s,signInMessage:c.signInMessage,signUpMessage:c.signUpMessage,createButtonText:c.createButtonText,noChatToListMessage:c.noChatToListMessage,historyProps:t,dataSourceProps:n,savingData:h,setSavingData:g,handleUpdateData:x,handlePublishData:f,getItemBadge:u,getItemDescription:p,getItemTime:ce,getItemName:d,onOverWriteCopiedData:m})})}},1303:function(e,t,n){var r=n(7294);t.Z=(e,t,n)=>{const[a,i]=(0,r.useState)(),o=t=>({waitTime:0,checker:t=>new Promise(((n,r)=>{const a=e(t);a?(i(a),n(!1)):(i(""),n(!0))}))}),l={error:a,checkHandler:o};return t&&(l[t]=a),n&&(l[n]=o),l}},7918:function(e,t,n){var r=n(5893),a=n(7747),i=n(5161);t.Z=e=>{let{as:t,children:n,...o}=e;return(0,r.jsx)(a.xu,{pos:"relative",w:"100%",bg:(0,i.ff)("cardBg.light","cardBg.dark"),borderRadius:"20px",boxShadow:"0 0.5rem 1rem rgb(0 0 0 / 15%) !important",p:"1rem",...o,children:n})}},419:function(e,t,n){var r=n(5893),a=n(7963),i=n(3978),o=n(1293),l=n(7747),s=n(7294),c=n(5154);const d={text:0,address:1,refCode:2,link:3,shillText:4,refLink:5,phone:6},u=e=>{let t;switch(e){case d.address:t="Address copied";break;case d.refCode:t="Referral code copy copied";break;case d.refLink:t="Referral link copied";break;case d.shillText:t="Promotion text copied";break;case d.phone:t="Phone number copied copied";break;default:t="Text copied"}return t},p=e=>{let{as:t,textToCopy:n,children:d,type:p,copyType:m,maxChars:h,...g}=e;p=m||p;const x=(0,a.p)(),[f,b]=(0,s.useState)("Hello world"),{hasCopied:v,onCopy:w}=(0,i.V)(n||d||"");return(0,s.useEffect)((()=>{v&&x({description:u(p),duration:3e3,status:"success",isClosable:!0})}),[v]),(0,r.jsxs)(l.xu,{as:t||"span",cursor:"pointer",onClick:w,...g,children:[((e,t)=>{if(!t||e.length<=t)return e;var n=Math.round(t/2);return(0,r.jsxs)(o.x,{as:"span",children:[e.substring(0,n),"\u2026",e.slice(-1*(t-n))]})})(d||"",h||0)," ",d&&0!=d.length?(0,r.jsx)(l.xu,{as:"span",children:(0,r.jsx)(l.xu,{as:c.esY,display:"inline-block"})}):null]})};p.Types=d,t.Z=p},5461:function(e,t,n){var r=n(5893),a=n(7294),i=n(7747),o=n(4292),l=n(1293),s=n(6918);t.Z=e=>{let{outlined:t,as:n,children:c,onClick:d,isActive:u,leftIcon:p,rightIcon:m,disabled:h,textAlign:g,textTransform:x,status:f,...b}=e;const v=(0,s.Z)("pageBg.light","pageBg.dark"),w=(0,s.Z)("colorAccent.light","colorAccent.dark"),[k,y]=(0,a.useState)();(0,a.useEffect)((()=>{switch(f){case"error":y("#e53e3e");break;case"info":y("#3182ce");break;case"warning":y("#dd6b20");break;case"disabled":default:y("#dfdfdf");break;case"success":case"loading":y("#38a169")}}),[f]);const j=()=>{if(h)return"not-allowed";switch(f){case"disabled":return"not-allowed";case"loading":return"wait";default:return"pointer"}};return(0,r.jsx)(i.xu,{as:n||"button",borderRadius:"5px",p:"5px",bg:t?"transparent":k||(u?w:v),borderColor:"".concat(k||(u?w:v)," !important"),border:t?"1px":"none",color:t?"".concat(k||(u?w:v)," !important"):k?"#fff":"inherit",cursor:h?"not-allowed":j(),minH:"30px",minW:"60px",display:"flex",justifyContent:"center",alignItems:"center",onClick:h?()=>{}:d,_hover:{opacity:"pointer"==j()?"0.7":"0.4"},opacity:"pointer"==j()?"1":"0.4",...b,children:(0,r.jsxs)(o.U,{justifyContent:"center",alignItems:"center",w:"100%",children:[p?(0,r.jsx)(i.xu,{mx:"7px !important",children:p}):null,(0,r.jsx)(l.x,{as:"div",w:"100%",textAlign:g||"center",textTransform:x||"capitalize",children:c}),m?(0,r.jsx)(i.xu,{mx:"7px !important",children:m}):null]})})}},3658:function(e,t,n){n.d(t,{Z:function(){return R}});var r=n(5893),a=n(1857),i=n.n(a),o=n(5970),l=n(5418),s=n(2140),c=n(2735),d=n(1731),u=n(3090),p=n(4292),m=n(7747),h=n(1293),g=n(7169),x=n(8772),f=n(3717),b=n(1607),v=n(5281),w=n(4259),k=n(8783),y=n(6105),j=n(3754),_=n(1740);n(473);function C(e){let{}=e;return(0,r.jsx)(i(),{id:"906c1ef7a995d500",children:".react-datetime-picker__wrapper{width:auto!important}.react-datetime-picker{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;position:relative;width:100%}.react-datetime-picker,.react-datetime-picker *,.react-datetime-picker *:before,.react-datetime-picker *:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.react-datetime-picker--disabled{background-color:#f0f0f0;color:#6d6d6d}.react-datetime-picker__wrapper{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:100%;min-width:0px;outline:2px solid transparent;outline-offset:2px;position:relative;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;-webkit-transition-property:var(--chakra-transition-property-common);-moz-transition-timing-function:var(--chakra-transition-property-common);-o-transition-timing-function:var(--chakra-transition-property-common);transition-property:var(--chakra-transition-property-common);-webkit-transition-duration:var(--chakra-transition-duration-normal);-moz-transition-duration:var(--chakra-transition-duration-normal);-o-transition-duration:var(--chakra-transition-duration-normal);transition-duration:var(--chakra-transition-duration-normal);font-size:var(--chakra-fontSizes-md);-webkit-padding-start:var(--chakra-space-4);-moz-padding-start:var(--chakra-space-4);padding-inline-start:var(--chakra-space-4);-webkit-padding-end:var(--chakra-space-4);-moz-padding-end:var(--chakra-space-4);padding-inline-end:var(--chakra-space-4);height:var(--chakra-sizes-10);-webkit-border-radius:var(--chakra-radii-md);-moz-border-radius:var(--chakra-radii-md);border-radius:var(--chakra-radii-md);border:1px solid;border-color:inherit;background:inherit}.react-datetime-picker__inputGroup{min-width:-webkit-calc(4px + (4px*3) + .54em*6 + .217em*2);min-width:-moz-calc(4px + (4px*3) + .54em*6 + .217em*2);min-width:calc(4px + (4px*3) + .54em*6 + .217em*2);-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:0 2px}.react-datetime-picker__inputGroup__divider{padding:1px 0;white-space:pre}.react-datetime-picker__inputGroup__input{min-width:.54em;height:-webkit-calc(100% - 2px);height:-moz-calc(100% - 2px);height:calc(100% - 2px);position:relative;padding:1px;border:0;background:none;font:inherit;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-moz-appearance:textfield}.react-datetime-picker__inputGroup__input::-webkit-outer-spin-button,.react-datetime-picker__inputGroup__input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.react-datetime-picker__inputGroup__input:invalid{background:rgba(255,0,0,.1)}.react-datetime-picker__inputGroup__input--hasLeadingZero{margin-left:-.54em;padding-left:-webkit-calc(1px + .54em);padding-left:-moz-calc(1px + .54em);padding-left:calc(1px + .54em)}.react-datetime-picker__inputGroup__amPm{font:inherit;-moz-appearance:menulist}.react-datetime-picker__button{border:0;background:transparent;padding:4px 6px}.react-datetime-picker__button:enabled{cursor:pointer}.react-datetime-picker__button:enabled:hover .react-datetime-picker__button__icon,.react-datetime-picker__button:enabled:focus .react-datetime-picker__button__icon{stroke:#0078d7}.react-datetime-picker__button:disabled .react-datetime-picker__button__icon{stroke:#6d6d6d}.react-datetime-picker__button svg{display:inherit}.react-datetime-picker__calendar,.react-datetime-picker__clock{position:absolute;top:100%;left:0;z-index:1}.react-datetime-picker__calendar--closed,.react-datetime-picker__clock--closed{display:none}.react-datetime-picker__calendar{width:350px;max-width:100vw}.react-datetime-picker__calendar .react-calendar{border-width:thin}.react-datetime-picker__clock{width:200px;height:200px;max-width:100vw;padding:25px;-webkit-border-radius:var(--chakra-radii-md);-moz-border-radius:var(--chakra-radii-md);border-radius:var(--chakra-radii-md);border:1px solid;border-color:inherit}.react-calendar{width:350px;max-width:100%;font-family:Arial,Helvetica,sans-serif;line-height:1.125em;-webkit-border-radius:var(--chakra-radii-md);-moz-border-radius:var(--chakra-radii-md);border-radius:var(--chakra-radii-md);border:1px solid;border-color:inherit}.chakra-ui-light .react-calendar,.chakra-ui-light .react-datetime-picker__clock{background:rgb(255,255,255)!important}.chakra-ui-dark .react-calendar,.chakra-ui-dark .react-datetime-picker__clock{background:rgb(39,38,44)!important}.react-calendar--doubleView{width:700px}.react-calendar--doubleView .react-calendar__viewContainer{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;margin:-.5em}.react-calendar--doubleView .react-calendar__viewContainer>*{width:50%;margin:.5em}.react-calendar,.react-calendar *,.react-calendar *:before,.react-calendar *:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.react-calendar button{margin:0;border:0;outline:none}.react-calendar button:enabled:hover{cursor:pointer}.react-calendar__navigation{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:44px;margin-bottom:1em}.react-calendar__navigation button{min-width:44px;background:none}.react-calendar__navigation button:disabled{background-color:#f0f0f0}.react-calendar__navigation button:enabled:hover,.react-calendar__navigation button:enabled:focus{background-color:#e6e6e6}.react-calendar__month-view__weekdays{text-align:center;text-transform:uppercase;font-weight:bold;font-size:.75em}.react-calendar__month-view__weekdays__weekday{padding:.5em}.react-calendar__month-view__weekNumbers .react-calendar__tile{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;font-size:.75em;font-weight:bold}.react-calendar__month-view__days__day--weekend{color:#d10000}.react-calendar__month-view__days__day--neighboringMonth{color:#757575}.react-calendar__year-view .react-calendar__tile,.react-calendar__decade-view .react-calendar__tile,.react-calendar__century-view .react-calendar__tile{padding:2em .5em}.react-calendar__tile{max-width:100%;padding:10px 6.6667px;background:none;text-align:center;line-height:16px}.react-calendar__tile:disabled{background-color:#f0f0f0}.react-calendar__tile:enabled:hover,.react-calendar__tile:enabled:focus{background-color:#e6e6e6}.react-calendar__tile--now{background:#ffff76}.react-calendar__tile--now:enabled:hover,.react-calendar__tile--now:enabled:focus{background:#ffffa9}.react-calendar__tile--hasActive{background:#76baff}.react-calendar__tile--hasActive:enabled:hover,.react-calendar__tile--hasActive:enabled:focus{background:#a9d4ff}.react-calendar__tile--active{background:#006edc;color:white}.react-calendar__tile--active:enabled:hover,.react-calendar__tile--active:enabled:focus{background:#1087ff}.react-calendar--selectRange .react-calendar__tile--hover{background-color:#e6e6e6}.react-clock{display:block!important;position:relative}.react-clock,.react-clock *,.react-clock *:before,.react-clock *:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.react-clock__face{position:absolute;top:0;bottom:0;left:0;right:0;border:1px solid black;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.react-clock__hand{position:absolute;top:0;bottom:0;left:50%;right:50%}.react-clock__hand__body{position:absolute;background-color:black;-webkit-transform:translatex(-50%);-moz-transform:translatex(-50%);-ms-transform:translatex(-50%);-o-transform:translatex(-50%);transform:translatex(-50%)}.react-clock__mark{position:absolute;top:0;bottom:0;left:50%;right:50%}.react-clock__mark__body{position:absolute;background-color:black;-webkit-transform:translatex(-50%);-moz-transform:translatex(-50%);-ms-transform:translatex(-50%);-o-transform:translatex(-50%);transform:translatex(-50%)}.react-clock__mark__number{position:absolute;left:-40px;width:80px;text-align:center}.react-clock__second-hand__body{background-color:red}"})}var S=n(6308),I=n(7294),T=n(5154),B=n(6455),z=n.n(B);var D=e=>{let{children:t,as:n,info:a,textTransform:i,...o}=e;return(0,r.jsxs)(p.U,{flexWrap:"wrap",justifyContent:"flex-start",alignItems:"center",...o,children:[(0,r.jsx)(h.x,{mx:"0px !important",mb:"0px !important",as:n||"div",textTransform:i||"capitalize",children:t}),a?(0,r.jsx)(m.xu,{cursor:"pointer",marginInlineStart:"0px !important",marginInlineEnd:"0px !important",p:"3px",onClick:()=>{return e=a,void z().fire({icon:"info",title:t||"",text:e,confirmButtonText:"Ok",showCancelButton:!1});var e},children:(0,r.jsx)(T.DAO,{})}):null]})},P=n(6918),M=n(3311),E=n(6691);const U=["point_of_interest","natural_feature","park","airport","premise","neighborhood"];var A=e=>{let{apiKey:t,mapToSearchRatio:n=70/30,onChange:a,onBlur:o,searchPlaceholder:l,twoDigitCountryCode:s,defaultLatlng:c={lat:6.4474,lng:3.3903},value:d,geotype:u="establishment",errorMessage:p,...g}=e;const x=new M.aN({apiKey:t,version:"weekly",libraries:["places"]}),f=(0,I.useRef)(),[b,v]=(0,I.useState)(),[w,y]=(0,I.useState)(),[j,_]=(0,I.useState)(),[C,S]=(0,I.useState)(),T=(e,t)=>{const n={center:new e.maps.LatLng(t.lat,t.lng),zoom:13,mapTypeControl:!1},r={fields:["formatted_address","geometry","name"],strictBounds:!1,types:[u]};s&&(r.componentRestrictions={country:s.toLowerCase()});const i=new e.maps.Map(document.getElementById("map"),n),o=new e.maps.places.Autocomplete(f.current,r);o.bindTo("bounds",i);const l=new e.maps.InfoWindow,c=document.getElementById("infowindow-content");l.setContent(c);const d=new e.maps.Marker({map:i,anchorPoint:new e.maps.Point(0,-29),position:new e.maps.LatLng(t.lat,t.lng),draggable:!0}),p=e=>{if(e){console.log("Place:updatePlace",e),e.geometry.viewport?i.fitBounds(e.geometry.viewport):(i.setCenter(e.geometry.location),i.setZoom(18));const t=c.children;t["place-name"].textContent=e.name,t["place-address"].textContent=e.formatted_address,l.open(i,d),_(e),a&&a(e)}},m=new e.maps.Geocoder,h=(t,n,r)=>{if(console.log("Place:infowindow","marker",d,"map",i),d.setPosition(t),d.setVisible(!0),i.setCenter(t),n||!r&&!t)p(n);else{const n=r?{placeId:r}:{latLng:t};m.geocode(n,((t,n)=>{if(n==e.maps.GeocoderStatus.OK&&t){console.log("Place:onLocationSelected.results",t);var r=t[0];p((e=>{var t;if(!e)return;var n="";for(const a of e.address_components)for(const e of a.types)if(U.includes(e)){n=a.long_name;break}const r={name:n,formatted_address:null===e||void 0===e?void 0:e.formatted_address,geometry:{location:{lat:()=>{var t,n;return null===e||void 0===e||null===(t=e.geometry)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.lat},lng:()=>{var t,n;return null===e||void 0===e||null===(t=e.geometry)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.lng}},viewport:null===e||void 0===e||null===(t=e.geometry)||void 0===t?void 0:t.viewport}};return r})(r||undefined))}}))}};o.addListener("place_changed",(async()=>{l.close(),d.setVisible(!1);const e=await o.getPlace();e.geometry&&e.geometry.location&&(h(e.geometry.location,e),console.log("Place:autocomplete",e,"geo.lat",e.geometry.location.lat(),"geo.lng",e.geometry.location.lng()))})),e.maps.event.addListener(i,"click",(e=>{h(e.latLng),console.log("Place:mapClick",e)})),d.addListener("click",(e=>{h(e.latLng),console.log("Place:markerClick",e)})),e.maps.event.addListenerOnce(i,"tilesloaded",(()=>{console.log("mapLoaded:",!0),v(!0)}))};(0,I.useEffect)((()=>{w||x.load().then((e=>{if(d){const t={lat:d.geometry.location.lat(),lng:d.geometry.location.lng()};T(e,t)}else new Promise(((e,t)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((t=>{e({lat:t.coords.latitude,lng:t.coords.longitude})}),(e=>{t(e)})):t("Geolocation is not supported by your browser.")})).then((t=>{T(e,t)})).catch((t=>{T(e,c)}))})).catch((e=>{console.log("loadCalled:error",e.message)}))}),[]);const B=(e,t)=>100*(t?e:1)/(e+1),[z,D]=(0,I.useState)("");return(0,r.jsxs)(m.xu,{width:"100%",h:"100%",pb:"2rem",...g,children:[(0,r.jsxs)(m.xu,{w:"100%",h:"".concat(B(n,!0),"%"),position:"relative",children:[(0,r.jsxs)(m.xu,{w:"100%",h:"100%",children:[(0,r.jsx)(m.xu,{id:"map",w:"100%",h:"100%",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"}),(0,r.jsxs)(m.xu,{id:"infowindow-content",display:"inline",children:[(0,r.jsx)(h.x,{as:"span",id:"place-name",fontWeight:"700"}),"\xa0",(0,r.jsx)(h.x,{as:"span",id:"place-address"})]})]}),(0,r.jsxs)(k.g,{display:b?"none":"flex",w:"100%",h:"100%",bg:"rgba(0,0,0,.4)",position:"absolute",left:"0",top:"0",right:"0",bottom:"0",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(E.Z,{type:E.Z.TYPES.grid,color:(0,P.Z)("colorAccent.light","colorAccent.dark"),size:"50px"}),(0,r.jsx)(h.x,{as:"div",mt:"1rem",w:"100%",fontStyle:"italic",textAlign:"center",children:"Loading map..."})]})]}),(0,r.jsxs)(m.xu,{w:"100%",h:"".concat(B(n,!1),"%"),children:[(0,r.jsx)(R,{w:"100%",inputRef:f,disabled:!b,mt:"1rem",title:"Find a place",type:R.TYPES.text,placeholder:l||"Enter location name",value:z,onChange:e=>{D(e)},errorMessage:p,helperText:j?(0,r.jsxs)(m.xu,{display:"inline",children:[(0,r.jsx)(h.x,{as:"span",fontWeight:"700",children:j.name||(null===d||void 0===d?void 0:d.name)}),"\xa0",(0,r.jsx)(h.x,{as:"span",children:j.formatted_address||(null===d||void 0===d?void 0:d.formatted_address)})]}):null,mx:"0rem !important",maxWidth:"400px"}),(0,r.jsx)(i(),{id:"698c62f66fd45945",children:".pac-container{z-index:9999!important}"})]})]})};const N=(e,t)=>{if(!e||!t||e.length!=t.length)return!1;if(e===t)return!0;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!N(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0},Z=n(5455),L={text:"text",email:"email",number:"number",range:"range",date:"date",phone:"phone",password:"password",select:"select",select_tree:"select_tree",textarea:"textarea",checkbox:"checkbox",checklist:"checklist",radio:"radio",none:"none",location:"location",price:"price"};const O=e=>{let{id:t,key:n,title:a,name:B,type:z,locale:P,value:M,onChange:E,onFocus:U,onCheckInfo:R,onKeyDown:F,errorMessage:H,helperText:W,info:Y,placeholder:K,textTransform:X,options:J,onOptionValue:G,onOptionName:V,defaultCountry:$,phoneSelectBg:q,phoneSelectColor:Q,numberDecimals:ee=2,hasNegOverflow:te,numberUnit:ne,rangeMinPlaceholder:re,minTitle:ae,rangeMaxPlaceholder:ie,maxTitle:oe,disabled:le,maxTextLimit:se,direction:ce,resize:de,disableCalendar:ue,disableClock:pe,dateFormat:me,iconLeft:he,iconRight:ge,apiKey:xe,mapToSearchRatio:fe,twoDigitCountryCode:be,inputRef:ve,defaultLatlng:we,geotype:ke,...ye}=e;const[je,_e]=(0,I.useState)(),[Ce,Se]=(0,I.useState)([]),Ie=e=>{var t=function(e){if(!e)return null;const t=/\D+/g,n=(e="".concat(e)).split("."),r=n[0].replace(t,""),a=n.length>1?n[1].replace(t,""):null;if(r&&r.length>0){var i=r;return a&&(i+=".".concat(a)),Number(i)}return null}(e);return t||0};(0,I.useEffect)((()=>{if(z==L.number&&M&&a&&!Ce.includes(a)){Se([...Ce,a]);const e=Ie(M);!le&&E&&E(e)}}),[M,B]);const Te=e=>{const t=e.target.value;console.log("changeNumber:",t);const n=Ie(t);console.log("changeNumber:2",n),!le&&E&&E(n)},Be=()=>{const e=1/Math.pow(10,ee||0),t=Ie(M)+e;!le&&E&&E(t)},ze=()=>{const e=1/Math.pow(10,ee||0);var t=Ie(M)-e;t<0&&!te&&(t=0);!le&&E&&E(t)},De=(e,t)=>{if(isNaN(e)){if(!isNaN(t)){(n=parseFloat("".concat(t)))<0&&!te&&(n=0);const e={min:(null===M||void 0===M?void 0:M.min)||0,max:n};!le&&E&&E(e)}}else{var n;(n=parseFloat("".concat(e)))<0&&!te&&(n=0);const t={min:n,max:(null===M||void 0===M?void 0:M.max)||0};!le&&E&&E(t)}},[Pe,Me]=(0,I.useState)({});(0,I.useEffect)((()=>{if(z==L.phone){const e=Z.customList("countryCode","{currencyCode}");Me(e)}}),[z]);const[Ee,Ue]=(0,I.useState)([]);(0,I.useEffect)((()=>{Array.isArray(J)&&0==Ee.length&&Ue(J)}),[J,M]);const[Ae,Ne]=(0,I.useState)(!1),Ze=(e,t,n,r)=>{n&&(Ae||(Ne(!0),setTimeout((()=>{const r=()=>{const a=e();n(a).then((()=>{t(a)?Ne(!1):r()})).catch((e=>{Ne(!1)}))};r()}),r||0)))};return(0,r.jsxs)(o.NI,{isInvalid:!(0,j.N4)(H)&&z!=L.location,opacity:le?"0.3":"1",...ye,children:[a&&z!=L.checkbox?(0,j.N4)(Y)?(0,r.jsx)(l.l,{textTransform:X||"capitalize",children:a}):(0,r.jsx)(D,{as:l.l,info:Y,textTransform:X||"capitalize",children:a}):null,z==L.date?(0,r.jsxs)(s.B,{zIndex:"1",className:le?"cursor-not-allowed-deep":"",children:[he?(0,r.jsx)(c.Z,{children:he}):null,(0,r.jsx)(_.Z,{ref:ve,id:t,locale:P,value:M,onChange:e=>{if(!le&&E&&E(e),!le&&R){const{checker:t,waitTime:n}=R(e);n>0&&Ze((()=>e),(t=>t.toISOString()===e.toISOString()),t,n)}},onBlur:e=>{if(!le&&R){const{checker:t,waitTime:n}=R(e);n||Ze((()=>e),(t=>t.toISOString()===e.toISOString()),t,n)}},disabled:le,disableCalendar:ue,disableClock:pe,dateFormat:me},n),(0,r.jsx)(C,{}),ge?(0,r.jsx)(c.x,{children:ge}):null]}):z==L.select?(0,r.jsxs)(s.B,{children:[he?(0,r.jsx)(c.Z,{children:he}):null,(0,r.jsx)(d.P,{id:t,onFocus:U,disabled:le,ref:ve,name:B,value:M,placeholder:K||"",onChange:e=>{!le&&E&&E(e.target.value)},errorBorderColor:"red.300",isInvalid:!(0,j.N4)(H),children:(J||[]).map(((e,t)=>G&&V?(0,r.jsx)("option",{value:G(e,t),className:"jsx-10de4c31ea107ec2",children:V(e,t)},t):null))},n),ge?(0,r.jsx)(c.x,{children:ge}):null]}):z==L.phone?(0,r.jsxs)(s.B,{children:[he?(0,r.jsx)(c.Z,{children:he}):null,(0,r.jsx)(u.I,{id:t,onFocus:U,disabled:le,ref:ve,as:S.ZP,defaultCountry:$||"US",background:"transparent !important",_focusVisible:{outline:"none !important",border:"none !important"},placeholder:K||"",value:null===M||void 0===M?void 0:M.number,onKeyDown:F,onChange:e=>{const t=()=>{const t=(0,S.SR)("".concat(e));return{number:"".concat(e),countryCode:null===t||void 0===t?void 0:t.country,currencyCode:(null===t||void 0===t?void 0:t.country)?Pe[(null===t||void 0===t?void 0:t.country)||""]:null,dialingCode:null===t||void 0===t?void 0:t.countryCallingCode}},n=t();if(!le&&E&&E(n),!le&&R){const{checker:n,waitTime:r}=R(t());r>0&&Ze(t,(t=>t.number===e.target.value),n,r)}},onBlur:e=>{const t=()=>{const t=(0,S.SR)("".concat(e));return{number:"".concat(e),countryCode:null===t||void 0===t?void 0:t.country,currencyCode:(null===t||void 0===t?void 0:t.country)?Pe[(null===t||void 0===t?void 0:t.country)||""]:null,dialingCode:null===t||void 0===t?void 0:t.countryCallingCode}};if(!le&&R){const{checker:n,waitTime:r}=R(e.target.value);r||Ze(t,(t=>t.number===e.target.value),n,r)}}},n),(0,r.jsx)("style",{children:"\n              .PhoneInputCountrySelect {\n                background: ".concat(q||"#000"," !important;\n                color: ").concat(Q||"#fff","\n              }\n              .PhoneInputInput {\n                background: transparent !important;\n                border-radius: 3px !important;\n              }")}),ge?(0,r.jsx)(c.x,{children:ge}):null]}):z==L.password?(0,r.jsxs)(s.B,{children:[he?(0,r.jsx)(c.Z,{children:he}):null,(0,r.jsx)(u.I,{id:t,onFocus:U,disabled:le,ref:ve,name:B,type:je?"text":"password",placeholder:K||"",value:M,onKeyDown:F,onChange:e=>{if(!le&&E&&E(e.target.value),!le&&R){const{checker:t,waitTime:n}=R(e.target.value);n>0&&Ze((()=>"".concat(e.target.value)),(t=>t===e.target.value),t,n)}},onBlur:e=>{if(!le&&R){const{checker:t,waitTime:n}=R(e.target.value);n||Ze((()=>"".concat(e.target.value)),(t=>t===e.target.value),t,n)}},errorBorderColor:"red.300",isInvalid:!(0,j.N4)(H)},n),(0,r.jsx)(c.x,{width:"auto",px:"0.2rem",children:(0,r.jsxs)(p.U,{justifyContent:"flex-start",alignItems:"center",m:"0px !important",p:"0px !important",children:[ge,(0,r.jsx)(m.xu,{cursor:"pointer",onClick:()=>{_e(!je)},children:je?(0,r.jsx)(T.dSq,{}):(0,r.jsx)(T.tgn,{})})]})})]}):z==L.number?(0,r.jsxs)(s.B,{children:[(0,r.jsx)(c.Z,{width:"auto",px:"0.2rem",children:(0,r.jsxs)(p.U,{justifyContent:"flex-start",alignItems:"center",children:[(0,r.jsx)(m.xu,{as:"button",cursor:"pointer",onClick:ze,border:{base:"0px",md:"1px"},borderRadius:{base:"0px",md:"3px"},p:{base:"0px",md:"0.5rem"},children:(0,r.jsx)(T.iFH,{})}),he]})}),(0,r.jsx)(u.I,{id:t,onFocus:U,disabled:le,ref:ve,name:B,type:"text",placeholder:K||"",value:Ie("".concat(M)).toLocaleString(P,{minimumFractionDigits:ee,maximumFractionDigits:ee}),onKeyDown:F,onChange:e=>{if(Te(e),!le&&R){const{checker:t,waitTime:n}=R(e.target.value);n>0&&Ze((()=>"".concat(e.target.value)),(t=>t===e.target.value),t,n)}},onBlur:e=>{if(!le&&R){const{checker:t,waitTime:n}=R(e.target.value);n||Ze((()=>"".concat(e.target.value)),(t=>t===e.target.value),t,n)}},errorBorderColor:"red.300",isInvalid:!(0,j.N4)(H)},n),(0,r.jsx)(c.x,{width:"auto",px:"0.2rem",children:(0,r.jsxs)(p.U,{justifyContent:"flex-start",alignItems:"center",m:"0px !important",p:"0px !important",children:[ge,"string"===typeof ne?(0,r.jsx)(h.x,{as:"div",textAlign:"center",display:"flex",justifyContent:"flex-start",alignItems:"center",children:ne}):ne,(0,r.jsx)(m.xu,{as:"button",cursor:"pointer",onClick:Be,border:{base:"0px",md:"1px"},borderRadius:{base:"0px",md:"3px"},p:{base:"0px",md:"0.5rem"},children:(0,r.jsx)(T.wEH,{})})]})})]}):z==L.range?(0,r.jsxs)(p.U,{ref:ve,justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(O,{id:t,onFocus:U,title:ae,w:"100%",type:L.number,placeholder:re,value:(null===M||void 0===M?void 0:M.min)||0,onChange:e=>{De(e,"")},numberUnit:ne},n),(0,r.jsx)(h.x,{as:"div",alignSelf:"flex-end",pb:"0.5rem",children:" ~ "}),(0,r.jsx)(O,{id:t?"".concat(t,"_2"):void 0,onFocus:U,title:oe,w:"100%",type:L.number,placeholder:re,value:(null===M||void 0===M?void 0:M.max)||0,onChange:e=>{De("",e)},numberUnit:ne},n?"".concat(n,"_2"):void 0)]}):z==L.textarea?(0,r.jsxs)(s.B,{w:"100%",h:"100%",children:[he?(0,r.jsx)(c.Z,{children:ge}):null,(0,r.jsx)(g.g,{id:t,onFocus:U,disabled:le,ref:ve,w:"100%",h:"100%",placeholder:K,isDisabled:le,isInvalid:!!(H&&H.length>0),value:M,resize:de,onKeyDown:F,onChange:e=>{if(E&&!le&&(!se||isNaN(se)||e.target.value.length<se)&&E(e.target.value),!le&&R&&(!se||isNaN(se)||e.target.value.length<se)){const{checker:t,waitTime:n}=R(e.target.value);n>0&&Ze((()=>"".concat(e.target.value)),(t=>t===e.target.value),t,n)}},onBlur:e=>{if(!le&&R&&(!se||isNaN(se)||e.target.value.length<se)){const{checker:t,waitTime:n}=R(e.target.value);n||Ze((()=>"".concat(e.target.value)),(t=>t===e.target.value),t,n)}}},n),se?(0,r.jsx)(c.x,{width:"auto",height:"100%",alignItems:"flex-end",px:"0.2rem",children:(0,r.jsxs)(p.U,{justifyContent:"flex-start",alignItems:"center",m:"0px !important",p:"0px !important",children:[ge,(0,r.jsxs)(h.x,{as:"div",opacity:"0.4",children:[(M||"").length.toLocaleString(P||"en",{maximumFractionDigits:0}).replace(new RegExp("[,.]*","g"),""),"\xa0/\xa0",se.toLocaleString(P||"en",{maximumFractionDigits:0}).replace(new RegExp("[,.]*","g"),"")]})]})}):ge?(0,r.jsx)(c.x,{height:"100%",alignItems:"flex-end",children:ge}):null]}):z==L.checkbox?(0,r.jsx)(x.X,{id:t,onFocus:U,disabled:le,ref:ve,isChecked:M,onChange:e=>{if(!le&&E&&E(e.target.checked),!le&&R){const{checker:t,waitTime:n}=R(e.target.checked);n>0&&Ze((()=>e.target.checked),(t=>t===e.target.checked),t,n)}},onBlur:e=>{if(!le&&R){const{checker:t,waitTime:n}=R(e.target.checked);n||Ze((()=>e.target.checked),(t=>t===e.target.checked),t,n)}},children:a},n):z==L.checklist?(0,r.jsx)(f.k,{w:"100%",flexDirection:"row",flexWrap:"wrap",children:Ee.map(((e,a)=>(0,r.jsx)(x.X,{id:t?"".concat(t,"_").concat(a):"".concat(a),onFocus:U,disabled:le,ref:ve,w:{base:"100%",sm:"50%",md:"33.33%"},mb:"0.5rem",isChecked:e.selected,onChange:e=>{const t=[...Ee];if(t[a].selected=e.target.checked,!le&&E){const e=[];for(const n of t)n.selected&&e.push(n);Ue(t),E(e)}else Ue(t);if(!le&&R){const{checker:e,waitTime:n}=R(t);n>0&&Ze((()=>t),(e=>N(e,t)),e,n)}},onBlur:e=>{const t=[...Ee];if(t[a].selected=e.target.checked,!le&&R){const{checker:e,waitTime:n}=R(t);n||Ze((()=>t),(e=>N(e,t)),e,n)}},children:V?V(e,a):""},n?"".concat(n,"_").concat(a):a)))}):z==L.radio?(0,r.jsx)(b.E,{id:t,onFocus:U,ref:ve,value:M,onChange:e=>{if(!le&&E&&E(e),!le&&R){const{checker:t,waitTime:n}=R(e);n>0&&Ze((()=>e),(t=>t===e),t,n)}},onBlur:e=>{if(!le&&R){const{checker:t,waitTime:n}=R(e);n||Ze((()=>e),(t=>t===e),t,n)}},children:(0,r.jsx)(v.K,{direction:ce||"row",children:(J||[]).map(((e,t)=>G&&V?(0,r.jsx)(w.Y,{disabled:le,value:G(e,t),children:V(e,t)},t):null))})},n):z==L.location?(0,r.jsx)(A,{disabled:le,ref:ve,w:"100%",h:"100%",id:t,apiKey:xe||"",defaultLatlng:we,geotype:ke,mapToSearchRatio:fe,twoDigitCountryCode:be,searchPlaceholder:K,value:M?{name:M.name,formatted_address:M.address,geometry:{location:{lat:()=>M.position.lat,lng:()=>M.position.lng},viewport:{}}}:void 0,onChange:e=>{const t={name:e.name,address:e.formatted_address,position:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}};if(!le&&E&&E(t),!le&&R){const{checker:e,waitTime:n}=R(t);n>0&&Ze((()=>t),(e=>JSON.stringify(e)===JSON.stringify(t)),e,n)}},onBlur:e=>{if(!le&&R){const t={name:e.name,address:e.formatted_address,position:{lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}},{checker:n,waitTime:r}=R(t);r||Ze((()=>t),(e=>JSON.stringify(e)===JSON.stringify(t)),n,r)}},errorMessage:H},n):z==L.price?(0,r.jsx)(k.g,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:(0,r.jsxs)(s.B,{children:[(0,r.jsx)(c.Z,{width:"auto",px:"0.2rem",children:(0,r.jsxs)(p.U,{justifyContent:"flex-start",alignItems:"center",children:[(0,r.jsx)(m.xu,{cursor:"pointer",onClick:ze,border:{base:"0px",md:"1px"},borderRadius:{base:"0px",md:"3px"},p:{base:"0px",md:"0.5rem"},children:(0,r.jsx)(T.iFH,{})}),he]})}),(0,r.jsx)(u.I,{id:t,onFocus:U,disabled:le,ref:ve,name:B,type:"text",placeholder:K||"",value:M,onKeyDown:F,onChange:e=>{if(Te(e),!le&&R){const{checker:t,waitTime:n}=R(e.target.value);n>0&&Ze((()=>"".concat(e.target.value)),(t=>t===e.target.value),t,n)}},onBlur:e=>{if(!le&&R){const{checker:t,waitTime:n}=R(e.target.value);n||Ze((()=>"".concat(e.target.value)),(t=>t===e.target.value),t,n)}},errorBorderColor:"red.300",isInvalid:!(0,j.N4)(H)},n),(0,r.jsx)(c.x,{width:"auto",px:"0.2rem",children:(0,r.jsxs)(p.U,{justifyContent:"flex-start",alignItems:"center",m:"0px !important",p:"0px !important",children:[ge,"string"===typeof ne?(0,r.jsx)(h.x,{as:"div",textAlign:"center",display:"flex",justifyContent:"flex-start",alignItems:"center",children:ne}):ne,(0,r.jsx)(m.xu,{cursor:"pointer",onClick:Be,border:{base:"0px",md:"1px"},borderRadius:{base:"0px",md:"3px"},p:{base:"0px",md:"0.5rem"},children:(0,r.jsx)(T.wEH,{})})]})})]})}):z==L.none?null:(0,r.jsxs)(s.B,{children:[he?(0,r.jsx)(c.Z,{children:he}):null,(0,r.jsx)(u.I,{id:t,onFocus:U,disabled:le,ref:ve,name:B,type:z,placeholder:K||"",value:M,onChange:e=>{if(!le&&E&&E(e.target.value),!le&&R){const{checker:t,waitTime:n}=R(e.target.value);n>0&&Ze((()=>"".concat(e.target.value)),(t=>t===e.target.value),t,n)}},onBlur:e=>{if(!le&&R){const{checker:t,waitTime:n}=R(e.target.value);n||Ze((()=>"".concat(e.target.value)),(t=>t===e.target.value),t,n)}},errorBorderColor:"red.300",isInvalid:!(0,j.N4)(H)},n),ge?(0,r.jsx)(c.x,{children:ge}):null]}),(0,j.N4)(H)||z==L.location?null:(0,r.jsx)(y.J1,{children:H}),(0,j.N4)(W)||z==L.location?null:(0,r.jsx)(o.Q6,{children:W}),(0,r.jsx)(i(),{id:"10de4c31ea107ec2",children:".cursor-not-allowed-deep{cursor:not-allowed!important}.cursor-not-allowed-deep *{cursor:not-allowed}"})]})};O.TYPES=L;var R=O},5555:function(e,t,n){n.d(t,{Ft:function(){return a},SG:function(){return i},xV:function(){return o}});var r=n(6100);const a=e=>{try{return e.toDate()}catch(t){return e}},i=e=>{try{return r.EK.fromDate(e)}catch(t){return e}};function o(e,t,n){return t.map((function(t){return console.log("joinTimeSegments:2",typeof t,t),"string"===typeof t||"number"===typeof t?t:new Intl.DateTimeFormat("en",t).format(e)})).join(n)}}}]);