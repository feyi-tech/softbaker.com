"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[687],{98924:function(e,t,a){var n=a(85893),i=a(67294),r=a(98303),o=a(55083),s=a(19778),l=a(85335),c=a(64859),d=a(71293),h=a(34292),u=a(57747),g=a(54346),m=a(14253),x=a(55154),p=a(53754),f=a(96918);t.Z=e=>{let{bg:t,color:a,children:w,placement:v,onClose:b,isOpen:j,isClosable:k,closeOnOverlayClick:C,title:y,footer:S,hideModeSwitch:I,h:z,height:D,maxH:F,maxHeight:R,w:O,width:Z,maxW:T,maxWidth:E,...U}=e;const[B,P]=(0,i.useState)(),[M,L]=(0,i.useState)(),[H,W]=(0,i.useState)({}),[A,N]=(0,i.useState)({}),[_,Y]=(0,i.useState)({}),[G,q]=(0,i.useState)({});return v=(0,r.S)("string"===typeof v?{base:v}:v),(0,i.useEffect)((()=>{"left"===v?(W("0px"),N("32px"),Y("0px"),q("32px"),P(D||z),L(Z||O)):"right"===v?(W("32px"),N("0px"),Y("32px"),q("0px"),P(D||z),L(Z||O)):"top"===v?(W("0px"),N("0px"),Y("32px"),q("32px"),P(D||z||"50vh"),L(Z||O)):"bottom"===v&&(W("32px"),N("32px"),Y("0px"),q("0px"),P(D||z||"60vh"),L(Z||O))}),[v,D,Z]),(0,n.jsxs)(o.d,{placement:v,onClose:b||(()=>{}),isOpen:j,closeOnOverlayClick:!!(0,p.nj)(C)||C,children:[(0,n.jsx)(s.Z,{}),(0,n.jsxs)(l.s,{bg:t||(0,f.Z)("cardBg.light","cardBg.dark"),color:a,h:B,w:M,maxH:F||R||B,maxW:T||E||M,borderTopLeftRadius:H,borderTopRightRadius:A,borderBottomLeftRadius:_,borderBottomRightRadius:G,...U,children:[(0,n.jsxs)(c.x,{borderBottomWidth:"1px",w:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,n.jsx)(d.x,{as:"div",fontSize:{base:"1.1rem",md:"1.3rem"},textTransform:"capitalize",children:y}),(0,n.jsx)(h.U,{children:b&&(k||void 0===k)?(0,n.jsx)(u.xu,{onClick:b,cursor:"pointer",display:"block",children:(0,n.jsx)(x.aHS,{size:"24px"})}):null})]}),(0,n.jsx)(g.f,{...U,children:w}),S?(0,n.jsx)(m.m,{children:S}):null]})]})}},94345:function(e,t,a){var n=a(85893),i=a(35541),r=a(19778),o=a(14581),s=a(64859),l=a(71293),c=a(34292),d=a(57747),h=a(54346),u=a(14253),g=a(55154),m=a(96918);t.Z=e=>{let{bg:t,color:a,children:x,placement:p,onClose:f,isOpen:w,isClosable:v,title:b,footer:j,hideModeSwitch:k,noHeader:C,w:y,width:S,maxW:I,maxWidth:z,h:D,height:F,maxH:R,maxHeight:O,dontCloseOnOverlayClick:Z,...T}=e;return(0,n.jsxs)(i.u_,{closeOnOverlayClick:!Z,onClose:f||(()=>{}),isOpen:w,isCentered:!0,children:[(0,n.jsx)(r.Z,{}),(0,n.jsxs)(o.h,{bg:t||(0,m.Z)("cardBg.light","cardBg.dark"),color:a,minH:D||F||"50vh",maxH:R||O||"70vh",w:y||S||{base:"95%",md:"650px"},maxW:I||z,borderRadius:"16px !important",children:[C?null:(0,n.jsxs)(s.x,{borderBottomWidth:"1px",w:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,n.jsx)(l.x,{as:"div",fontSize:{base:"1.1rem",md:"1.3rem"},textTransform:"capitalize",children:b}),(0,n.jsx)(c.U,{children:f&&(v||void 0===v)?(0,n.jsx)(d.xu,{onClick:f,cursor:"pointer",display:"block",children:(0,n.jsx)(g.aHS,{size:"24px"})}):null})]}),(0,n.jsx)(h.f,{...T,children:x}),j?(0,n.jsx)(u.m,{children:j}):null]})]})}},35052:function(e,t,a){var n=a(85893),i=a(67294),r=a(94345),o=a(85461),s=a(55154),l=a(48783),c=a(71293),d=a(34292),h=a(6089),u=a(77181);t.Z=e=>{let{onClose:t,onImage:a,maxFileSize:g,isOtherFiles:m,onThumb:x,title:p,message:f,hoverMessage:w,ruleMessage:v,useImageText:b,accept:j}=e;const[k,C]=(0,i.useState)(!1),[y,S]=(0,i.useState)(!1),[I,z]=(0,i.useState)(null),[D,F]=(0,i.useState)(),[R,O]=(0,i.useState)();return(0,i.useEffect)((()=>{D&&I&&x?x(D,I).then((e=>{O(e)})).catch((e=>{console.error("handleUseImage: ",e.message),O(void 0)})):O(I)}),[I]),(0,n.jsx)(r.Z,{title:p,isOpen:!0,onClose:()=>t(),children:(0,n.jsxs)(l.g,{p:"0.5rem",id:"upload-area",justifyContent:"center",alignItems:"center",mb:4,width:"100%",height:"300px",cursor:"pointer",border:"4px dashed ".concat(k?"#dd6b20":"#ccc"),onDragEnter:e=>{e.preventDefault(),C(!0)},onDragOver:e=>{e.preventDefault()},onDragLeave:e=>{e.preventDefault(),C(!1)},onDrop:async e=>{if(y)return;e.preventDefault(),C(!1);const t=e.dataTransfer.files;if(t.length>0){const e=new FileReader,a=t[0];e.onload=async e=>{if(g&&g>0&&!m){S(!0);const e=await(0,u.t)(a,g);z(e.base64),F(e.file),S(!1)}else{var t;const n=null===(t=e.target)||void 0===t?void 0:t.result;z(n),F(a)}},e.readAsDataURL(a)}},children:[(0,n.jsx)(s.DUB,{size:"2rem"}),(0,n.jsxs)(l.g,{alignItems:"center",children:[(0,n.jsx)(c.x,{as:"div",fontSize:"12px",children:k?w:f}),(0,n.jsx)(c.x,{as:"div",fontSize:"14px",children:"OR"}),(0,n.jsx)(o.Z,{status:"info",mb:"1rem",onClick:()=>{if(y)return;const e=document.createElement("input");e.type="file",e.accept=j||"image/*",e.click(),e.addEventListener("change",(async e=>{const t=e.target.files;if(t&&t.length>0){const e=new FileReader,a=t[0];e.onload=async e=>{if(g&&g>0&&!m){S(!0);const e=await(0,u.t)(a,g);z(e.base64),F(e.file),S(!1)}else{var t;const n=null===(t=e.target)||void 0===t?void 0:t.result;z(n),F(a)}},e.readAsDataURL(a)}}))},display:y?"none":"block",children:"Click to Upload"}),(0,n.jsxs)(c.x,{fontSize:"12px",children:["(",v,")"]}),y?(0,n.jsx)(c.x,{fontSize:"12px",fontStyle:"italic",color:"#3182ce",children:"Processing image. Please wait..."}):null,(0,n.jsx)(d.U,{justifyContent:"center",alignItems:"flex-end",flexWrap:"wrap",children:I&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.E,{src:R||"",bg:"#cfcfcf",width:"auto",height:"70px",border:"4px ridge #dd6b20"}),(0,n.jsx)(o.Z,{status:"warning",h:"70px",onClick:()=>{a(D,I,R)},children:b})]})})]})]})})}},98687:function(e,t,a){a.d(t,{Z:function(){return O}});var n=a(85893),i=a(51857),r=a.n(i),o=a(57747),s=a(85970),l=a(34292),c=a(5418),d=a(6089),h=a(71293),u=a(67294),g=a(30351),m=a(36238),x=a(35052),p=a(49626),f=a(85461),w=a(53754),v=a(85059),b=a(48783),j=a(4046),k=a(55154),C=a(98924);function y(e,t,a,n){return new Promise((async(i,r)=>{const o=await(s=e,new Promise(((e,t)=>{const a=new Image;a.addEventListener("load",(()=>e(a))),a.addEventListener("error",(e=>t(e))),a.src=s})));var s;const l=document.createElement("canvas");l.width=t.width,l.height=t.height;const c=l.getContext("2d");if(!c)throw new Error("Could not get canvas context");c.fillRect(0,0,l.width,l.height),c.drawImage(o,t.x,t.y,t.width,t.height,0,0,t.width,t.height),a&&n?l.toBlob((e=>{if(e){const t=new File([e],a,{type:n});i({base64:l.toDataURL(),file:t})}}),n):i({base64:l.toDataURL(),file:null})}))}var S=e=>{let{image:t,imageFile:a,imageCropArg:i,onThumb:r,onImage:s}=e;const[c,d]=(0,u.useState)({x:0,y:0}),[g,m]=(0,u.useState)(1),[x,p]=(0,u.useState)(),[w,S]=(0,u.useState)(!1);return(0,n.jsx)(C.Z,{title:"Crop Image",isOpen:!0,width:"100%",height:"100%",placement:"top",onClose:()=>{s(null,null,null,null)},overflowY:"auto",children:(0,n.jsxs)(b.g,{width:"100%",alignItems:"center",children:[(0,n.jsx)(o.xu,{width:"300px",height:"300px",justifyContent:"center",alignItems:"flex-start",pos:"relative",children:(0,n.jsx)(v.ZP,{image:t,crop:c,zoom:g,cropSize:{width:i.dimension.width,height:i.dimension.height},onCropChange:d,onZoomChange:m,onCropComplete:(e,t)=>{p(t)},showGrid:i.showGrid,restrictPosition:i.restrictPosition})}),(0,n.jsx)(o.xu,{children:i.message?(0,n.jsx)(h.x,{children:i.message}):null}),(0,n.jsxs)(l.U,{width:"300px",justifyContent:"flex-start",alignItems:"center",h:"80px",children:[(0,n.jsxs)(j.iR,{"aria-label":"slider-ex-4",min:1,max:100,defaultValue:1,onChange:e=>m(e),children:[(0,n.jsx)(j.Uj,{bg:"red.100",children:(0,n.jsx)(j.Ms,{bg:"tomato"})}),(0,n.jsx)(j.gs,{boxSize:6,children:(0,n.jsx)(o.xu,{color:"tomato",as:k.U41})})]}),(0,n.jsx)(f.Z,{disabled:w,bg:"tomato",onClick:()=>{x&&(S(!0),y(t,x,null===a||void 0===a?void 0:a.name,null===a||void 0===a?void 0:a.type).then((async e=>{let t;if(r&&e.file)try{t=await r(e.file,e.base64)}catch(a){}S(!1),s(e.file,e.base64,t)})).catch((e=>{S(!1),s(null,null,null,e)})))},children:w?"Please wait...":"Crop"})]})]})})},I=a(94345),z=a(85963),D=a(11802);var F=(e,t,a)=>{const[n,i]=(0,u.useState)(),[r,o]=(0,u.useState)({imageData:e,imageFile:t});(0,u.useEffect)((()=>{o({imageData:e,imageFile:t})}),[e,t]);const[s,l]=(0,u.useState)({debug:a,device:"cpu",publicPath:D.c9,progress:(e,t,a)=>{i({key:e,current:t,total:a}),console.info("Downloading ".concat(e,": ").concat(t," of ").concat(a))}});return{progress:n,startBackgroundRemoval:()=>new Promise(((a,n)=>{(0,z.X1)(e,s).then((e=>{const n=URL.createObjectURL(e);let i;t&&(i=new File([e],t.name,{type:t.type}));const r={imageData:n,imageFile:i};o(r),a(r)})).catch((e=>{n(e)}))})),imageState:r}};var R=e=>{let{image:t,imageFile:a,onThumb:i,onImage:r,debug:o}=e;const[s,l]=(0,u.useState)(!1),{imageState:c,progress:g,startBackgroundRemoval:m}=F(t,a,o);return(0,n.jsx)(I.Z,{title:"Background Remover",isOpen:!0,width:"100%",height:"100%",onClose:()=>{r(null,null,null,null)},children:(0,n.jsxs)(b.g,{children:[(0,n.jsx)(d.E,{src:c.imageData,height:"300px",width:"auto",overflowY:"auto"}),g&&s?(0,n.jsx)(b.g,{w:"200px",alignItems:"center",children:(0,n.jsx)(h.x,{children:"Downloading ".concat(g.key,": ").concat(g.current," of ").concat(g.total)})}):null,(0,n.jsx)(f.Z,{disabled:s,bg:"tomato",onClick:()=>{t&&(l(!0),m().then((async e=>{let t;if(i&&e.imageFile)try{t=await i(e.imageFile,e.imageData)}catch(a){}l(!1),r(e.imageFile,e.imageData,t)})).catch((e=>{l(!1),r(null,null,null,e)})))},children:s?"Please wait...":"Remove Background"})]})})};var O=e=>{let{onThumb:t,accept:a,title:i,thumbnail:v,onChange:b,disableCrop:j,disabled:k,info:C,helperText:y,errorMessage:I,message:z,hoverMessage:D,ruleMessage:F,useImageText:O,maxFileSize:Z,isOtherFiles:T,showAsButton:E,textTransform:U,labelEndIcon:B,imageCropArg:P,removeBackground:M,...L}=e;const[H,W]=(0,u.useState)(!1),[A,N]=(0,u.useState)(!1),[_,Y]=(0,u.useState)(!1),[G,q]=(0,u.useState)(!1),[J,V]=(0,u.useState)(),[X,K]=(0,u.useState)(),[Q,$]=(0,u.useState)();return(0,n.jsxs)(o.xu,{...L,children:[E?(0,n.jsx)(f.Z,{status:"success",onClick:e=>{e.preventDefault(),k||G||W(!0)},children:i}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.NI,{opacity:G||k?.4:1,cursor:G||k?"not-allowed":"pointer",children:[(0,n.jsxs)(l.U,{w:"100%",justifyContent:"space-between",alignItems:"center",children:[!i||(0,w.N4)(C)||k?(0,n.jsx)(c.l,{textTransform:U||"capitalize",mb:"0px",children:i}):(0,n.jsx)(p.Z,{as:c.l,info:C,textTransform:U||"capitalize",children:i}),B||null]}),(0,n.jsxs)(l.U,{className:"image-selector-button",onClick:e=>{e.preventDefault(),k||G||W(!0)},children:[(0,n.jsx)(o.xu,{width:"auto",height:"40px",bg:"#dfdfdf",children:!G&&v?(0,n.jsx)(d.E,{src:v,width:"auto",h:"40px",objectFit:"cover"}):null}),(0,n.jsx)(h.x,{as:"div",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontStyle:G?"italic":"normal",children:G?"Please wait...":v?"Click to change":"Click to upload"})]})]}),(0,n.jsx)(m.Z,{type:m.Z.TYPES.none,helperText:y,errorMessage:I})]}),H?(0,n.jsx)(x.Z,{title:i,message:z,onThumb:t,hoverMessage:D,ruleMessage:F,useImageText:O,maxFileSize:Z,onImage:(e,t,a,n)=>{((e,t,a,n)=>{W(!1),j||T?b(e,t,a):(q(!0),P?(V(e),K(t),$(a),N(!0)):M?(V(e),K(t),$(a),Y(!0)):(0,g.xJ)(t).then((t=>{b(e,t,a),q(!1)})).catch((e=>{q(!1)})))})(e,t,a)},onClose:()=>{W(!1)},isOtherFiles:T,accept:a}):null,A&&X&&P?(0,n.jsx)(S,{image:X,imageFile:J,imageCropArg:P,onThumb:t,onImage:(e,t,a,n)=>{e&&V(e),t&&K(t),a&&$(a),M&&t?(N(!1),Y(!0)):(q(!1),N(!1),t?b(e,t,a):n&&b(null,null,null,n))}}):null,_&&X&&M?(0,n.jsx)(R,{image:X,imageFile:J,onThumb:t,onImage:(e,t,a,n)=>{e&&V(e),t&&K(t),a&&$(a),q(!1),Y(!1),t?b(e,t,a):n&&b(null,null,null,n)}}):null,(0,n.jsx)(r(),{id:"95178590041dfe1a",children:".image-selector-button{width:100%;min-width:0px;outline:2px solid transparent;outline-offset:2px;position:relative;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;-webkit-transition-property:var(--chakra-transition-property-common);-moz-transition-timing-function:var(--chakra-transition-property-common);-o-transition-timing-function:var(--chakra-transition-property-common);transition-property:var(--chakra-transition-property-common);-webkit-transition-duration:var(--chakra-transition-duration-normal);-moz-transition-duration:var(--chakra-transition-duration-normal);-o-transition-duration:var(--chakra-transition-duration-normal);transition-duration:var(--chakra-transition-duration-normal);font-size:var(--chakra-fontSizes-md);-webkit-padding-start:var(--chakra-space-4);-moz-padding-start:var(--chakra-space-4);padding-inline-start:var(--chakra-space-4);-webkit-padding-end:var(--chakra-space-10);-moz-padding-end:var(--chakra-space-10);padding-inline-end:var(--chakra-space-10);height:var(--chakra-sizes-10);-webkit-border-radius:var(--chakra-radii-md);-moz-border-radius:var(--chakra-radii-md);border-radius:var(--chakra-radii-md);border:1px solid;border-color:inherit;background:inherit}"})]})}},77181:function(e,t,a){a.d(t,{j:function(){return i},t:function(){return n}});const n=async(e,t)=>new Promise(((a,n)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=async n=>{var i;const r=new Image;r.src=null===(i=n.target)||void 0===i?void 0:i.result,r.onload=()=>{const n=document.createElement("canvas"),i=n.getContext("2d");n.width=r.width,n.height=r.height,i.drawImage(r,0,0);const o=i.getImageData(0,0,n.width,n.height).data.length/(n.width*n.height),s=t/o,l=Math.sqrt(s);let c,d;r.width>=r.height?(c=l,d=r.height*(l/r.width)):(d=l,c=r.width*(l/r.height)),n.width=c,n.height=d,i.drawImage(r,0,0,c,d),n.toBlob((t=>{if(t){const i=new File([t],e.name,{type:e.type});a({base64:n.toDataURL(),file:i})}}),e.type)}},i.onerror=e=>n(e)}));function i(e){return new Promise(((t,a)=>{const n=new Image;n.onload=()=>{const e=document.createElement("canvas"),a=e.getContext("2d");e.width=n.width,e.height=n.height,a.drawImage(n,0,0);const i=a.getImageData(0,0,e.width,e.height).data,r=Math.floor(.3*n.height);let o=[];for(let t=n.height-r;t<n.height;t++)for(let a=0;a<n.width;a++){const n=4*(t*e.width+a),[r,s,l]=[i[n],i[n+1],i[n+2]];0===r&&s>=128&&0===l&&o.push({x:a,y:t})}if(o.length<2)return t(0);const s=o[0],l=o[o.length-1],c=Math.atan2(l.y-s.y,l.x-s.x)*(180/Math.PI);t(c+180)},n.onerror=e=>a(e),n.src=e}))}}}]);