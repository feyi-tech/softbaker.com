"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[590],{63183:function(e,t,n){var i=n(67294),o=n(11802),r=n(16344),a=n(86455),s=n.n(a),l=n(53754);t.Z=e=>{let{collectionName:t,toolVersionCode:n,historyProps:a,dataSourceProps:c,publishTexts:d,fileFields:u=[],updatableFields:h=[],actionOnlyFields:g=[]}=e;const{user:m,signIn:p,showWallet:f,balanceInUsd:x,unconfirmedDepositsCount:w,balancePendingInUsd:b,getDownloadType:v,deposit:y}=(0,r.P)(),[j,C]=(0,i.useState)(),{addHistory:S,clearHistory:I}=a,{selectedIsNew:k,selectedData:D,setSelectedData:T,createData:E,editData:A}=c,B=(e,i,r,a,l,c)=>{const u=k();v({renewSubscription:a,toolVersionCode:n,docCollection:t,docCollectionRuleTtlInMinutes:10,title:u||(null===D||void 0===D?void 0:D.is_freemium)?d.newTitle:d.updateTitle,removeFreemiumBeforeUpdate:!u&&!0===(null===D||void 0===D?void 0:D.is_freemium)&&!1===(null===l||void 0===l?void 0:l.is_freemium),updateMessage:u?void 0:d.updateMessage,freeTitle:d.freeTitle,freeMessage:d.freeMessage,paidTitle:d.paidTitle,paidMessage:d.paidMessage,isFreemium:null===D||void 0===D?void 0:D.is_freemium}).then((t=>{const n=u?t.is_freemium:(null===D||void 0===D?void 0:D.is_freemium)||!1;if(t.cost>x){if(C(!1),w>0)return s().fire({icon:"info",title:"Payment Error",text:"Your ".concat(w>1?"deposits":"deposit"," of approximately $").concat(b," is currently undergoing confirmations. Please try again later in 5 - 10 minutes after your ").concat(w>1?"deposits have":"deposit has"," been confirmed."),confirmButtonText:"OK"}).then((()=>{f(10)})),r(new Error(""));s().fire({icon:"error",title:"Payment Error",text:"You have insufficient balance! $".concat(t.cost," is needed. Fund your wallet with at least $").concat(t.cost,"."),showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Fund Wallet",cancelButtonText:"Cancel"}).then((e=>{e.isConfirmed&&y(t.cost,d.signInMessage,d.signUpMessage).then((()=>{s().fire({icon:"success",title:"Payment Successfull",text:"Your deposit was detected and will be confirmed soon.",showConfirmButton:!0,confirmButtonText:"OK"}),r(new Error(""))})).catch((e=>{s().fire({icon:"error",title:"Payment Error",text:e.message}),r(new Error(""))}))}))}else!function(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;C(!0),k()&&D?E({...D,...s||{},is_freemium:e},t).then((e=>{I(o.XA),S(e.id,e),n(e)})).catch((e=>{i(e)})):D?A({...D,...s||{},is_freemium:e,renewSubscription:!0===r},a).then((e=>{I(e.id),S(e.id,e),T(e),n(e)})).catch((e=>{i(e)})):i(new Error(d.noDataError))}(n,e,i,r,a,l,c)})).catch((e=>{r(e)}))};(0,i.useEffect)((()=>{if(m&&(0,l.Ze)("getType")){let t,n;try{t=(0,l.jF)("getSaveOptions")()}catch(e){}try{n=(0,l.jF)("otherData")()}catch(e){}B(m,(0,l.jF)("getType"),(0,l.Y6)("getType"),null===t||void 0===t?void 0:t.renewSubscription,null===t||void 0===t?void 0:t.serverOnlySaveData,n)}}),[m]);return{savingData:j,setSavingData:C,handleUpdateData:e=>{for(const c of Object.keys(e))if(u.includes(c)&&e[c])if(Array.isArray(e[c])){(0,l.GD)((0,l.$m)(t,o.XA,"".concat(c,"_")));const i=[];for(var n=0;n<e[c].length;n++)e[c][n].length>0?((0,l.rp)(t,e.id,"".concat(c,"_").concat(n),e[c][n]),i.push(c)):i.push("");h.includes(c)||(D||{}).id==o.XA?e[c]=i:D&&(e[c]=D[c])}else e[c]?((0,l.rp)(t,e.id,c,e[c]),h.includes(c)||(D||{}).id==o.XA?e[c]=c:D&&(e[c]=D[c])):h.includes(c)||(D||{}).id==o.XA?e[c]="":D&&(e[c]=D[c]);else!h.includes(c)&&e[c]&&D&&(D||{}).id!=o.XA&&(e[c]=D[c]);const i=[],r=Object.keys(e);for(const t of r)g.includes(t)&&(i.push(t),delete e[t]);try{localStorage.setItem((0,l.Ci)(t,o.XA),JSON.stringify({data:i,expiry:Date.now()+1e3}))}catch(s){localStorage.clear(),localStorage.setItem((0,l.Ci)(t,o.XA),JSON.stringify({data:i,expiry:Date.now()+1e3}))}const a={...D||{},...e};S(a.id,a),T(a)},handlePublishData:(e,t,n)=>new Promise(((i,o)=>{m?B(m,i,o,e,t,n):((0,l.gz)("getType",i,o),(0,l.gz)("getSaveOptions",(()=>({renewSubscription:e,serverOnlySaveData:t})),(()=>{})),(0,l.gz)("otherData",(()=>n),(()=>{})),p(d.signInMessage,d.signUpMessage).then((()=>{})).catch((e=>{(0,l.Eu)("getType",e),o(e)})))}))}}},53348:function(e,t,n){var i=n(36100),o=n(67294),r=n(16344),a=n(11802),s=n(53754);t.Z=function(e,t,n){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];const{user:u,authLoading:h,db:g,auth:m,createDoc:p,updateDoc:f,uploadFile:x}=(0,r.P)(),[w,b]=(0,o.useState)(),[v,y]=(0,o.useState)([]),[j,C]=(0,o.useState)({}),[S,I]=(0,o.useState)(!0),[k,D]=(0,o.useState)(""),[T,E]=(0,o.useState)(),[A,B]=(0,o.useState)({}),M=()=>(null===T||void 0===T?void 0:T.id)==a.XA;(0,o.useEffect)((()=>{M()&&b(T),T&&!A&&B(T)}),[T]),(0,o.useEffect)((()=>{}),[w]);const P=e=>{e.message?D(e.message):D("An error occurred. Please try again later or contact support.")};(0,o.useEffect)((()=>{if(!g)return;if(!(g instanceof i.gg))return;if(!u)return y([]),C({}),h||I(!1),void(window.unsubscribeDocs&&window.unsubscribeDocs());I(!0);const n=(0,i.hJ)(g,e),o=(0,i.cf)((0,i.IO)(n,(0,i.ar)("authorId","==",u.uid),(0,i.Xo)("updatedAt","desc"),(0,i.b9)(t)),(e=>{const t=[],n={};var i=0;e.forEach((e=>{const o={...e.data(),id:e.id};t.push(o),n[o.id]=i,i++})),y(t),C(n),I(!1)}),(e=>{P(e),I(!1)}));return window.unsubscribeDocs=o,()=>o()}),[g,u,m,h]),(0,o.useEffect)((()=>{w&&Object.keys(j).includes(w.id)?(M()&&E(v[j[w.id]]),b(null)):T&&Object.keys(j).includes(T.id)&&E(v[j[T.id]])}),[j,w]);const U=()=>((0,s.GD)((0,s.GX)(e,a.XA)),new Promise(((e,t)=>{if(!g)return t(new Error("Storage awaiting initialization"));let i;w?i={...w}:(i={...n(),id:a.XA},b(i)),e(i)}))),O=e=>new Promise(((t,n)=>{if(w){let n={...w,...e};b(n),t(n)}else U().then((n=>{let i={...n,...e,id:n.id};b(i),t(i)})).catch((e=>{n(e)}))})),N=async e=>new Promise(((t,n)=>{if(0==d.length)t(e);else{const r=[];for(let t=0;t<d.length;t++){const n=e[d[t]];if(n&&n.file&&n.pathFormatNoExt){var i=n.file.name.split("."),o=i[i.length-1];r.push(x(n.file,"".concat(n.pathFormatNoExt.replace(a.F3,(0,s.lY)(8)),".").concat(o).toLowerCase()))}else r.push(new Promise(((e,t)=>{e("")})))}r.length>0&&Promise.all(r).then((n=>{for(var i=0;i<n.length;i++)e[d[i]]=n[i];t(e)})).catch((e=>{n(e)}))}})),Z=(t,n)=>new Promise((async(o,r)=>{if(!g)return r(new Error("Storage awaiting initialization"));if(!n)return r(new Error("Please sign in first."));if(!t)return r(new Error("No new data to submit"));const l=(0,i.JU)((0,i.hJ)(g,e)).id.toUpperCase(),d={...t,authorId:"uid",is_freemium:void 0!==t.is_freemium&&t.is_freemium,createdAt:"current_time",updatedAt:"current_time"};delete d.id;const u=await N(d);p(e,l,u,n).then((()=>{const t={...u,id:l,authorId:n.uid,createdAt:new Date,updatedAt:new Date};if(M()&&E(t),b(t),c.length>0){const n=[];for(const t of c)if(Array.isArray(d[t]))for(var i=0;i<d[t].length;i++)d[t][i]&&d[t][i].length>0&&n.push((0,s.xY)(e,a.XA,l,"".concat(t,"_").concat(i)));else d[t]&&d[t].length>0&&n.push((0,s.xY)(e,a.XA,l,t));Promise.all(n).then((()=>{o(t)})).catch((e=>{o(t)}))}else o(t)})).catch((e=>{console.error("Error creating data:",e),r(new Error(e.error||e.message))}))})),_=(t,n)=>{const i=t;return new Promise(((o,r)=>{if(!g)return r(new Error("Storage awaiting initialization"));const c={};for(const e of l)A[e]!=i[e]&&(c[e]=i[e]);const d=localStorage.getItem((0,s.Ci)(e,a.XA));var u=[];if(d){const t=JSON.parse(d);t.expiry>=Date.now()&&(u=t.data),localStorage.removeItem((0,s.Ci)(e,a.XA))}for(const e of u)c[e]=!0;if(i.renewSubscription&&(c.renewSubscription=!0),0==Object.keys(c).length&&!n)return o(t);c.is_freemium=t.is_freemium,c.updatedAt="current_time",B(t),f(e,t.id,{...c,...n||{}}).then((()=>{o({...t,...n||{},updatedAt:new Date})})).catch((e=>{r(new Error(e.error||e.message))}))}))},z=t=>new Promise(((n,o)=>{if(t.id==(null===w||void 0===w?void 0:w.id))return b(null),E(null),n();if(!g)return o(new Error("Storage awaiting initialization"));const r=(0,i.JU)(g,"".concat(e,"/").concat(t.id));(0,i.oe)(r).then((()=>{n()})).catch((e=>{console.error("Error updating data:",e),P(e),o(e)}))}));return{dataList:v,newData:w,setNewData:b,selectedIsNew:M,loadingData:S,dataError:k,selectedData:T,setSelectedData:E,initData:U,updateNewData:O,createData:Z,editData:_,deleteData:z}}},99555:function(e,t,n){var i=n(67294);t.Z=e=>{const[t,n]=(0,i.useState)({});return{addHistory:(i,o)=>{try{const a=t[i];if(!a||JSON.stringify(a.timeline[a.timeline.length-1])!=JSON.stringify(o)){var r;const s=[...null!==(r=null===a||void 0===a?void 0:a.timeline)&&void 0!==r?r:[],o].slice(-e),l={...t,[i]:{currentIndex:s.length-1,totalUpdates:((null===a||void 0===a?void 0:a.totalUpdates)||0)+1,timeline:s}};n(l)}}catch(a){console.error("Error adding history:",a)}},clearHistory:e=>{try{delete t[e],n(t)}catch(i){console.error("Error clearing history:",i)}},clearAllHistory:()=>{try{n({})}catch(e){console.error("Error clearing history:",e)}},undo:e=>{const i=t[e];if((null===i||void 0===i?void 0:i.currentIndex)>0){const r=i.currentIndex-1,a=i.timeline[r];try{return n({...t,[e]:{currentIndex:r,totalUpdates:i.totalUpdates,timeline:i.timeline}}),a}catch(o){console.error("Error undoing history:",o)}}},redo:e=>{const i=t[e];if((null===i||void 0===i?void 0:i.currentIndex)<i.timeline.length-1){const r=i.currentIndex+1,a=i.timeline[r];try{return n({...t,[e]:{currentIndex:r,totalUpdates:i.totalUpdates,timeline:i.timeline}}),a}catch(o){console.error("Error redoing history:",o)}}},getCurrentTimeline:e=>{const n=t[e];if((null===n||void 0===n?void 0:n.currentIndex)>-1)return n.timeline[n.currentIndex]},getCurrentTimelineData:e=>{const n=t[e];if(n){const e=n.totalUpdates-n.timeline.length+(n.currentIndex+1);return{hasUndo:n.currentIndex>0,hasRedo:n.currentIndex<n.timeline.length-1,totalUpdates:e}}return{hasUndo:!1,hasRedo:!1,totalUpdates:0}}}}},65380:function(e,t,n){n.d(t,{z:function(){return i}});const i=e=>{switch(e){case"error":return"#e53e3e";case"info":case"loading":default:return"#3182ce";case"warning":return"#dd6b20";case"success":return"#38a169"}}},88627:function(e,t,n){var i=n(85893),o=n(45161),r=n(93717),a=n(34292),s=n(71293),l=n(67918),c=n(85461),d=n(65380),u=n(55154),h=n(16344);t.Z=e=>{let{tool:t,maxHeaderWidth:n,children:g}=e;const m=(0,o.ff)("/res/images/patterns/herringbone.png","/res/images/patterns/herringbone-dark.png"),{showTutorial:p,group_link:f,balancePendingInUsd:x}=(0,h.P)();return(0,i.jsx)(r.k,{id:"form-container",w:"100%",height:"100%",overflowY:"auto",justifyContent:"center",mt:"0px !important",backgroundImage:"url(".concat(m,")"),bgRepeat:"repeat",bgSize:"auto",bgPosition:"center",position:"relative",children:(0,i.jsxs)(r.k,{w:"100%",pos:"absolute",justifyContent:"center",h:"auto",flexDirection:"column",px:{base:"1rem",md:"2.375rem"},pt:{base:"2rem",md:"2.375rem"},pb:"15rem !important",children:[(0,i.jsxs)(l.Z,{w:"100%",maxW:n,h:"auto",mb:"0.5rem",mx:"auto",children:[(0,i.jsxs)(a.U,{flexWrap:"wrap",justifyContent:"space-between",children:[t.video?(0,i.jsx)(c.Z,{onClick:()=>{p(t.id)},bg:(0,d.z)("info"),rightIcon:(0,i.jsx)(u.KoQ,{}),children:"Tutorial"}):null,(0,i.jsx)(c.Z,{as:"a",href:f,target:"_blank",bg:"#075E54",rightIcon:(0,i.jsx)(u.xpo,{}),children:"Join Group"})]}),x>0?(0,i.jsxs)(s.x,{color:"green.500",mt:"0.5rem",as:"div",fontSize:"12px",alignSelf:"flex-start",fontStyle:"italic",fontWeight:"bold",children:[(0,i.jsx)(u.Gi7,{style:{display:"inline"}}),"\xa0Your recent deposit of around $",(x||25.2323).toFixed(2)," worth of BNB is currently being confirmed, and will be credited to your balance within 2 minutes."]}):null]}),g]})})}},5397:function(e,t,n){n.d(t,{Z:function(){return fe}});var i=n(85893),o=n(11802),r=n(54494),a=n(67294),s=n(7963),l=n(45161),c=n(14225),d=n(36948),u=n(71293),h=n(48783),g=n(34292),m=n(55154),p=n(98303),f=n(93717),x=n(57747),w=n(96918);var b=e=>{let{id:t,sender:n,content:o,selected:r,onClick:a}=e;return(0,i.jsxs)(x.xu,{p:2,bg:r?(0,w.Z)("cardBg.light","cardBg.dark"):"transparent",_hover:{bg:(0,w.Z)("cardBg.light","cardBg.dark"),cursor:"pointer"},onClick:a,children:[(0,i.jsx)(u.x,{fontWeight:r?"bold":"normal",children:n}),(0,i.jsx)(u.x,{color:"gray.500",children:o})]},t)},v=n(51857),y=n.n(v),j=n(20967),C=n(89993),S=n(6089),I=n(22757),k=n(24880),D=n(66712),T=n(91170),E=n(4040),A=n(78230),B=n(65380),M=n(56691),P=n(31167);var U=e=>{let{title:t,subTitle:n,logoUrl:o,onBackClicked:r,onMenuItemClicked:s,onMenuOptionState:l,onMenuOptionBadge:c,menu:b,bg:v,background:U,color:O,height:N,titleStyle:Z,..._}=e;const[z,F]=(0,a.useState)([]),[H,W]=(0,a.useState)([]),{isOpen:X,onOpen:Y,onClose:J,onToggle:L}=(0,j.q)(),R=(0,p.S)({base:!0,md:!1}),V=(0,w.Z)("cardBg.light","cardBg.dark"),G=(0,w.Z)("cardBgHover.light","cardBgHover.dark");(0,a.useEffect)((()=>{const e=[],t=[];if(b&&b.length>0){for(var n=0;n<b.length;n++){const i=b[n];R&&i.onlyDesktop||!R&&i.onlyMobile||($(i,b.length,n)?e.push(i):t.push(i))}F(e),W(t)}}),[b,R]);const $=(e,t,n)=>e.showAlways||e.showIfRoom&&n!==t-1;return(0,i.jsxs)(f.k,{h:N||"40px",px:2,..._,justify:"space-between",align:"center",mb:0,bg:v||U||"transparent",children:[(0,i.jsxs)(f.k,{align:"center",children:[r?(0,i.jsx)(C.h,{"aria-label":"Toggle Sidebar",icon:(0,i.jsx)(d.J,{as:m.bUI}),onClick:r,variant:"ghost",size:"sm",mr:2}):null,o?(0,i.jsx)(P.Z,{as:b&&b.length>0?x.xu:P.Z,href:"/",onClick:L,children:(0,i.jsx)(S.E,{src:o,alt:t||"",width:"21px",height:"21px",mr:2})}):null,(0,i.jsxs)(h.g,{justifyContent:"flex-start",alignItems:"flex-start",gap:"0 !important",onClick:L,cursor:"pointer",children:[(0,i.jsx)(I.X,{size:"sm",color:O,mb:"0px !important",...Z||{},children:t}),n?(0,i.jsx)(u.x,{fontSize:"11px",fontWeight:"600",color:O,m:"0px !important",children:n}):null]})]}),b&&b.length>0?(0,i.jsxs)(f.k,{align:"center",children:[z.map(((e,t)=>{var n,o,r,a;return l&&"hide"!=l(e.id)?(0,i.jsxs)(x.xu,{position:"relative",display:"inline-block",opacity:["disable","loading"].includes(l(e.id))?"".concat(.2," !important"):1,className:["disable","loading"].includes(l(e.id))?"cursor-not-allowed-deep":"",onClick:()=>{s&&!["disable","loading"].includes(l(e.id))&&s(e.id)},children:[(0,i.jsxs)(x.xu,{pos:"relative",ml:2,children:[(0,i.jsx)(C.h,{title:e.title,"aria-label":e.title,icon:e.icon,colorScheme:O,variant:"ghost",size:"sm"},e.id),"loading"==l(e.id)?(0,i.jsx)(g.U,{justifyContent:"center",alignItems:"center",w:"100%",h:"100%",opacity:"1",fontSize:"xs",position:"absolute",top:"0",left:"0",m:"0px !important",p:"0px !important",children:(0,i.jsx)(M.Z,{type:M.Z.TYPES.tailSpin,color:(0,B.z)(c?null===(n=c(e.id))||void 0===n?void 0:n.status:null),width:"1.3rem",height:"1.3rem"})}):null]}),c&&((null===(o=c(e.id))||void 0===o?void 0:o.counts)||0)>0?(0,i.jsx)(k.C,{rounded:"7px",background:"".concat((0,B.z)(null===(r=c(e.id))||void 0===r?void 0:r.status)," !important"),color:"#fff",fontSize:"xs",position:"absolute",top:"5px",right:"5px",transform:"translate(50%, -50%)",children:(null===(a=c(e.id))||void 0===a?void 0:a.counts)||0}):null]},"menu_item_".concat(e.id)):null})),H.length>0?(0,i.jsxs)(D.v,{isOpen:X,onClose:J,children:[(0,i.jsx)(T.j,{onClick:L,as:C.h,color:O,"aria-label":"Menu",icon:(0,i.jsx)(d.J,{as:X?m.aHS:m.EAB}),variant:"ghost",size:"sm"}),(0,i.jsx)(E.q,{bg:V,id:"header",zIndex:"10",children:H.map(((e,t)=>{var n,o,r,a;return l&&"hide"!=l(e.id)?(0,i.jsx)(A.s,{title:e.title,"aria-label":e.title,opacity:["disable","loading"].includes(l(e.id))?"".concat(.2," !important"):1,className:["disable","loading"].includes(l(e.id))?"cursor-not-allowed-deep":"",bg:V,_hover:{bg:G},onClick:()=>{s&&"disable"!=l(e.id)&&s(e.id)},children:(0,i.jsxs)(g.U,{justifyContent:"space-between",alignItems:"center",w:"100%",children:[(0,i.jsxs)(g.U,{justifyContent:"flex-start",alignItems:"center",children:[e.icon?(0,i.jsx)(C.h,{"aria-label":e.title,icon:e.icon,variant:"ghost",size:"sm"}):null,(0,i.jsx)(u.x,{mb:"0 !important",ml:e.icon?2:0,color:O,children:e.title}),c&&((null===(n=c(e.id))||void 0===n?void 0:n.counts)||0)>0?(0,i.jsx)(k.C,{rounded:"7px",background:"".concat((0,B.z)(null===(o=c(e.id))||void 0===o?void 0:o.status)," !important"),color:"#fff",fontSize:"xs",transform:"translate(50%, -50%)",children:(null===(r=c(e.id))||void 0===r?void 0:r.counts)||0}):null]}),"loading"==l(e.id)?(0,i.jsx)(g.U,{justifyContent:"center",alignItems:"center",justifySelf:"flex-end",opacity:"1",cursor:"not-allowed !important",fontSize:"xs",m:"0px !important",p:"0px !important",children:(0,i.jsx)(M.Z,{type:M.Z.TYPES.tailSpin,color:(0,B.z)(c?null===(a=c(e.id))||void 0===a?void 0:a.status:null),width:"1.3rem",height:"1.3rem"})}):null]})},e.id):null}))})]}):null,(0,i.jsx)(y(),{id:"7c57b7a8495bd74",children:".cursor-not-allowed-deep.jsx-7c57b7a8495bd74{cursor:not-allowed}.cursor-not-allowed-deep.jsx-7c57b7a8495bd74 *.jsx-7c57b7a8495bd74{cursor:not-allowed}"})]}):null]})};var O=()=>{const e=(0,p.S)({base:!0,md:!1});return(0,i.jsx)(f.k,{w:"100%",h:"100%",px:2,bg:e?"white":"gray.50",p:4,flex:1,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:e?"lg":"none",rounded:e?"md":"none",children:(0,i.jsx)(u.x,{children:"Select a message to view"})})};var N=e=>{let{title:t,subTitle:n,chats:o,isLoadingChats:r,logoUrl:a,menu:s,singleChatMenu:l,onMenuItemClicked:c,noChatSelectedContent:d,children:u,headerBg:h,headerColor:m,headerHeight:v,mobileActionButton:y,noChatToListView:j,onChatTitle:C,renderChatItem:S,onMenuOptionState:I,onMenuOptionBadge:k,selectedMessage:D,setSelectedMessage:T}=e;const E=(0,p.S)({base:!0,md:!1}),A=(0,w.Z)("dividerColor.light","dividerColor.dark"),B=(0,w.Z)("cardBgHover.light","cardBgHover.dark"),P=(0,w.Z)("loadingColor.light","loadingColor.dark");return(0,i.jsxs)(f.k,{h:"100vh",maxH:"100vh",overflowY:"hidden",w:"100%",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",children:[E&&D?null:(0,i.jsxs)(x.xu,{overflowY:"hidden",display:"flex",flexDirection:"column",width:{base:"100%",md:"300px"},borderRightWidth:{base:"0px",md:"1px"},boxShadow:"lg",borderColor:A,bg:B,children:[(0,i.jsx)(U,{w:"100%",height:v||"50px",borderRight:"1px",borderColor:A,title:t,subTitle:n,logoUrl:a,menu:s,bg:h||void 0,color:m||void 0,onMenuItemClicked:c,onMenuOptionState:I,onMenuOptionBadge:k}),(0,i.jsxs)(x.xu,{px:2,pt:"0.5rem",w:"100%",h:"calc(100% - ".concat(v||"50px",")"),pos:"relative",overflowY:"auto",children:[0==o.length?j:(0,i.jsxs)(i.Fragment,{children:[o.map((e=>S?(0,i.jsxs)(i.Fragment,{children:[S(e),(0,i.jsx)(x.xu,{bg:A,height:"1px",width:"100%"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b,{...e,selected:(null===D||void 0===D?void 0:D.id)===e.id,onClick:()=>T(e)},e.id),(0,i.jsx)(x.xu,{bg:A,height:"1px",width:"100%"})]}))),(0,i.jsx)(x.xu,{h:"80px"})]}),r?(0,i.jsx)(g.U,{w:"100%",p:"15px",justifyContent:"center",alignItems:"center",children:(0,i.jsx)(M.Z,{type:M.Z.TYPES.threeDots,width:"2rem",height:"2rem",color:P})}):null]})]}),!E||D?(0,i.jsxs)(x.xu,{pos:"relative",width:{base:"100%",md:"calc(100% - 300px)"},children:[D?(0,i.jsx)(U,{title:C&&D?C(D):null,subTitle:E?n:null,onBackClicked:E?()=>{T(null)}:null,menu:l,bg:h||void 0,color:m||void 0,w:"100%",height:v||"50px",onMenuItemClicked:c,onMenuOptionState:I,onMenuOptionBadge:k,titleStyle:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:{base:"130px",md:"250px",lg:"300px"}}}):null,(0,i.jsx)(x.xu,{w:"100%",h:"calc(100% - ".concat(D?v||"50px":"0px",")"),overflow:"hidden",children:D?u:d||(0,i.jsx)(O,{})})]}):null,!D&&E&&y?y:null]})},Z=n(86455),_=n.n(Z),z=n(11163);var F=e=>{let{title:t,description:n,icon:o,onActionButtonClicked:r}=e;const s=(0,p.S)({base:!0,md:!1}),l=(0,a.useMemo)((()=>r?(0,i.jsxs)(c.z,{size:"lg",borderRadius:"full",colorScheme:"teal",zIndex:"sticky",onClick:()=>{r()},children:[(0,i.jsx)(d.J,{as:m.wEH,mr:2}),(0,i.jsx)(u.x,{mb:"0 !important",children:"Create Now"})]}):null),[r]);return(0,i.jsxs)(h.g,{w:"100%",h:"100%",px:2,bg:(0,w.Z)("cardBg.light","cardBg.dark"),p:4,flex:1,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:s?"lg":"none",rounded:s?"md":"none",children:[(0,i.jsx)(x.xu,{w:{base:"5rem",md:"10rem"},children:o}),(0,i.jsx)(u.x,{fontSize:"3rem",children:t}),(0,i.jsx)(u.x,{textAlign:"center",maxW:"600px",children:n}),l]})};var H=e=>{let{id:t,selected:n,onClick:o,itemName:r,itemTime:a,itemDescription:s,itemBadge:l}=e;return(0,i.jsxs)(x.xu,{w:"100%",overflow:"hidden",p:2,bg:n?(0,w.Z)("cardBg.light","cardBg.dark"):"transparent",_hover:{bg:(0,w.Z)("cardBg.light","cardBg.dark"),cursor:"pointer"},display:"flex",flexDirection:"column",onClick:o,children:[(0,i.jsx)(u.x,{mb:"0px !important",fontWeight:n?"bold":"normal",children:r}),(0,i.jsxs)(x.xu,{children:[(0,i.jsx)(u.x,{mb:"0px !important",color:"gray.500",noOfLines:{base:1,md:2},children:s}),(0,i.jsxs)(g.U,{justifyContent:"space-between",children:[(0,i.jsx)(k.C,{children:l}),(0,i.jsx)(u.x,{mb:"0px !important",color:"gray.500",fontStyle:"italic",children:a})]})]})]},t)},W=n(53754),X=n(16344),Y=n(69688);const J=1,L=2,R=3,V=4,G=5,$=6,K=7,q=8,Q=9,ee=10,te=11,ne=12,ie=13,oe=14,re=15,ae=16,se=17,le=18,ce=19,de=20,ue=[{id:J,title:"Create New",icon:(0,i.jsx)(m.wEH,{}),showAlways:!0,onlyDesktop:!0},{id:L,title:"Track/Fund Wallet",icon:(0,i.jsx)(m.OZg,{}),showAlways:!0},{id:R,title:"Softbaker Home",icon:(0,i.jsx)(m.xng,{})},{id:G,title:"Tutorial",icon:(0,i.jsx)(m.KoQ,{})},{id:ie,title:"Softbaker Tools",icon:(0,i.jsx)(m.CP_,{})},{id:V,title:"Contact US",icon:(0,i.jsx)(m.SRX,{})},{id:ae,title:"Join Whatsapp Group",icon:(0,i.jsx)(m.xpo,{})},{id:ne,title:"Sign In",icon:(0,i.jsx)(m.IPB,{})},{id:$,title:"Sign Out",icon:(0,i.jsx)(m.fHX,{})},{id:oe,title:"Switch Theme",icon:(0,i.jsx)(m.TLr,{})},{id:re,title:"Switch Theme",icon:(0,i.jsx)(m.Mei,{})},{id:le,title:"App Version",icon:(0,i.jsx)(m.RHD,{}),showAlways:!1},{id:ce,title:"Tool Version",icon:(0,i.jsx)(m.Rd$,{}),showAlways:!1},{id:de,title:"Tool Editor",icon:(0,i.jsx)(m._TT,{}),showAlways:!1}],he=[{id:se,title:"Fund Wallet",icon:(0,i.jsx)(m.Dfw,{}),showAlways:!1},{id:te,title:"Save Update",icon:(0,i.jsx)(m.TvB,{}),showAlways:!0},{id:Q,title:"Undo",icon:(0,i.jsx)(m.wXW,{}),showAlways:!0},{id:ee,title:"Redo",icon:(0,i.jsx)(m.WLu,{}),showAlways:!0},{id:K,title:"Copy as New",icon:(0,i.jsx)(m.esY,{}),showAlways:!1},{id:q,title:"Delete",icon:(0,i.jsx)(m.Xm5,{}),showAlways:!1}];var ge=e=>{let{tool:t,form:n,historyProps:r,dataSourceProps:p,savingData:f,setSavingData:x,publishTexts:b,handlePublishData:v,getItemName:y,getItemTime:j,getItemDescription:C,getItemBadge:S,onOverWriteCopiedData:I}=e;const k=(0,s.p)(),D=(0,z.useRouter)(),{colorMode:T,toggleColorMode:E}=(0,l.If)(),{auth:A,user:B,signIn:M,signOut:P,showWallet:U,showTools:O,showTutorial:Z,deposit:ge,getTool:me,balanceInUsd:pe,contact_link:fe,group_link:xe}=(0,X.P)(),we=(0,Y.Z)(),{addHistory:be,clearHistory:ve,clearAllHistory:ye,undo:je,redo:Ce,getCurrentTimeline:Se,getCurrentTimelineData:Ie}=r,{dataList:ke,newData:De,selectedIsNew:Te,setNewData:Ee,loadingData:Ae,dataError:Be,selectedData:Me,setSelectedData:Pe,initData:Ue,updateNewData:Oe,deleteData:Ne}=p;(0,a.useEffect)((()=>{Be&&k({description:Be,status:"error",duration:4e3,isClosable:!0})}),[Be]);const Ze=()=>{Ue().then((e=>{Pe(null),console.log("handleCreateData: ",e),Pe(e)})).catch((e=>{_().fire({icon:"error",text:e.message})}))},_e=(0,a.useMemo)((()=>(0,i.jsxs)(c.z,{pos:"fixed",bottom:4,right:4,size:"lg",borderRadius:"full",colorScheme:"teal",zIndex:"sticky",onClick:()=>{Ze()},children:[(0,i.jsx)(d.J,{as:m.wEH,mr:2}),(0,i.jsx)(u.x,{mb:"0 !important",children:b.createButtonText})]})),[Ze]),ze=(0,w.Z)("cardBg.light","cardBg.dark"),Fe=(0,a.useMemo)((()=>(0,i.jsxs)(h.g,{w:"100%",h:"auto",px:2,bg:ze,p:4,flex:1,display:"flex",alignItems:"center",justifyContent:"center",children:[(0,i.jsx)(g.U,{w:{base:"5rem",md:"10rem"},justifyContent:"center",alignItems:"flex-start",children:(0,i.jsx)(m.AFA,{size:"3rem"})}),(0,i.jsx)(u.x,{textAlign:"center",children:b.noChatToListMessage})]})),[Ze,ze]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(N,{isLoadingChats:Ae,title:t.name,logoUrl:"/logo.png",subTitle:B?(0,i.jsxs)(u.x,{p:"0px !important",m:"0px !important",fontWeight:"bold",children:["Balance: ",(0,i.jsxs)(u.x,{color:"green.500",p:"0px !important",m:"0px !important",display:"inline",children:["$",(0,W.xz)(pe)]})]}):null,headerBg:(0,w.Z)("navbarBg.light","navbarBg.dark"),headerHeight:"55px",menu:ue,singleChatMenu:he,onMenuItemClicked:e=>{if(e!=de)if(e!=le)if(e!=ce)if(e!=J)if(e!=L)if(e!=se)if(e!=R)if(e!=ie)if(e!=G)if(e!=V)if(e!=ae)if(e!=ne)if(e!=$)if(e!=oe&&e!=re){if(e==K&&Me){const e=I({...Me});Oe(e).then((e=>{Pe(e);Se(o.XA)||(e.id=o.XA,be(e.id,e))})).catch((e=>{_().fire({icon:"error",text:e.message})}))}if(e==te&&v().then((()=>{x(!1),k({description:"Successfully saved.",status:"success",duration:4e3,isClosable:!0})})).catch((e=>{x(!1),((null===e||void 0===e?void 0:e.message)||"").length>0&&_().fire({icon:"error",title:"Failed to save. Try again later.",text:e.message})})),e==Q&&Me){const e=je(Me.id);Pe(e)}if(e==ee&&Me){const e=Ce(Me.id);Pe(e)}if(e==q){if(!Me)return;Te()?(ve(Me.id),Ne(Me).catch((e=>{_().fire({icon:"error",text:e.message})}))):_().fire({icon:"warning",text:b.deleteWarning,cancelButtonText:"No",confirmButtonText:"Yes",showCancelButton:!0}).then((e=>{e.isConfirmed&&(ve(Me.id),Ne(Me).then((()=>{Pe(null)})).catch((e=>{_().fire({icon:"error",text:e.message})})))}))}}else E();else A&&_().fire({icon:"warning",text:"Are you sure you want to sign out?",confirmButtonText:"Yes",cancelButtonText:"No",showCancelButton:!0}).then((e=>{e.isConfirmed&&P().then((()=>{ye(),Ee(null),Pe(null),k({description:"You're now signed out",status:"success",duration:4e3,isClosable:!0})})).catch((()=>{k({description:"Failed to signout",status:"error",duration:4e3,isClosable:!0})}))}));else M(b.signInMessage,b.signUpMessage).then((e=>{})).catch((e=>{((null===e||void 0===e?void 0:e.message)||"").length>0&&_().fire({icon:"error",title:"Authentication Error",text:e.message})}));else xe&&(location.href=xe);else fe&&(location.href=fe);else{const e=me(t.id);(null===e||void 0===e?void 0:e.mobileVideoUrl)&&(null===e||void 0===e?void 0:e.desktopVideoUrl)?Z(t.id):_().fire({icon:"info",title:"No Tutorial Yet",text:"No tutorial has been uploaded yet for this tool. This tool is easy to use though. Just try it out."})}else O(t.id);else D.push("/");else ge(o.Jo,null,null);else U(o.Jo);else Ze();else _().fire({title:"Tool Version",icon:"info",text:"Your tool version is v".concat(t.toolVersionCode)});else _().fire({title:"App Version",icon:"info",text:"Your app version is v".concat(o.TF)});else D.push("/tool-editor")},noChatToListView:Fe,noChatSelectedContent:(0,i.jsx)(F,{title:t.name,description:t.description,icon:t.icon,dataSize:ke.length,isLoading:Ae,onActionButtonClicked:Ze}),onChatTitle:e=>Te()?"New...":y(e),renderChatItem:e=>(0,i.jsx)(H,{...Me&&Me.id==e.id?Me:e,selected:(null===Me||void 0===Me?void 0:Me.id)==e.id,onClick:()=>{const t=Se(e.id);t?Pe(t):(Pe(e),be(e.id,e))},itemBadge:S(e),itemDescription:C(e),itemName:y(e),itemTime:j(e)},e.id),onMenuOptionState:e=>{if(e==K&&Te())return"hide";const t=Ie((null===Me||void 0===Me?void 0:Me.id)||"none");if(e==te){if(Te())return"hide";if(f)return"loading";if(t.totalUpdates<2||f)return"disable"}return(e!=Q||t.hasUndo)&&(e!=ee||t.hasRedo)?e==ne&&B?"hide":(e!=$||B)&&(e!=V||fe)&&(e!=ae||xe)&&(e!=L||B)&&(e!=se||B)?e==oe&&"dark"===T||e==re&&"light"===T?"hide":e!=de||we.isToolsEditor?"show":"hide":"hide":"disable"},onMenuOptionBadge:e=>{const t=Ie((null===Me||void 0===Me?void 0:Me.id)||"none");if(!Te()&&e==te&&t.totalUpdates>1){return{counts:t.totalUpdates-1,status:"info"}}return null},chats:[...De?[De]:[],...ke],selectedMessage:Me,setSelectedMessage:e=>{Pe(e)},mobileActionButton:_e,children:n})})},me=n(5555);const pe=e=>{if(e.id==o.XA)return"NEW";{const t=(0,me.Ft)(e.updatedAt);return(null===t||void 0===t?void 0:t.toDateString)?t.toDateString():(0,i.jsx)(M.Z,{type:M.Z.TYPES.threeDots,width:"1rem",height:"1rem",color:"grey"})}};var fe=e=>{let{historyProps:t,dataSourceProps:n,dataHandlerProps:a,tool:s,form:l,publishTexts:c,getItemName:d,getItemBadge:u,getItemDescription:h,onOverWriteCopiedData:g}=e;const{savingData:m,setSavingData:p,handleUpdateData:f,handlePublishData:x}=a;return(0,i.jsx)(r.Z,{title:s.name,description:s.description,image:"".concat(o.Le,"/logo.png"),bareBoneOnly:!0,children:(0,i.jsx)(ge,{tool:s,form:l,publishTexts:c,historyProps:t,dataSourceProps:n,savingData:m,setSavingData:p,handleUpdateData:f,handlePublishData:x,getItemBadge:u,getItemDescription:h,getItemTime:pe,getItemName:d,onOverWriteCopiedData:g})})}},11303:function(e,t,n){var i=n(67294);t.Z=(e,t,n)=>{const[o,r]=(0,i.useState)(),a=t=>({waitTime:0,checker:(t,n)=>new Promise(((i,o)=>{const a=e(t,n);a?(r(a),i(!1)):(r(""),i(!0))}))}),s={error:o,checkHandler:a};return t&&(s[t]=o),n&&(s[n]=a),s}},80419:function(e,t,n){var i=n(85893),o=n(67294),r=n(7963),a=n(53978),s=n(71293),l=n(57747),c=n(55154);const d={text:0,address:1,refCode:2,link:3,shillText:4,refLink:5,phone:6},u=e=>{let t;switch(e){case d.address:t="Address copied";break;case d.refCode:t="Referral code copy copied";break;case d.refLink:t="Referral link copied";break;case d.shillText:t="Promotion text copied";break;case d.phone:t="Phone number copied copied";break;default:t="Text copied"}return t},h=e=>{let{as:t,textToCopy:n,children:d,type:h,copyType:g,maxChars:m,onCopyMessage:p,...f}=e;h=g||h;const x=(0,r.p)(),[w,b]=(0,o.useState)("Hello world"),{hasCopied:v,onCopy:y}=(0,a.V)(n||d||"");return(0,o.useEffect)((()=>{v&&x({description:p||u(h),duration:3e3,status:"success",isClosable:!0})}),[v]),(0,i.jsxs)(l.xu,{as:t||"span",cursor:"pointer",onClick:y,...f,children:[((e,t)=>{if(!t||e.length<=t)return e;var n=Math.round(t/2);return(0,i.jsxs)(s.x,{as:"span",children:[e.substring(0,n),"\u2026",e.slice(-1*(t-n))]})})(d||"",m||0)," ",d&&0!=d.length?(0,i.jsx)(l.xu,{as:"span",children:(0,i.jsx)(l.xu,{as:c.esY,display:"inline-block"})}):null]})};h.Types=d,t.Z=h},85461:function(e,t,n){var i=n(85893),o=n(67294),r=n(57747),a=n(34292),s=n(71293),l=n(96918);t.Z=e=>{let{outlined:t,as:n,children:c,onClick:d,isActive:u,leftIcon:h,rightIcon:g,disabled:m,textAlign:p,textTransform:f,status:x,...w}=e;const b=(0,l.Z)("pageBg.light","pageBg.dark"),v=(0,l.Z)("colorAccent.light","colorAccent.dark"),[y,j]=(0,o.useState)();(0,o.useEffect)((()=>{switch(x){case"error":j("#e53e3e");break;case"info":j("#3182ce");break;case"warning":j("#dd6b20");break;case"disabled":default:j("#dfdfdf");break;case"success":case"loading":j("#38a169")}}),[x]);const C=()=>{if(m)return"not-allowed";switch(x){case"disabled":return"not-allowed";case"loading":return"wait";default:return"pointer"}};return(0,i.jsx)(r.xu,{as:n||"button",borderRadius:"5px",p:"5px",bg:t?"transparent":y||(u?v:b),borderColor:"".concat(y||(u?v:b)," !important"),border:t?"1px":"none",color:t?"".concat(y||(u?v:b)," !important"):y?"#fff":"inherit",cursor:C(),minH:"30px",minW:"60px",display:"flex",justifyContent:"center",alignItems:"center",onClick:m||"loading"==x?()=>{}:d,_hover:{opacity:"pointer"==C()?"0.7":"0.4"},fontStyle:"loading"==x?"italic":"normal",opacity:"pointer"==C()?"1":"0.4",...w,children:(0,i.jsxs)(a.U,{justifyContent:"center",alignItems:"center",w:"100%",children:[(0,i.jsx)(r.xu,{mx:"2px !important",children:h}),(0,i.jsx)(s.x,{as:"div",w:"100%",textAlign:p||"center",textTransform:f||"capitalize",children:c}),(0,i.jsx)(r.xu,{mx:"2px !important",children:g})]})})}},69688:function(e,t,n){var i=n(67294),o=n(16344);const r="can_create_tools",a="can_edit_tools",s={uid:null,isAdmin:!1,isToolsEditor:!1,canCreateTools:!1,canEditTools:!1};t.Z=()=>{const{adminInfo:e,user:t,balanceInUsd:n}=(0,o.P)(),[l,c]=(0,i.useState)(JSON.parse(JSON.stringify(s)));return(0,i.useEffect)((()=>{if(null===e||void 0===e?void 0:e.permissions){const t=JSON.parse(JSON.stringify(s));t.uid=e.uid,t.isAdmin=!0,t.canCreateTools=e.permissions.includes(r),t.canEditTools=e.permissions.includes(a),t.isToolsEditor=t.canCreateTools||t.canEditTools,c(t)}else c({});console.log("adminInfo: ",e,n,t)}),[e]),l}},30351:function(e,t,n){function i(e){return new Promise(((t,n)=>{const i=new Image;i.onload=function(){const e=document.createElement("canvas"),n=e.getContext("2d");e.width=i.width,e.height=i.height,n.drawImage(i,0,0);const o=n.getImageData(0,0,e.width,e.height).data;let r=e.width,a=e.height,s=0,l=0;for(let t=0;t<e.height;t++)for(let n=0;n<e.width;n++){o[4*(t*e.width+n)+3]>0&&(r=Math.min(r,n),a=Math.min(a,t),s=Math.max(s,n),l=Math.max(l,t))}const c=document.createElement("canvas"),d=c.getContext("2d"),u=s-r,h=l-a;c.width=u,c.height=h,d.drawImage(e,r,a,u,h,0,0,u,h);const g=c.toDataURL("image/png");t(g)},i.onerror=function(e){console.log("ImageLoadError:3 ",e),n(new Error("Error loading image"))},i.src=e}))}function o(e){return new Promise(((t,n)=>{const i=new Image;i.onload=function(){const e=document.createElement("canvas");e.width=i.width,e.height=i.height;const n=e.getContext("2d");n.drawImage(i,0,0);const o=n.getImageData(0,0,e.width,e.height).data.every((e=>0===e));t(o)},i.onerror=function(e){console.log("ImageLoadError:4 ",e),n(new Error("Error loading image"))},i.src=e}))}function r(e){return new Promise(((t,n)=>{const i=new Image;i.onload=function(){t({width:i.width,height:i.height})},i.onerror=function(e){console.log("ImageLoadError:5 ",e),n(new Error("Error loading image"))},i.src=e}))}function a(e,t,n){return new Promise(((i,o)=>{const r=new Image;r.onload=function(){const e=document.createElement("canvas"),o=e.getContext("2d");e.width=r.width,e.height=r.height,o.drawImage(r,0,0);const a=o.getImageData(0,0,e.width,e.height),s=a.data,l=Math.floor(n/100*(e.width*e.height));for(let t=0;t<l;t++){const t=Math.floor(Math.random()*e.width);s[4*(Math.floor(Math.random()*e.height)*e.width+t)+3]=0}const c=220;for(let n=0;n<s.length;n+=4){const e=s[n],i=s[n+1],o=s[n+2],r=s[n+3];e>c&&i>c&&o>c&&r>c?s[n+3]=0:r>0&&(s[n]=t[0],s[n+1]=t[1],s[n+2]=t[2])}o.putImageData(a,0,0);const d=e.toDataURL("image/png");i(d)},r.onerror=function(e){console.log("ImageLoadError:6 ",e),o(new Error("Error loading image"))},e?r.src=e:i(null)}))}n.d(t,{Me:function(){return o},aD:function(){return a},gP:function(){return r},jl:function(){return s},xJ:function(){return i}});function s(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(((n,i)=>{const o=new Image;o.onload=function(){const e=document.createElement("canvas"),i=e.getContext("2d");e.width=o.width,e.height=o.height,i.drawImage(o,0,0);const r=i.getImageData(0,0,e.width,e.height).data;let a=0,s=0,l=0,c=0;const d={};for(let t=0;t<r.length;t+=4){const e=r[t],n=r[t+1],i=r[t+2],o=e>=240&&n>=240&&i>=240;(!o||Math.random()<.3)&&(a+=e,s+=n,l+=i,c++);const u="".concat(e,",").concat(n,",").concat(i);d[u]=(d[u]||0)+1,o&&0}const u=[Math.round(a/c),Math.round(s/c),Math.round(l/c)];if(t){let e=u,t=0;for(const n in d)if(d[n]>t){const[i,o,r]=n.split(",").map(Number);e=[i,o,r],t=d[n]}n(e)}else n(u)},o.onerror=function(t){console.log("imageError",e),console.log("ImageLoadError:7 ",t),i(new Error("Error loading image"))},e?o.src=e:n(null)}))}},5555:function(e,t,n){n.d(t,{Ft:function(){return o},SG:function(){return r},xV:function(){return a}});var i=n(36100);const o=e=>{try{return e.toDate()}catch(t){return e}},r=e=>{try{return i.EK.fromDate(e)}catch(t){return e}};function a(e,t,n){return t.map((function(t){return"string"===typeof t||"number"===typeof t?t:new Intl.DateTimeFormat("en",t).format(e)})).join(n)}}}]);