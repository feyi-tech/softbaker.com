"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[687],{59501:function(e,t,n){var a=n(85893),o=n(45161),i=n(14225),r=n(34292),s=n(57747),l=n(71293),c=n(55204);t.Z=e=>{let{as:t,onClick:n,children:d,variant:g,bgColor:h,outlineColor:u,leftIcon:m,rightIcon:p,loading:f,disabled:x,...w}=e;const v=h||(0,o.ff)("colorAccent.light","colorAccent.dark"),b=u||(0,o.ff)("colorAccentDestination.light","colorAccentDestination.dark");return(0,a.jsx)(i.z,{as:t||"button",cursor:"pointer",disabled:x||f,onClick:e=>{!n||x||f||n(e)},display:"inline-flex",justifyContent:"center",alignItems:"center",p:"0px 24px",h:"48px",letterSpacing:"0.03em",textAlign:"center",borderRadius:"16px",bg:"outline"==g?"transparent":v,border:"outline"==g?"2px solid":"none",borderColor:"outline"==g?b:"transparent",color:"outline"==g?b:"#fff",boxShadow:"ghost"==g||"outline"==g?"none":"rgb(14 14 44 / 40%) 0px -1px 0px 0px inset",opacity:"ghost"==g?"0.8":"1",transition:"background-color 0.2s ease 0s, opacity 0.2s ease 0s",_hover:{opacity:"0.65",border:"none !important"},_disabled:{opacity:"0.65",cursor:"not-allowed"},...w,children:(0,a.jsxs)(r.U,{justifyContent:"center",alignItems:"center",children:[m?(0,a.jsx)(s.xu,{mr:"7px",children:m}):null,(0,a.jsx)(l.x,{as:"div",children:d}),f?(0,a.jsx)(s.xu,{as:c.g4,display:"inline",width:"20%",height:"20%",color:"#fff"}):p?(0,a.jsx)(s.xu,{ml:"7px",children:p}):null]})})}},35052:function(e,t,n){var a=n(85893),o=n(67294),i=n(94345),r=n(85461),s=n(55154),l=n(48783),c=n(71293),d=n(34292),g=n(6089),h=n(77181),u=n(57369),m=n(13653),p=n(98170);t.Z=e=>{let{galleryKey:t,onClose:n,onImage:f,maxFileSize:x,isOtherFiles:w,onThumb:v,title:b,message:y,hoverMessage:j,ruleMessage:k,useImageText:I,accept:C}=e;const{logger:S}=(0,p.Z)(),[E,F]=(0,o.useState)(!1),[T,A]=(0,o.useState)(!1),[R,z]=(0,o.useState)(null),[D,U]=(0,o.useState)();(0,o.useEffect)((()=>{if(t){const e=(0,u.fe)(t);if(e){z(e);const t=(0,m.g8)(e);e&&U(t)}}}),[t]);const[B,O]=(0,o.useState)();return(0,o.useEffect)((()=>{D&&R&&v?v(D,R).then((e=>{O(e)})).catch((e=>{console.error("handleUseImage: ",e.message),O(void 0)})):O(R)}),[R]),(0,a.jsx)(i.Z,{title:b,isOpen:!0,onClose:()=>n(),children:(0,a.jsxs)(l.g,{p:"0.5rem",id:"upload-area",justifyContent:"center",alignItems:"center",mb:4,width:"100%",height:"300px",cursor:"pointer",border:"4px dashed ".concat(E?"#dd6b20":"#ccc"),onDragEnter:e=>{e.preventDefault(),F(!0)},onDragOver:e=>{e.preventDefault()},onDragLeave:e=>{e.preventDefault(),F(!1)},onDrop:async e=>{if(T)return;e.preventDefault(),F(!1);const t=e.dataTransfer.files;if(t.length>0){const e=new FileReader,n=t[0];e.onload=async e=>{if(x&&x>0&&!w&&n.size>x){A(!0);const e=await(0,h.t)(n,x);z(e.base64),U(e.file),A(!1)}else{var t;const a=null===(t=e.target)||void 0===t?void 0:t.result;z(a),U(n)}},e.readAsDataURL(n)}},children:[(0,a.jsx)(s.DUB,{size:"2rem"}),(0,a.jsxs)(l.g,{alignItems:"center",children:[(0,a.jsx)(c.x,{as:"div",fontSize:"12px",children:E?j:y}),(0,a.jsx)(c.x,{as:"div",fontSize:"14px",children:"OR"}),(0,a.jsx)(r.Z,{status:"info",mb:"1rem",onClick:()=>{if(S("handleClickUpload.called:",p.j.info),T)return void S("handleClickUpload.aborted: processing in progress",p.j.warning);const e=document.createElement("input");e.type="file",e.accept=C||"image/*",e.style.display="none",document.body.appendChild(e),e.addEventListener("change",(async t=>{const n=t.target.files;if(document.body.removeChild(e),n&&n.length>0){const e=n[0];S("File selected: ".concat(JSON.stringify({name:e.name,size:e.size,type:e.type})),p.j.info);const t=new FileReader;t.onload=async t=>{var n;S("FileReader.onload fired:",p.j.info);const a=null===(n=t.target)||void 0===n?void 0:n.result;if(a)if(x&&x>0&&!w&&e.size>x){S("File size exceeds maxFileSize, resizing...",p.j.info),A(!0);const t=await(0,h.t)(e,x);S("Image resized.size: ".concat(t.base64.length),p.j.info),z(t.base64),U(t.file),A(!1)}else S("File within size limit, setting base64 image",p.j.warn),z(a),U(e);else S("FileReader result is empty or undefined",p.j.error)},t.onerror=e=>{S("FileReader.onerror fired: ".concat((null===e||void 0===e?void 0:e.message)||e),p.j.error)},t.readAsDataURL(e)}else S("No file selected or file input is empty",p.j.warn)})),e.click()},display:T?"none":"block",children:"Click to Upload"}),(0,a.jsxs)(c.x,{as:"div",fontSize:"12px",textAlign:"center",children:["(",k,")"]}),T?(0,a.jsx)(c.x,{as:"div",fontSize:"12px",fontStyle:"italic",color:"#3182ce",children:"Processing image. Please wait..."}):null,(0,a.jsx)(d.U,{justifyContent:"center",alignItems:"flex-end",flexWrap:"wrap",children:R&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.E,{src:B||"",bg:"#cfcfcf",width:"auto",height:"70px",border:"4px ridge #dd6b20"}),(0,a.jsx)(r.Z,{status:"warning",h:"70px",onClick:()=>{f(D,R,B)},disabled:T,fontStyle:T?"italic":"normal",children:T?"Please wait...":I})]})})]})]})})}},98687:function(e,t,n){n.d(t,{Z:function(){return M}});var a=n(85893),o=n(51857),i=n.n(o),r=n(57747),s=n(85970),l=n(34292),c=n(5418),d=n(6089),g=n(71293),h=n(67294),u=n(30351),m=n(3804),p=n(35052),f=n(49626),x=n(85461),w=n(53754),v=n(82084),b=(n(72554),n(48783)),y=n(81136),j=n(49289),k=n(98924),I=n(59501);const C=async(e,t)=>{const n=await(a=e,new Promise(((e,t)=>{const n=new Image;n.addEventListener("load",(()=>e(n))),n.addEventListener("error",(e=>t(e))),n.src=a})));var a;const o=document.createElement("canvas"),i=o.getContext("2d");if(!i)throw new Error("Could not get canvas context");const r=t.width*n.width/100,s=t.height*n.height/100,l=t.x*n.width/100,c=t.y*n.height/100;return o.width=r,o.height=s,i.drawImage(n,l,c,r,s,0,0,r,s),{base64:o.toDataURL("image/png")}};var S=e=>{let{image:t,imageFile:n,imageCropArg:o,onThumb:i,onImage:s}=e;const[c,u]=(0,h.useState)(),[m,p]=(0,h.useState)(null),[f,x]=(0,h.useState)(!1);(0,h.useEffect)((()=>{t&&w()}),[t]);const w=async()=>{try{u({unit:"%",x:25,y:20,width:50,height:50})}catch(e){console.error("Error loading image:",e),s(null,null,null,e)}};return(0,a.jsx)(k.Z,{title:"Crop Image",isOpen:!0,width:"100%",height:"100%",placement:"top",onClose:()=>{s(null,null,null,null)},overflowY:"auto",children:(0,a.jsx)(b.g,{width:"100%",alignItems:"center",children:f?(0,a.jsxs)(b.g,{p:"0.5rem",width:"300px",height:"300px",pos:"relative",justifyContent:"center",alignItems:"center",children:[(0,a.jsx)(y.$,{size:"xl",mb:2}),(0,a.jsx)(g.x,{as:"div",textAlign:"center",fontStyle:"italic",children:"Processing image. Please wait..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(b.g,{border:"1px",p:"0.5rem",width:"300px",height:"300px",pos:"relative",justifyContent:"flex-start",alignItems:"center",mb:4,children:[o.sampleImage&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.U,{justifyContent:"flex-start",alignItems:"flex-end",mb:0,children:[(0,a.jsx)(d.E,{width:"auto",height:"60px",src:o.sampleImage,border:"1px dashed"}),(0,a.jsx)(g.x,{as:"div",children:"Sample Image"})]}),(0,a.jsx)(j.i,{})]}),(0,a.jsx)(v.ZP,{crop:c,onChange:(e,t)=>{t.width>5&&t.height>5&&u(t)},onComplete:(e,t)=>{p(t)},children:(0,a.jsx)(d.E,{src:t,height:"200px",width:"auto"})})]}),o.message&&(0,a.jsx)(r.xu,{children:(0,a.jsx)(g.x,{as:"div",textAlign:"center",maxWidth:"600px",children:o.message})}),(0,a.jsx)(I.Z,{onClick:async()=>{if(x(!0),m)try{const e=await C(t,m);s(null,e.base64),x(!1)}catch(e){console.error("Error cropping the image:",e),s(null,null,null,e),x(!1)}},outlineColor:"#dd6b20",children:"Submit Crop"})]})})})},E=n(65040),F=n(93717),T=n(94345),A=n(85963),R=n(11802),z=n(33939),D=n(13653);const U=["\ud83e\udde0 Applying AI magic... Step {CURRENT} of {TOTAL}. Your image's background is being removed as we speak!\ud83d\udd25","\ud83e\udde0 Applying AI magic... Step {CURRENT} of {TOTAL}. Please be patient. Nothing's broken. The background is still being removed.\ud83d\udc4c","\ud83e\udde0 Applying AI magic... Step {CURRENT} of {TOTAL}. AI does good job at tasks like this. But can be a little bit slow if your mobile phone or PC's GPU is low. Please be patient.\u270c","\ud83e\udde0 Applying AI magic... Step {CURRENT} of {TOTAL}. Hang on buddy. All is working fine. Your image's background is being removed as we speak.\ud83d\ude0d","\ud83e\udde0 Applying AI magic... Step {CURRENT} of {TOTAL}. Only step 1 takes the longest time. The remaining steps take less than a few seconds in total.\ud83d\ude80"];var B=(e,t,n)=>{const[a,o]=(0,h.useState)(),[i,r]=(0,h.useState)(),[s,l]=(0,h.useState)(),c=(0,z.Z)(5),d=()=>{if(a){const e=Date.now();!s&&a.key.includes("compute:inference")&&l(e),r(function(e,t,n,a,o){let i="";if(e.startsWith("fetch:"))i=t<n?"\ud83d\ude80 Downloading background removal tools... ".concat(Math.floor(t/n*100),"% completed. If this is your first time, this may take a bit longer. But don\u2019t worry, next time will be much faster!"):"\u2705 Tools downloaded! We're all set for quick background removal from now on.";else if(e.includes("compute:decode"))i="\ud83d\udd0d Decoding image data... Step ".concat(t," of ").concat(n,". Hang tight, we're preparing your image for background removal.");else if(e.includes("compute:inference")){const e=o-a,r=Math.floor(e/1e4)%U.length;i=U[r].replace("{CURRENT}","".concat(t)).replace("{TOTAL}","".concat(n))}else i="Wrapping up... Step ".concat(t," of ").concat(n,". Your image is being re-touched!");return i}(a.key,a.current,a.total,s||e,e))}};(0,h.useEffect)((()=>{d()}),[c]),(0,h.useEffect)((()=>{d()}),[a]);const[g,u]=(0,h.useState)({imageData:e,imageFile:t});(0,h.useEffect)((()=>{u({imageData:e,imageFile:t})}),[e,t]);const[m,p]=(0,h.useState)({publicPath:R.c9,progress:(e,t,n)=>{o({key:e,current:t,total:n}),console.info("Downloading; ".concat(e,": ").concat(t," of ").concat(n))}}),f=(e,t)=>new Promise(((n,a)=>{const o=new Image;o.src=e,o.onload=()=>{const e=document.createElement("canvas");e.width=o.width*t,e.height=o.height*t;const i=e.getContext("2d");i?(i.drawImage(o,0,0,e.width,e.height),n(e.toDataURL())):a(new Error("Failed to get canvas context"))},o.onerror=()=>{a(new Error("Failed to load image for downscaling"))}})),x=(e,t)=>new Promise(((n,a)=>{const o=new Image,i=new Image;o.src=e,i.src=t,o.onload=()=>{i.onload=()=>{const e=document.createElement("canvas");e.width=o.width,e.height=o.height;const t=e.getContext("2d");t?(t.drawImage(o,0,0,e.width,e.height),t.globalCompositeOperation="destination-in",t.drawImage(i,0,0,e.width,e.height),n(e.toDataURL())):a(new Error("Failed to get canvas context"))},i.onerror=()=>{a(new Error("Failed to load mask image"))}},o.onerror=()=>{a(new Error("Failed to load original image"))}}));return{progress:a,progressMessage:i,startBackgroundRemoval:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise(((a,o)=>{let i=Promise.resolve(e),r=e;n&&n<1&&(i=f(e,n)),i.then((e=>(0,A.X1)(e,m))).then((e=>{const n=new FileReader;n.onloadend=()=>{const e=n.result;x(r,e).then((e=>{let n;t&&(n=(0,D.g8)(e,t.name,t.type));const o={imageData:e,imageFile:n};u(o),a(o)})).catch((e=>{o(e)}))},n.onerror=()=>{o(new Error("Failed to convert blob to base64"))},n.readAsDataURL(e)})).catch((e=>{o(e)}))}))},imageState:g}},O=n(86455),Z=n.n(O),P=n(98170);var L=e=>{let{image:t,imageFile:n,onThumb:o,onImage:i,debug:r}=e;const{logger:s}=(0,P.Z)(),[l,c]=(0,h.useState)(!0),{startBackgroundRemoval:u,progress:m,progressMessage:p}=B(t,n,r),f=async(e,t)=>{let n,a;if(t&&(a=(0,D.g8)(e,t.name,t.type)),o&&a)try{n=await o(a,e)}catch(r){console.error(r)}i(a,e,n)};return(0,h.useEffect)((()=>{t&&(c(!0),(async e=>new Promise((t=>{const n=new Image;n.src=e,n.onload=()=>{const e=document.createElement("canvas"),a=e.getContext("2d");if(!a)return t(!1);e.width=n.width,e.height=n.height,a.drawImage(n,0,0);const o=a.getImageData(0,0,e.width,e.height).data,i=.15,r=[[0,0],[e.width-i*e.width,0],[0,e.height-i*e.height],[e.width-i*e.width,e.height-i*e.height]],s=(t,n)=>{const a=4*(n*e.width+t);return o[a+3]<51};let l=0;const c=.0225*e.width*e.height;for(const[t,n]of r)for(let a=0;a<i*e.width;a++)for(let o=0;o<i*e.height;o++)s(t+a,n+o)&&l++;t(l/c>.5)},n.onerror=()=>t(!1)})))(t).then((async e=>{e?(await f(t,n),c(!1)):c(!1)})).catch((e=>{s("ImageBackgroundRemover.checkImageTransparency.error:".concat(null===e||void 0===e?void 0:e.message),P.j.error),i(null,null,null,e)})))}),[t]),(0,a.jsx)(T.Z,{title:"Background Remover",isOpen:!0,width:"100%",height:"100%",onClose:()=>{i(null,null,null,null)},children:(0,a.jsxs)(b.g,{spacing:4,alignItems:"center",children:[(0,a.jsx)(d.E,{src:t,height:"250px",width:"auto",overflowY:"auto"}),m&&l&&p?(0,a.jsxs)(b.g,{w:"200px",alignItems:"center",children:[(0,a.jsx)(E.E,{value:m.current/m.total*100,width:"100%",borderRadius:"2px",hasStripe:!0,isAnimated:!0}),(0,a.jsx)(g.x,{as:"div",fontSize:"12px",textAlign:"center",fontStyle:"italic",children:p}),(0,a.jsx)(y.$,{size:"sm"})]}):l?(0,a.jsxs)(b.g,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,a.jsx)(y.$,{size:"xl",mb:2}),(0,a.jsx)(g.x,{as:"div",textAlign:"center",fontStyle:"italic",children:"Checking Image opacity. Please be patient..."})]}):(0,a.jsxs)(F.k,{w:"100%",flexDirection:{base:"column",md:"row"},justifyContent:{base:"flex-start",md:"center"},children:[(0,a.jsx)(I.Z,{fontSize:"0.7rem",bgColor:"tomato",mr:{base:"0px",md:"0.5rem"},mb:{base:"0.5rem",md:"0px"},onClick:()=>{c(!0),u().then((async e=>{s("ImageBackgroundRemover.startBackgroundRemoval.ok: ".concat(e.imageData?"resultImageData":""," ").concat(e.imageFile?"resultImageFile":""," ").concat(n?"imageFile":""),P.j.info),await f(e.imageData,e.imageFile||n),c(!1)})).catch((e=>{s("ImageBackgroundRemover.startBackgroundRemoval.error:".concat(null===e||void 0===e?void 0:e.message),P.j.error),c(!1),i(null,null,null,e)}))},children:"Remove Background"}),(0,a.jsx)(I.Z,{fontSize:"0.7rem",variant:"outline",outlineColor:"tomato",onClick:()=>{Z().fire({icon:"warning",title:"Skip Background Removal",text:"Are you sure you want to skip image background removal? If your image has a background, we recommend removing the background.",confirmButtonText:"Yes, Skip",cancelButtonText:"No",showCancelButton:!0}).then((async e=>{e.isConfirmed&&(c(!0),await f(t,n),c(!1))}))},children:"Skip Background Removal"})]})]})})},N=n(77181);var M=e=>{let{onThumb:t,accept:n,galleryKey:o,title:v,thumbnail:b,onChange:y,disableCrop:j,disabled:k,info:I,helperText:C,errorMessage:E,message:F,hoverMessage:T,ruleMessage:A,useImageText:R,maxFileSize:z,isOtherFiles:U,showAsButton:B,textTransform:O,labelEndIcon:Z,imageCropArg:M,removeBackground:_,format:Y,quality:W,...K}=e;const[q,H]=(0,h.useState)(!1),[$,J]=(0,h.useState)(!1),[G,X]=(0,h.useState)(!1),[Q,V]=(0,h.useState)(!1),[ee,te]=(0,h.useState)(),[ne,ae]=(0,h.useState)(),[oe,ie]=(0,h.useState)(),{logger:re}=(0,P.Z)(),se=(e,t,n,a)=>{if(t&&ee&&!U){V(!0);const a=e||(0,D.g8)(t,ee.name,ee.type);(0,N.t)(a,z||a.size,Y,W).then((e=>{te(e.file),ae(e.base64),y(e.file,e.base64,n),V(!1)})).catch((e=>{re("UploadInput.resizeImage.error:".concat(null===e||void 0===e?void 0:e.message),P.j.error),y(null,null,null,e),V(!1)}))}else re("UploadInput.handleOnChange.empty",P.j.info),y(e,t,n,a)};return(0,a.jsxs)(r.xu,{...K,children:[B?(0,a.jsx)(x.Z,{status:"success",onClick:e=>{e.preventDefault(),k||Q||H(!0)},children:v}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.NI,{opacity:Q||k?.4:1,cursor:Q||k?"not-allowed":"pointer",children:[(0,a.jsxs)(l.U,{w:"100%",justifyContent:"space-between",alignItems:"center",children:[!v||(0,w.N4)(I)||k?(0,a.jsx)(c.l,{textTransform:O||"capitalize",mb:"0px",children:v}):(0,a.jsx)(f.Z,{as:c.l,info:I,textTransform:O||"capitalize",children:v}),Z||null]}),(0,a.jsxs)(l.U,{className:"image-selector-button",onClick:e=>{e.preventDefault(),k||Q||H(!0)},children:[(0,a.jsx)(r.xu,{width:"auto",height:"40px",bg:"#dfdfdf",children:!Q&&b?(0,a.jsx)(d.E,{src:b,width:"auto",h:"40px",objectFit:"cover"}):null}),(0,a.jsx)(g.x,{as:"div",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontStyle:Q?"italic":"normal",children:Q?"Please wait...":b?"Click to change":"Click to upload"})]})]}),(0,a.jsx)(m.Z,{type:m.Z.TYPES.none,helperText:C,errorMessage:E})]}),q?(0,a.jsx)(p.Z,{galleryKey:o,title:v,message:F,onThumb:t,hoverMessage:T,ruleMessage:A,useImageText:R,maxFileSize:z,onImage:(e,t,n,a)=>{((e,t,n,a)=>{H(!1),j||U?se(e,t,n):(V(!0),M?(te(e),ae(t),ie(n),J(!0)):_?(te(e),ae(t),ie(n),X(!0)):(0,u.xJ)(t).then((t=>{se(e,t,n),V(!1)})).catch((e=>{re("UploadInput.cropImage.error:".concat(null===e||void 0===e?void 0:e.message),P.j.error),V(!1)})))})(e,t,n)},onClose:()=>{H(!1)},isOtherFiles:U,accept:n}):null,$&&ne&&M?(0,a.jsx)(S,{image:ne,imageFile:ee,imageCropArg:M,onThumb:t,onImage:(e,t,n,a)=>{e&&te(e),t&&ae(t),n&&ie(n),_&&t?(J(!1),X(!0)):(V(!1),J(!1),t?se(e,t,n):a&&se(null,null,null,a))}}):null,G&&ne&&_?(0,a.jsx)(L,{image:ne,imageFile:ee,onThumb:t,onImage:(e,t,n,a)=>{e&&te(e),t&&ae(t),n&&ie(n),V(!1),X(!1),t?se(e,t,n):a&&se(null,null,null,a)}}):null,(0,a.jsx)(i(),{id:"95178590041dfe1a",children:".image-selector-button{width:100%;min-width:0px;outline:2px solid transparent;outline-offset:2px;position:relative;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;-webkit-transition-property:var(--chakra-transition-property-common);-moz-transition-timing-function:var(--chakra-transition-property-common);-o-transition-timing-function:var(--chakra-transition-property-common);transition-property:var(--chakra-transition-property-common);-webkit-transition-duration:var(--chakra-transition-duration-normal);-moz-transition-duration:var(--chakra-transition-duration-normal);-o-transition-duration:var(--chakra-transition-duration-normal);transition-duration:var(--chakra-transition-duration-normal);font-size:var(--chakra-fontSizes-md);-webkit-padding-start:var(--chakra-space-4);-moz-padding-start:var(--chakra-space-4);padding-inline-start:var(--chakra-space-4);-webkit-padding-end:var(--chakra-space-10);-moz-padding-end:var(--chakra-space-10);padding-inline-end:var(--chakra-space-10);height:var(--chakra-sizes-10);-webkit-border-radius:var(--chakra-radii-md);-moz-border-radius:var(--chakra-radii-md);border-radius:var(--chakra-radii-md);border:1px solid;border-color:inherit;background:inherit}"})]})}},33939:function(e,t,n){var a=n(67294);t.Z=e=>{const[t,n]=(0,a.useState)(Date.now());return(0,a.useEffect)((()=>{const t=setInterval((()=>{n(Date.now())}),e);return()=>clearInterval(t)}),[e]),t}},13653:function(e,t,n){function a(e,t,n){var a;const[o,i]=e.split(",");if(n=n||(null===(a=o.match(/:(.*?);/))||void 0===a?void 0:a[1]),!t){const e=(null===n||void 0===n?void 0:n.split("/")[1])||"bin";t="file_".concat(Date.now(),".").concat(e)}const r=window.atob(i),s=r.length,l=new Uint8Array(s);for(let d=0;d<s;d++)l[d]=r.charCodeAt(d);const c=new Blob([l],{type:n});return new File([c],t,{type:n})}n.d(t,{g8:function(){return a}})},57369:function(e,t,n){n.d(t,{OL:function(){return i},fe:function(){return o},ht:function(){return a}});const a={faceshot:"SOFTBAKER_FACESHOT"},o=e=>localStorage.getItem(e),i=e=>{((e,t)=>{try{localStorage.setItem(e,t)}catch(n){try{localStorage.clear(),localStorage.setItem(e,t)}catch(n){}}})(a.faceshot,e)}},77181:function(e,t,n){n.d(t,{t:function(){return a}});const a=async(e,t,n,a)=>new Promise(((o,i)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=async i=>{var r;const s=new Image;s.src=null===(r=i.target)||void 0===r?void 0:r.result,s.onload=()=>{const i=document.createElement("canvas"),r=i.getContext("2d");i.width=s.width,i.height=s.height,r.drawImage(s,0,0);const l=r.getImageData(0,0,i.width,i.height).data.length/(i.width*i.height),c=t/l,d=Math.sqrt(c);let g,h;s.width>=s.height?(g=d,h=s.height*(d/s.width)):(h=d,g=s.width*(d/s.height)),i.width=g,i.height=h,r.drawImage(s,0,0,g,h),i.toBlob((t=>{if(t){n=n?"".concat(n.startsWith("image/")?"":"image/").concat(n):e.type;const r=new File([t],e.name,{type:e.type});o({base64:i.toDataURL(n,a||1),file:r})}}),e.type)}},r.onerror=e=>i(e)}))}}]);