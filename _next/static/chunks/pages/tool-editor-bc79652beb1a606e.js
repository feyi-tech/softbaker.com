(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[244],{43023:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tool-editor",function(){return o(1408)}])},11303:function(e,t,o){"use strict";var r=o(67294);t.Z=(e,t,o)=>{const[a,n]=(0,r.useState)(),i=t=>({waitTime:0,checker:(t,o)=>new Promise(((r,a)=>{const i=e(t,o);i?(n(i),r(!1)):(n(""),r(!0))}))}),s={error:a,checkHandler:i};return t&&(s[t]=a),o&&(s[o]=i),s}},1408:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return xe}});var r=o(85893),a=o(5397),n=o(67294),i=o(34292),s=o(57747),l=o(7963),c=o(71293),d=o(48783),h=o(93717),u=o(70959),p=o(44461),m=o(24124),f=o(84028),g=o(90889),x=o(67918),b=o(36238),v=o(85461),w=o(11303),T=o(56691),j=o(86455),_=o.n(j),y=o(53754),k=o(80419),E=o(55154),S=o(11802),C=o(96918),F=o(88627),Z=o(98687),P=o(32033),I=o(51857),D=o.n(I),N=o(85970),U=o(49626),M=o(94345),O=o(92709);const Y=e=>{let{id:t,name:o,element:a,...n}=e;return(0,r.jsxs)(i.U,{cursor:"pointer",justifyContent:"flex-start",alignItems:"flex-end",mb:1,...n,children:[(0,r.jsx)(i.U,{w:"35px",h:"35px",justifyContent:"center",alignItems:"center",borderRadius:"5px",border:"1px solid #dfdfdf",children:a()}),(0,r.jsx)(c.x,{as:"div",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:o})]})},A=e=>{let{id:t}=e;const[o,r]=(0,n.useState)();return(0,n.useEffect)((()=>{t&&O.Z[t]&&r(O.Z[t])}),[t]),null===o||void 0===o?void 0:o.element()};var z=e=>{let{title:t,value:o,onChange:a,disabled:l,errorMessage:d,info:u,helperText:p,...m}=e;const[f,g]=(0,n.useState)(!1),[x,v]=(0,n.useState)();return(0,n.useEffect)((()=>{o&&O.Z[o]&&v(O.Z[o])}),[o]),(0,r.jsxs)(s.xu,{...m,children:[(0,r.jsxs)(N.NI,{opacity:l?.4:1,cursor:l?"not-allowed":"pointer",children:[(0,r.jsx)(U.Z,{textTransform:"capitalize",info:u,children:t}),(0,r.jsxs)(i.U,{className:"image-selector-button",onClick:e=>{e.preventDefault(),l||g(!0)},children:[(0,r.jsx)(h.k,{width:"25px",height:"25px",justifyContent:"center",alignItems:"center",p:"0px !importanr",children:x?(0,r.jsx)(r.Fragment,{children:x.element()}):null}),(0,r.jsx)(c.x,{as:"div",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",children:x?x.name:"Select Icon"})]})]}),(0,r.jsx)(b.Z,{type:b.Z.TYPES.none,helperText:p,errorMessage:d}),f?(0,r.jsxs)(M.Z,{title:t,isOpen:!0,onClose:()=>{g(!1)},children:[(0,r.jsx)(c.x,{mb:"1rem",children:"Select an Icon."}),(0,r.jsx)(s.xu,{height:"50vh",pos:"relative",overflowY:"auto",px:"0.5rem",children:Object.values(O.Z).map(((e,t)=>(0,r.jsx)(Y,{...e,onClick:()=>{a(e.id),g(!1)},border:o===e.id?"1px dashed":"none",borderRadius:o===e.id?"5px":"0px",_hover:{opacity:"0.4"}},t)))})]}):null,(0,r.jsx)(D(),{id:"42ccd62b5c30613c",children:".image-selector-button{width:100%;min-width:0px;outline:2px solid transparent;outline-offset:2px;position:relative;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;-webkit-transition-property:var(--chakra-transition-property-common);-moz-transition-timing-function:var(--chakra-transition-property-common);-o-transition-timing-function:var(--chakra-transition-property-common);transition-property:var(--chakra-transition-property-common);-webkit-transition-duration:var(--chakra-transition-duration-normal);-moz-transition-duration:var(--chakra-transition-duration-normal);-o-transition-duration:var(--chakra-transition-duration-normal);transition-duration:var(--chakra-transition-duration-normal);font-size:var(--chakra-fontSizes-md);-webkit-padding-start:var(--chakra-space-4);-moz-padding-start:var(--chakra-space-4);padding-inline-start:var(--chakra-space-4);-webkit-padding-end:var(--chakra-space-10);-moz-padding-end:var(--chakra-space-10);padding-inline-end:var(--chakra-space-10);height:var(--chakra-sizes-10);-webkit-border-radius:var(--chakra-radii-md);-moz-border-radius:var(--chakra-radii-md);border-radius:var(--chakra-radii-md);border:1px solid;border-color:inherit;background:inherit}"})]})},W=o(96331),q=o(3683),H=o(62122),L=o(4623),R=o(38118),B=o(93239),V=o(25723);var X=e=>{const[t,o]=(0,n.useState)(),[r,a]=(0,n.useState)(),[i,s]=(0,n.useState)(),{user:l}=(0,W.P)();(0,n.useEffect)((()=>{console.info("useFonts:fonts => ",r)}),[r]);return(0,n.useEffect)((()=>{e&&(0,B.fY)(e).then((async e=>{s(e)})).catch((e=>{o(e.message)}))}),[e]),(0,n.useEffect)((()=>{i&&(0,B.Xx)(i,["ttf","woff"]).then((e=>{a({...r,...e})})).catch((e=>{o(e.message)}))}),[i]),{error:t,fonts:r,setFonts:a,uploadFonts:()=>new Promise((async(e,t)=>{if(r){const o=[];for(const e of Object.values(r))!e.url&&e.file&&o.push({id:e.id,file:e.file,fileName:"".concat(e.id,".").concat(e.ext),dir:"fonts"});if(o.length>0){if(!l)return t(new Error("Please sign in"));(0,V.dq)(l,o,"https://r2.softbaker.com/").then((n=>{const i={...r},s={};n.forEach((e=>{if((0,y.N4)(e.error))i[e.id].url=e.url;else{const t=new Error(e.error);i[e.id].readError=t.message,s[e.id]=t.message}})),Object.keys(s).length==o.length?t(new Error("The font(s) failed to upload: ".concat(JSON.stringify(s)))):Object.keys(s).length>0?(a(i),t(new Error("Some or all fonts failed to upload: ".concat(JSON.stringify(s))))):(a(i),e(r))})).catch((e=>{t(e)}))}else e({})}else e(null)}))}};const $=e=>{const t=e.lastIndexOf(".");return e.substring(t+1)};var G=o(83612);const J=e=>{let{onChange:t,fontData:o,...a}=e;const[i,s]=(0,n.useState)();return(0,n.useEffect)((()=>{o.dataUrl&&o.ext&&(0,B.YW)(o.dataUrl,o.ext).then((e=>{s(e)})).catch((e=>{}))}),[o]),(0,r.jsx)(Z.Z,{thumbnail:i,isOtherFiles:!0,accept:"font/*",onThumb:async(e,t)=>t&&e?(0,B.YW)(t,$(e.name)):null,onChange:(e,o,r)=>{s(r),t(e,o,r)},...a})},K={psd:"Photoshop Unit",em:"em Unit"},Q=e=>{let{fontData:t,cssActions:o,onChanged:a,...s}=e;const[l,c]=(0,n.useState)(),[d,h]=(0,n.useState)(),[u,p]=(0,n.useState)(),[m,f]=(0,n.useState)();(0,n.useEffect)((()=>{var e;const r=null===(e=((null===o||void 0===o?void 0:o.if_property_and_value)||{})[(0,G.xC)("font-family",t.name)])||void 0===e?void 0:e.declarations;if(r)for(const t of r)if("letter-spacing"==t.property){const{value:e,unit:o}=(0,G.Zl)(t.value);e&&o&&Object.keys(K).includes(o)&&(l||c(e),d||h(o))}}),[o]),(0,n.useEffect)((()=>{l&&g(l)}),[l]),(0,n.useEffect)((()=>{d&&x(d)}),[d]);const g=e=>{if(p(""),!e||!d)return;try{if(isNaN(Number(e.trim())))return void p("Enter a valid number")}catch(n){return}const r={...o};r.if_property_and_value=(null===o||void 0===o?void 0:o.if_property)||{},r.if_property_and_value["".concat((0,G.xC)("font-family",t.name))]={declarations:[{property:"letter-spacing",value:"".concat(e.trim()).concat(d)}]},a(r)},x=e=>{if(f(""),!e||!l)return;const r={...o};r.if_property_and_value=(null===o||void 0===o?void 0:o.if_property)||{},r.if_property_and_value["".concat((0,G.xC)("font-family",t.name))]={declarations:[{property:"letter-spacing",value:"".concat(l).concat(e)}]},a(r)};return(0,r.jsxs)(i.U,{w:"100%",justifyContent:"space-between",alignItems:"center",...s,children:[(0,r.jsx)(b.Z,{width:"60%",type:b.Z.TYPES.text,value:l,onChange:c,id:"".concat(t.name,"_letter_spacing"),title:"".concat(t.name," Letter Spacing"),helperText:"Adjust the letter spacing of the font here.",info:"This is where you adjust the letter spacing of the font.",errorMessage:u},"".concat(t.id,"_spacing_value")),(0,r.jsx)(b.Z,{width:"40%",type:b.Z.TYPES.select,options:Object.keys(K),onOptionValue:e=>e,onOptionName:e=>K[e],value:d,onChange:h,id:"".concat(t.name,"_letter_spacing_unit"),title:"".concat(t.name," Letter Spacing Unit"),helperText:"Set the letter spacing uinit here.",info:"This is where you set the letter spacing unit.",errorMessage:m},"".concat(t.id,"_spacing_unit"))]})};var ee=e=>{let{fonts:t,onFontsChanged:o,cssActions:a,onCssActionsChanged:i}=e;return(0,n.useEffect)((()=>{}),[t]),(0,n.useEffect)((()=>{console.log("parsedSvg:cssActions ",a)}),[a]),(0,r.jsx)(r.Fragment,{children:t?Object.values(t||{}).filter((e=>!0)).map((e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(J,{mb:2,width:"100%",fontData:e,onChange:(r,a)=>{a&&r&&o({...t,[e.id]:{...t[e.id]||{},file:r,dataUrl:a,ext:$(r.name)}})},id:e.name,title:"".concat(e.name," Font"),helperText:e.url?"".concat(e.name," font already upload."):"Upload the ".concat(e.name," font here."),info:"This is where you upload the ".concat(e.name," font."),message:"Drag and Drop the ".concat(e.name," font file here"),hoverMessage:"Drop the font file here",ruleMessage:"Make sure you're uploading a font file.",useImageText:"Use Font"},e.id),(0,r.jsx)(Q,{fontData:e,cssActions:a,onChanged:i,mb:4})]}))):null})},te=o(10151),oe=o(23596);var re=(e,t)=>{const[o,r]=(0,n.useState)({}),[a,i]=(0,n.useState)({});return(0,n.useEffect)((()=>{t&&r(t)}),[t]),(0,n.useEffect)((()=>{if(e){const t={},n={};for(const r of Object.values(e))"defgen"==r.type&&r.code&&a[r.id]!=r.code&&(t[r.id]=(0,te.l)(r.code,o,oe.oh),n[r.id]=r.code);Object.keys(n).length>0&&i({...a,...n}),Object.keys(t).length>0&&r({...o,...t})}}),[e,o]),{fieldsData:o,setFieldsData:r}};const ae={min:2,max:64,required:!0},ne={min:2,max:128,required:!0},ie={min:2,max:64,required:!0},se={min:2,max:64,required:!1},le={min:1,max:1e15,required:!0},ce={min:.1,max:1e15,required:!0},de=e=>{let{icon:t,...o}=e;return(0,r.jsxs)(i.U,{justifyContent:"space-between",alignItems:"center",...o,children:[(0,r.jsx)(s.xu,{border:"1px dashed",width:"45%",height:"1px"}),t,(0,r.jsx)(s.xu,{border:"1px dashed",width:"45%",height:"1px"})]})};var he=e=>{let{tool:t,data:o,isNew:a,onUpdateData:j,onPublishData:I,saving:D,setSaving:N,hasPendingSave:U,collectionName:M}=e;if(!o)return null;const O=(0,l.p)(),{user:Y}=(0,W.P)(),[A,B]=(0,n.useState)(!1),[V,$]=(0,n.useState)(!1),[G,J]=(0,n.useState)(),{nameError:K,nameChecker:Q}=(0,w.Z)((e=>(0,y.N4)(e)&&ae.required?"Enter the tool name.":!(0,y.N4)(e)&&e.length<ae.min?"The tool name is too short. It must be up to ".concat(ae.min," characters."):e.length>ae.max?"The tool name is too long. It must not be greater than ".concat(ae.max," characters."):null),"nameError","nameChecker"),{descriptionError:te,descriptionChecker:oe}=(0,w.Z)((e=>(0,y.N4)(e)&&ne.required?"Enter the tool description.":!(0,y.N4)(e)&&e.length<ne.min?"The tool description is too short. It must be up to ".concat(ne.min," characters."):e.length>ne.max?"The tool description is too long. It must not be greater than ".concat(ne.max," characters."):null),"descriptionError","descriptionChecker"),{iconError:he,iconChecker:ue}=(0,w.Z)((e=>(0,y.N4)(e)&&ie.required?"Select the tool icon.":null),"iconError","iconChecker"),{youtubeError:pe,youtubeChecker:me}=(0,w.Z)((e=>(0,y.N4)(e)&&se.required?"Enter the tool youtube guide link.":!(0,y.N4)(e)&&e.length<se.min?"The tool youtube guide link is too short. It must be up to ".concat(se.min," characters."):!(0,y.N4)(e)&&e.length>se.max?"The tool youtube guide link is too long. It must not be greater than ".concat(se.max," characters."):null),"youtubeError","youtubeChecker"),{createPriceError:fe,createPriceChecker:ge}=(0,w.Z)((e=>(0,y.N4)(e)&&le.required?"Enter the tool create cost.":!(0,y.N4)(e)&&parseFloat(e)<le.min?"The tool create cost is too small. It must be up to ".concat(le.min,"."):parseFloat(e)>le.max?"The tool create cost is too much. It must not be greater than ".concat(le.max,"."):null),"createPriceError","createPriceChecker"),{updatePriceError:xe,updatePriceChecker:be}=(0,w.Z)((e=>(0,y.N4)(e)&&ce.required?"Enter the tool create cost.":!(0,y.N4)(e)&&parseFloat(e)<ce.min?"The tool create cost is too small. It must be up to ".concat(ce.min,"."):parseFloat(e)>ce.max?"The tool create cost is too much. It must not be greater than ".concat(ce.max,"."):null),"updatePriceError","updatePriceChecker"),[ve,we]=(0,n.useState)(),[Te,je]=(0,n.useState)(!1),{templatesLoading:_e,templatesError:ye,selectedTemplateLoading:ke,selectedTemplateError:Ee,parsingTemplate:Se,templates:Ce,selectedTemplate:Fe,selectedTemplateData:Ze,workingTemplate:Pe,workingTemplateData:Ie,setAsDefaulTemplate:De,setWorkingTemplate:Ne,setWorkingTemplateData:Ue,selectTemplate:Me,parseTemplateSvg:Oe,saveTemplate:Ye,deleteTemplate:Ae}=(0,q.Z)(o.templates_url),{fieldsData:ze,setFieldsData:We}=re(null===Ie||void 0===Ie?void 0:Ie.fields),[qe,He]=(0,n.useState)({}),[Le,Re]=(0,n.useState)(!1),[Be,Ve]=(0,n.useState)(!1),[Xe,$e]=(0,n.useState)(!1),[Ge,Je]=(0,n.useState)(!1);(0,n.useEffect)((()=>{Ge||(0==Object.keys(Ce).length?$e(!0):$e(!1))}),[Ce]);const{error:Ke,fonts:Qe,setFonts:et,uploadFonts:tt}=X(null===Ie||void 0===Ie?void 0:Ie.svg),[ot,rt]=(0,n.useState)(),at=(e,t)=>{rt(e)};(0,n.useEffect)((()=>{}),[Qe]);const[nt,it]=(0,n.useState)(!1),st=(0,n.useMemo)((()=>Ie?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(P.Z,{isFieldsEditMode:!0,created:Be,showFieldsErrors:Le,fields:Ie.fields,images:Ie.images,masks:Ie.masks,data:ze,isDragable:!0,onDragged:(e,t)=>{Ue({...Ie,fields:e,...t?{masks:t}:{}})},onAllFieldsDataChange:We,onFieldDataChange:(e,t)=>{We({...ze,[e]:t})},fieldDataErrorMessage:qe,onSetFieldDataErrorMessage:He})}):null),[Ie,Be,ze,qe]),lt=(0,n.useMemo)((()=>(0,r.jsxs)(r.Fragment,{children:[Qe&&Object.keys(Qe).length>0?(0,r.jsx)(de,{icon:(0,r.jsx)(E.SXi,{}),mb:4}):null,(0,r.jsx)(ee,{fonts:Qe,onFontsChanged:e=>{et(e)},cssActions:null===Ie||void 0===Ie?void 0:Ie.cssActions,onCssActionsChanged:e=>{Ie&&Ue({...Ie,cssActions:e})}})]})),[Qe,null===Ie||void 0===Ie?void 0:Ie.cssActions]);return(0,r.jsx)(F.Z,{tool:t,maxHeaderWidth:"100%",children:(0,r.jsxs)(x.Z,{w:"100%",maxW:"100%",h:"auto",children:[o.id!=S.XA?(0,r.jsx)(i.U,{flexWrap:"wrap",justifyContent:"space-between",children:(0,r.jsxs)(i.U,{flexWrap:"wrap",children:[(0,r.jsxs)(c.x,{m:"0px !important",mr:1,display:"none",children:["Tracking No:"," "]}),(0,r.jsx)(k.Z,{display:"none",fontWeight:"bold",m:"0px !important",mr:2,children:o.id})]})}):(0,r.jsxs)(d.g,{alignItems:"flex-start",children:[(0,r.jsxs)(i.U,{flexWrap:"wrap",justifyContent:"flex-start",alignItems:"center",children:[(0,r.jsx)(E.a_$,{})," ",(0,r.jsx)(c.x,{m:"0px !important",mr:1,children:"New Tool"})]}),(0,r.jsxs)(c.x,{as:"div",fontSize:"13px",children:["Click the info icon(",(0,r.jsx)(E.DAO,{style:{display:"inline"}}),") beside each form fields for help on what to enter."]})]}),(0,r.jsx)(h.k,{w:"100%",flexWrap:"wrap",m:"15px auto",children:(0,r.jsx)(s.xu,{w:{base:"100%"},bg:"#dd6b20",p:"1rem",children:(0,r.jsxs)(s.xu,{bg:(0,C.Z)("cardBg.light","cardBg.dark"),minH:"80vh",w:"100%",p:{base:"1rem"},borderRadius:"24px",children:[(0,r.jsxs)(u.m,{isFitted:!0,variant:"enclosed",children:[(0,r.jsxs)(p.t,{mb:"1em",children:[(0,r.jsx)(m.O,{children:"Edit Mode"}),(0,r.jsx)(m.O,{children:"View Mode"})]}),(0,r.jsxs)(f.n,{children:[(0,r.jsxs)(g.x,{children:[(0,r.jsx)(i.U,{w:"100%",borderBottom:Xe?"none":"2px solid",borderBottomLeftRadius:"5px",mb:4,children:(0,r.jsx)(v.Z,{status:"success",leftIcon:Xe?(0,r.jsx)(E.dSq,{}):(0,r.jsx)(E.tgn,{}),onClick:()=>{Je(!0),$e(!Xe)},children:"Tool Settings"})}),Xe?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(de,{icon:(0,r.jsx)(E.p4t,{}),mt:4}),(0,r.jsx)(b.Z,{w:"100%",id:"Form_".concat(o.id,"_name"),title:"Tool name",mb:4,placeholder:"Enter the name of the tool",info:"This is what will be shown to the users as the name of the tool. It must be a name that let the user knows what the tool does.",helperText:"Enter the name of the tool. It must be a name that let the user knows what the tool does.",type:b.Z.TYPES.text,value:o.name,onChange:e=>{j&&j({id:o.id,name:e})},onCheckInfo:Q,errorMessage:K},"Form_".concat(o.id,"_name")),(0,r.jsx)(b.Z,{w:"100%",id:"Form_".concat(o.id,"_description"),title:"Tool Description",mb:4,placeholder:"Enter the description of the tool",info:"This is what will be shown to the users as the description of the tool. It must be a description that doesn't encourage crime.",helperText:"Enter the description of the tool. It must be a description that doesn't encourage crime.",type:b.Z.TYPES.textarea,value:o.description,onChange:e=>{j&&j({id:o.id,description:e})},onCheckInfo:oe,errorMessage:te},"Form_".concat(o.id,"_description")),(0,r.jsx)(z,{w:"100%",id:"Form_".concat(o.id,"_icon"),title:"Tool Icon",mb:4,placeholder:"Select an Icon for the tool",info:"This is where you select an icon that best represents the tool.",helperText:"Select an icon that best represents the tool.",type:b.Z.TYPES.text,value:o.icon,onChange:e=>{j&&j({id:o.id,icon:e})},onCheckInfo:ue,errorMessage:he},"Form_".concat(o.id,"_icon")),(0,r.jsx)(b.Z,{w:"100%",id:"Form_".concat(o.id,"_youtube"),title:"Tool Youtube(Optional)",mb:4,placeholder:"Enter the youtube link of the tool",info:"This is where you enter the youtube video guide link for the tool.",helperText:"Enter the youtube video guide link for the tool.",type:b.Z.TYPES.text,value:o.youtube,onChange:e=>{j&&j({id:o.id,youtube:e})},onCheckInfo:me,errorMessage:pe},"Form_".concat(o.id,"_youtube")),(0,r.jsx)(b.Z,{w:"100%",id:"Form_".concat(o.id,"_create_price"),title:"Create Price($)",mb:4,placeholder:"Enter the cost of creating a job",info:"This is where you enter the cost of the tool usage per job.",helperText:"Enter the cost of the tool usage per job.",type:b.Z.TYPES.number,numberDecimals:0,value:o.create_price,onChange:e=>{j&&j({id:o.id,create_price:e})},onCheckInfo:ge,errorMessage:fe},"Form_".concat(o.id,"_create_price")),(0,r.jsx)(b.Z,{w:"100%",id:"Form_".concat(o.id,"_update_price"),title:"Update Price($)",mb:1,placeholder:"Enter the cost of updating a job",info:"This is where you enter the cost of updating a job done with the tool.",helperText:"Enter the cost of updating a job done with the tool.",type:b.Z.TYPES.number,numberDecimals:1,value:o.update_price,onChange:e=>{j&&j({id:o.id,update_price:e})},onCheckInfo:be,errorMessage:xe},"Form_".concat(o.id,"_update_price")),(0,r.jsx)(de,{icon:(0,r.jsx)(E.p4t,{}),mb:4})]}):null,(0,r.jsx)(H.Z,{w:"100%",id:"Form_".concat(o.id,"_select_template"),title:"Select Template",mb:4,helperText:"Select a template to edit or add.",info:"This is where you select a template to edit or a new template to add",templates:{...Ce,...Pe?{[Pe.id]:Pe}:{}},createdTemplatesKeys:Object.keys(Ce),value:Pe,onChange:e=>{e&&Me(e.id)},onDelete:Ae,onNewTemplateSvgUploaded:(e,t)=>{t&&Oe(t,!0).then((e=>{console.log("parsedSvg:parseTemplateSvg",e)})).catch((e=>{console.log("parsedSvg:parseTemplateSvg.error",e),_().fire({icon:"error",title:"SVG template build error",text:e.message})}))},onCheckInfo:()=>null,errorMessage:null},"Form_".concat(o.id,"_select_template")),Pe?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.xu,{border:"1px dashed",p:"1rem",borderRadius:"5px",mb:4,children:[(0,r.jsx)(b.Z,{w:"100%",id:"Form_".concat(o.id,"_tmp_name"),title:"Template Name",mb:4,placeholder:"Enter the template name",info:"This is where you enter a name for the template.",helperText:"Enter a name for the template.",type:b.Z.TYPES.text,numberDecimals:1,value:Pe.name||"",onChange:e=>{Ne({...Pe,name:e})},onCheckInfo:be,errorMessage:xe},"Form_".concat(o.id,"_tmp_name")),(0,r.jsx)(Z.Z,{isOtherFiles:!0,w:"100%",mb:4,id:"Form_".concat(o.id,"_tmp_logo"),title:"Template Logo",info:"This is where you upload a logo for the template.",helperText:"Select a logo for the template.",thumbnail:Pe.logo,message:"Drag and Drop image here",hoverMessage:"Drop the file here",ruleMessage:"Make sure you're uploading a 70x70 image.",useImageText:"Use Image",maxFileSize:3072,onChange:(e,t)=>{Ne({...Pe,logo:t})},onCheckInfo:()=>null,errorMessage:null},"Form_".concat(o.id,"_tmp_logo")),(0,r.jsx)(b.Z,{w:"100%",mb:4,id:"Form_".concat(o.id,"_tmp_default"),title:"Set as Default",helperText:"Enabling this set the template as the default template selected for the user.",info:"This is where you decide id you want this template to be set as the default template selected for the user.",type:b.Z.TYPES.checkbox,value:Pe.is_default||!1,onChange:e=>{De(e)},errorMessage:null},"Form_".concat(o.id,"_tmp_default")),lt]}),_e||ke?(0,r.jsx)(R.Z,{message:"Loading template assets...",minH:"100px"}):st]}):null]}),(0,r.jsxs)(g.x,{p:"0px",children:[(0,r.jsx)(i.U,{w:"100%",justifyContent:"flex-end",children:(0,r.jsx)(b.Z,{id:"toggleFilter",title:"Enable Show Filter on Preview Click",mb:4,info:"This is where you decide if you want filter to show up when the svg preview is clicked.",helperText:"Tick this box if you want to show filter when SVG preview is clicked.",type:b.Z.TYPES.checkbox,value:nt,onChange:e=>{it(e)}},"toggleFilter")}),(0,r.jsx)(s.xu,{bg:"#dcdcdc",children:(0,r.jsx)(L.Z,{fonts:Qe,isLoading:A,width:{base:512,md:728,lg:1024},data:ze,templateData:Ie,showWatermark:!!o.is_freemium,onFiltersUpdated:e=>{console.log("parsedSvg.maskUpdate: ",e),Ie&&Ue({...Ie,masks:{...e||{}}})},filterEnabled:nt})})]})]})]}),(0,r.jsx)(b.Z,{id:"draft",title:"Set as Draft",mb:4,info:"Setting as draft hides the tool from the user.",helperText:"Tick this box if you want to hide the tool from the user.",type:b.Z.TYPES.checkbox,value:o.isHidden,onChange:e=>{j&&j({id:o.id,isHidden:e})}},"data_".concat(o.id)),null,(0,r.jsxs)(d.g,{w:"100%",justifyContent:"flex-start",alignItems:"center",my:8,children:[ot?(0,r.jsx)(c.x,{mb:2,fontStyle:"italic",children:ot}):null,(0,r.jsx)(v.Z,{status:D&&!Te?"loading":"warning",fontStyle:D&&!Te?"italic":"normal",disabled:D,w:"100%",maxW:"400px",h:"70px",fontSize:"lg",onClick:async()=>{if(!I)return;N(!0);const e=[Q().checker(o.name),ue().checker(o.icon),me().checker(o.youtube),ge().checker(o.create_price),be().checker(o.update_price)];(await Promise.all(e)).includes(!1)?(N(!1),_().fire({title:"Form Error",icon:"error",text:"You have some errors in your form. Please check the error message(s) at the input(s) and try again."})):tt().then((()=>{Ye(at).then((e=>{var t=null;j&&e&&(j({id:o.id,templates_url:e}),t={templates_url:e}),N(!1),I(!1,null,t).then((e=>{N(!1),O({description:a?"New Tool successfully saved.":"Tool successfully updated.",status:"success",duration:4e3,isClosable:!0}),we(!0)})).catch((e=>{N(!1),((null===e||void 0===e?void 0:e.message)||"").length>0&&_().fire({icon:"error",title:a?"Tool Creation Error":"Tool Update Error",text:e.message})}))})).catch((e=>{N(!1),((null===e||void 0===e?void 0:e.message)||"").length>0&&_().fire({icon:"error",title:a?"Tool Creation Error":"Tool Update Error",text:e.message})}))})).catch((e=>{N(!1),((null===e||void 0===e?void 0:e.message)||"").length>0&&_().fire({icon:"error",title:a?"Tool Creation Error":"Tool Update Error",text:e.message})}))},rightIcon:D&&!Te?(0,r.jsx)(T.Z,{size:"1rem",color:"#fff",type:T.Z.TYPES.threeDots}):null,children:D&&!Te?"Please wait...":a?"Create Tool":"Update Tool"})]})]})})})]})})};const ue=()=>({id:S.XA,authorId:"uid",allow_freemium:!0,create_price:5,update_price:.1,is_static:!1,is_freemium:!0,isActive:!0,isHidden:!0}),pe={newData:"New Tool",noDataError:"No Tool selected",newTitle:"Tool Type",updateTitle:"Update Cost",updateMessage:"The update will cost you {PRICE}.",freeTitle:"Test Tool(Free).",freeMessage:"The downloaded Tool will have watermark.",paidTitle:"Clean Tool({PRICE})",paidMessage:"The downloaded Tool will be clean with no watermark.",signInMessage:"Please sign in to save your Tool.",signUpMessage:"Please sign up to save your Tool.",createButtonText:"Create Tool",noChatToListMessage:"Your Tool will show here",deleteWarning:"Are you sure you want to permanently delete this already saved tool?"};var me=o(99555),fe=o(53348),ge=o(63183);var xe=()=>{const e="other_tools",t="other_tools",[o,l]=(0,n.useState)({id:e,name:"Tool Editor",description:"Create tools for other users",icon:(0,r.jsx)(E.CP_,{size:"100%"}),isActive:!0,isHidden:!0,siteLogoUrl:"",siteUrl:"/tool-editor",allow_freemium:!0,create_price:0,update_price:0,desktopVideoUrl:"",mobileVideoUrl:"",collectionRuleName:t}),d=(0,me.Z)(20),{getCurrentTimelineData:h}=d,u=[],p=["is_freemium","name","description","icon","youtube","create_price","update_price","templates_url","isHidden"],m=(0,fe.Z)(50,ue,p,u,void 0,void 0,t),{selectedIsNew:f,selectedData:g}=m,x=(0,ge.Z)({collectionName:t,fileFields:u,toolId:e,historyProps:d,dataSourceProps:m,publishTexts:pe,updatableFields:p}),{savingData:b,setSavingData:v,handleUpdateData:w,handlePublishData:T}=x,j=(0,n.useMemo)((()=>(0,r.jsx)(he,{tool:o,collectionName:t,isNew:f(),data:g,saving:b,setSaving:v,hasPendingSave:h((null===g||void 0===g?void 0:g.id)||"none").totalUpdates>1||f(),onUpdateData:w,onPublishData:T})),[g,b,o,t]);return(0,r.jsx)(a.Z,{tool:o,form:j,historyProps:d,dataSourceProps:m,dataHandlerProps:x,publishTexts:pe,getItemName:e=>{const t=e;return(0,r.jsxs)(i.U,{children:[(0,r.jsx)(s.xu,{children:(0,r.jsx)(A,{id:t.icon})}),(0,r.jsx)(c.x,{children:t.name||"No Tool Name"})]})},getItemDescription:e=>e.description,getItemBadge:e=>{const t=e;return"$".concat((0,y.uP)(t.create_price,2,2)," - $").concat((0,y.uP)(t.update_price,2,2))},onOverWriteCopiedData:e=>({...e,templates_url:null,is_freemium:!0})})}}},function(e){e.O(0,[847,214,958,614,630,201,394,493,41,162,506,814,238,666,986,687,106,265,774,888,179],(function(){return t=43023,e(e.s=t);var t}));var t=e.O();_N_E=t}]);