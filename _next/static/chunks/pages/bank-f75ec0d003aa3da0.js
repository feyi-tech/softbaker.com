(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[713],{72023:function(e,t,n){var r,a=n(34155);!function(){"use strict";var t="input is invalid type",o="object"===typeof window,i=o?window:{};i.JS_SHA256_NO_WINDOW&&(o=!1);var s=!o&&"object"===typeof self,c=!i.JS_SHA256_NO_NODE_JS&&"object"===typeof a&&a.versions&&a.versions.node;c?i=n.g:s&&(i=self);var u=!i.JS_SHA256_NO_COMMON_JS&&e.exports,l=n.amdO,h=!i.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,d="0123456789abcdef".split(""),m=[-2147483648,8388608,32768,128],p=[24,16,8,0],f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],b=["hex","array","digest","arrayBuffer"],x=[];!i.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!h||!i.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var y=function(e,t){return function(n){return new S(t,!0).update(n)[e]()}},g=function(e){var t=y("hex",e);c&&(t=w(t,e)),t.create=function(){return new S(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<b.length;++n){var r=b[n];t[r]=y(r,e)}return t},w=function(e,r){var a,o=n(96127),s=n(51371).Buffer,c=r?"sha224":"sha256";a=s.from&&!i.JS_SHA256_NO_BUFFER_FROM?s.from:function(e){return new s(e)};return function(n){if("string"===typeof n)return o.createHash(c).update(n,"utf8").digest("hex");if(null===n||void 0===n)throw new Error(t);return n.constructor===ArrayBuffer&&(n=new Uint8Array(n)),Array.isArray(n)||ArrayBuffer.isView(n)||n.constructor===s?o.createHash(c).update(a(n)).digest("hex"):e(n)}},k=function(e,t){return function(n,r){return new C(n,t,!0).update(r)[e]()}},T=function(e){var t=k("hex",e);t.create=function(t){return new C(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<b.length;++n){var r=b[n];t[r]=k(r,e)}return t};function S(e,t){t?(x[0]=x[16]=x[1]=x[2]=x[3]=x[4]=x[5]=x[6]=x[7]=x[8]=x[9]=x[10]=x[11]=x[12]=x[13]=x[14]=x[15]=0,this.blocks=x):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function C(e,n,r){var a,o=typeof e;if("string"===o){var i,s=[],c=e.length,u=0;for(a=0;a<c;++a)(i=e.charCodeAt(a))<128?s[u++]=i:i<2048?(s[u++]=192|i>>>6,s[u++]=128|63&i):i<55296||i>=57344?(s[u++]=224|i>>>12,s[u++]=128|i>>>6&63,s[u++]=128|63&i):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++a)),s[u++]=240|i>>>18,s[u++]=128|i>>>12&63,s[u++]=128|i>>>6&63,s[u++]=128|63&i);e=s}else{if("object"!==o)throw new Error(t);if(null===e)throw new Error(t);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!h||!ArrayBuffer.isView(e)))throw new Error(t)}e.length>64&&(e=new S(n,!0).update(e).array());var l=[],d=[];for(a=0;a<64;++a){var m=e[a]||0;l[a]=92^m,d[a]=54^m}S.call(this,n,r),this.update(d),this.oKeyPad=l,this.inner=!0,this.sharedMemory=r}S.prototype.update=function(e){if(!this.finalized){var n,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(t);if(null===e)throw new Error(t);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!h||!ArrayBuffer.isView(e)))throw new Error(t);n=!0}for(var a,o,i=0,s=e.length,c=this.blocks;i<s;){if(this.hashed&&(this.hashed=!1,c[0]=this.block,this.block=c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),n)for(o=this.start;i<s&&o<64;++i)c[o>>>2]|=e[i]<<p[3&o++];else for(o=this.start;i<s&&o<64;++i)(a=e.charCodeAt(i))<128?c[o>>>2]|=a<<p[3&o++]:a<2048?(c[o>>>2]|=(192|a>>>6)<<p[3&o++],c[o>>>2]|=(128|63&a)<<p[3&o++]):a<55296||a>=57344?(c[o>>>2]|=(224|a>>>12)<<p[3&o++],c[o>>>2]|=(128|a>>>6&63)<<p[3&o++],c[o>>>2]|=(128|63&a)<<p[3&o++]):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++i)),c[o>>>2]|=(240|a>>>18)<<p[3&o++],c[o>>>2]|=(128|a>>>12&63)<<p[3&o++],c[o>>>2]|=(128|a>>>6&63)<<p[3&o++],c[o>>>2]|=(128|63&a)<<p[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=c[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},S.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>>2]|=m[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},S.prototype.hash=function(){var e,t,n,r,a,o,i,s,c,u=this.h0,l=this.h1,h=this.h2,d=this.h3,m=this.h4,p=this.h5,b=this.h6,x=this.h7,y=this.blocks;for(e=16;e<64;++e)t=((a=y[e-15])>>>7|a<<25)^(a>>>18|a<<14)^a>>>3,n=((a=y[e-2])>>>17|a<<15)^(a>>>19|a<<13)^a>>>10,y[e]=y[e-16]+t+y[e-7]+n<<0;for(c=l&h,e=0;e<64;e+=4)this.first?(this.is224?(o=300032,x=(a=y[0]-1413257819)-150054599<<0,d=a+24177077<<0):(o=704751109,x=(a=y[0]-210244248)-1521486534<<0,d=a+143694565<<0),this.first=!1):(t=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(o=u&l)^u&h^c,x=d+(a=x+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&p^~m&b)+f[e]+y[e])<<0,d=a+(t+r)<<0),t=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(i=d&u)^d&l^o,b=h+(a=b+(n=(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7))+(x&m^~x&p)+f[e+1]+y[e+1])<<0,t=((h=a+(t+r)<<0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),r=(s=h&d)^h&u^i,p=l+(a=p+(n=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7))+(b&x^~b&m)+f[e+2]+y[e+2])<<0,t=((l=a+(t+r)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(c=l&h)^l&d^s,m=u+(a=m+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&b^~p&x)+f[e+3]+y[e+3])<<0,u=a+(t+r)<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+u<<0,this.h1=this.h1+l<<0,this.h2=this.h2+h<<0,this.h3=this.h3+d<<0,this.h4=this.h4+m<<0,this.h5=this.h5+p<<0,this.h6=this.h6+b<<0,this.h7=this.h7+x<<0},S.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,a=this.h4,o=this.h5,i=this.h6,s=this.h7,c=d[e>>>28&15]+d[e>>>24&15]+d[e>>>20&15]+d[e>>>16&15]+d[e>>>12&15]+d[e>>>8&15]+d[e>>>4&15]+d[15&e]+d[t>>>28&15]+d[t>>>24&15]+d[t>>>20&15]+d[t>>>16&15]+d[t>>>12&15]+d[t>>>8&15]+d[t>>>4&15]+d[15&t]+d[n>>>28&15]+d[n>>>24&15]+d[n>>>20&15]+d[n>>>16&15]+d[n>>>12&15]+d[n>>>8&15]+d[n>>>4&15]+d[15&n]+d[r>>>28&15]+d[r>>>24&15]+d[r>>>20&15]+d[r>>>16&15]+d[r>>>12&15]+d[r>>>8&15]+d[r>>>4&15]+d[15&r]+d[a>>>28&15]+d[a>>>24&15]+d[a>>>20&15]+d[a>>>16&15]+d[a>>>12&15]+d[a>>>8&15]+d[a>>>4&15]+d[15&a]+d[o>>>28&15]+d[o>>>24&15]+d[o>>>20&15]+d[o>>>16&15]+d[o>>>12&15]+d[o>>>8&15]+d[o>>>4&15]+d[15&o]+d[i>>>28&15]+d[i>>>24&15]+d[i>>>20&15]+d[i>>>16&15]+d[i>>>12&15]+d[i>>>8&15]+d[i>>>4&15]+d[15&i];return this.is224||(c+=d[s>>>28&15]+d[s>>>24&15]+d[s>>>20&15]+d[s>>>16&15]+d[s>>>12&15]+d[s>>>8&15]+d[s>>>4&15]+d[15&s]),c},S.prototype.toString=S.prototype.hex,S.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,a=this.h4,o=this.h5,i=this.h6,s=this.h7,c=[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t,n>>>24&255,n>>>16&255,n>>>8&255,255&n,r>>>24&255,r>>>16&255,r>>>8&255,255&r,a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,i>>>24&255,i>>>16&255,i>>>8&255,255&i];return this.is224||c.push(s>>>24&255,s>>>16&255,s>>>8&255,255&s),c},S.prototype.array=S.prototype.digest,S.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},C.prototype=new S,C.prototype.finalize=function(){if(S.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();S.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),S.prototype.finalize.call(this)}};var j=g();j.sha256=j,j.sha224=g(!0),j.sha256.hmac=T(),j.sha224.hmac=T(!0),u?e.exports=j:(i.sha256=j.sha256,i.sha224=j.sha224,l&&(void 0===(r=function(){return j}.call(j,n,j,e))||(e.exports=r)))}()},82080:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bank",function(){return n(79281)}])},55948:function(e,t,n){"use strict";n.d(t,{o:function(){return i},t:function(){return o}});var r=n(67294),a=n(53754);const o=e=>{const[t,n]=(0,r.useState)();return(0,r.useEffect)((()=>{n((0,a.ST)(e))}),[e]),t},i=(e,t,n,o)=>{const[i,s]=(0,r.useState)(),c=()=>{s((0,a.VT)(e,t,n))};return(0,r.useEffect)((()=>{c()}),[e,t,n,o]),[i,c]}},11303:function(e,t,n){"use strict";var r=n(67294);t.Z=(e,t,n)=>{const[a,o]=(0,r.useState)(),i=t=>({waitTime:0,checker:(t,n)=>new Promise(((r,a)=>{const i=e(t,n);i?(o(i),r(!1)):(o(""),r(!0))}))}),s={error:a,checkHandler:i};return t&&(s[t]=a),n&&(s[n]=i),s}},79281:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ee}});var r=n(85893),a=n(5397),o=n(67294),i=n(7963),s=n(48783),c=n(34292),u=n(71293),l=n(93717),h=n(57747),d=n(70959),m=n(44461),p=n(24124),f=n(84028),b=n(90889),x=n(67918),y=n(3804),g=n(85461),w=n(11303),k=n(56691),T=n(86455),S=n.n(T),C=n(53754),j=n(80419),E=n(55154);const v={savings:"Savings",current:"Current (Checking)",personal:"Personal",corporate:"Corporate (Business)"},_={male:"Male",female:"Female"},Z={single:"Single",married:"Married",divorce:"Divorced",widowed:"Widowed"},N={Successful:"Successful Transaction",Failed:"Failed Transaction"},P={immediately:"Immediately","5s":"5 seconds","10s":"10 seconds","30s":"30 seconds","1m":"1 minute","5m":"5 minutes","10m":"10 minutes","15m":"15 minutes","30m":"30 minutes","45m":"45 minutes","1h":"1 hour","2h":"2 hours","4h":"4 hours","6h":"6 hours","12h":"12 hours","1d":"1 day","2d":"2 days","3d":"3 days","1w":"1 week","2w":"2 weeks","3w":"3 weeks","1M":"1 month","2M":"2 months","3M":"3 months","6M":"6 months","9M":"9 months","1y":"1 year","2y":"2 years","5y":"5 years"};var A=n(11802),I=n(96918),D=n(73386),O=n(98687);const F={newData:"New Account",noDataError:"No Account selected",newTitle:"Bank Account Type",updateTitle:"Update Cost",updateMessage:"The update will cost you ".concat(A.oq,"{PRICE}."),freeTitle:"Test Bank Account(Free).",freeMessage:'The bank account dashboard will have "fake bank account" warning.',paidTitle:"Clean Bank Account(".concat(A.oq,"{PRICE})"),paidMessage:'The bank account will look real with no "fake bank account" warning.',signInMessage:"Please sign in to save your bank account.",signUpMessage:"Please sign up to save your bank account.",createButtonText:"Create Bank Account",noChatToListMessage:"Your bank accounts will show here",deleteWarning:"Are you sure you want to permanently delete this already saved bank account?"};var B=n(33775),M=n(55948),Y=n(65380),W=n(72023);const U=e=>{if(!e)return null;const t=e.toDate(),n=t.getDate().toString().padStart(2,"0"),r=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getFullYear();return"".concat(n,"/").concat(r,"/").concat(a)};const q=(e,t,n)=>new Promise(((r,a)=>{var o;(o=n||5,new Promise((e=>{let t=new Date,n=t.getUTCMinutes(),r=Math.floor(n/o)*o;t.setUTCMinutes(r),t.setUTCSeconds(0),t.setUTCMilliseconds(0),e(t.getTime())}))).then((n=>{const a=function(e){let t=e.join("").toLowerCase().replace(/[^\w]/g,"").trim(),n=(0,W.sha256)(t).toString(),r=parseInt(n,16),a="".concat(r%1e6);return a.length<6&&(a+="4".repeat(6-a.length)),a}([n,e,t.type,t.name,t.bankName||"",t.swiftBIC||"",t.accountNumber||"",t.rNumber||"",t.accountNumber1||""]);r(a)})).catch((e=>{a(e)}))})),z=()=>({id:A.XA,authorId:"uid",accountNumber_username:(0,C.ib)(),accountType:Object.keys(v)[0],gender:Object.keys(_)[0],maritalStatus:Object.keys(Z)[0],currencySymbol:"US_USD_$",disableAccount:!1,autoRenewSubscription:!1,totalCredits:0,totalDebits:0,credits:[],debits:[],is_freemium:!0,accountBalance:0,disableAccountError:"Your account is currently on hold. Please go to our nearest branch to resolve the issue on your account.",noTxGeneration:!0,txProcessingDuration:Object.keys(P)[0],isInActive:!1});var R=n(20967),H=n(98924);var V=e=>{let{accountNumber:t,otpDuration:n,currencySymbol:a,...s}=e;const{isOpen:c,onOpen:u,onClose:l}=(0,R.q)(),h=(0,i.p)(),[x,w]=(0,o.useState)({type:"local"}),[k,T]=(0,o.useState)({type:"wire"}),[j,E]=(0,o.useState)(!1),v=(e,t)=>{S().fire({icon:"success",title:"OTP",text:"local"===t?"The OTP for the local transfer entered is ".concat(e):"The OTP for the wire transfer entered is ".concat(e),confirmButtonText:"Copy OTP"}).then((t=>{t.isConfirmed&&(0,C.K1)(e,(()=>{h({description:"OTP copied.",status:"success",duration:4e3,isClosable:!0})}),(()=>{S().fire({icon:"success",title:"Copy Error",text:"Failed to copy the otp. Copy it manually: ".concat(e)})}))}))},_=(e,t)=>{const n=Math.floor(8*Math.random())+2;return"".concat(e.substring(0,e.length-2)).concat(t.skipTxCheck?1:n).concat("Failed"==t.completeStatus?1:0)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.Z,{status:"success",h:"50px",onClick:u,...s,children:"Generate Transfer OTP"}),c?(0,r.jsx)(H.Z,{title:"Enter Transfer Info",isOpen:!0,onClose:l,height:{base:"95%",md:"100%"},placement:{base:"bottom",md:"left"},children:(0,r.jsxs)(d.m,{isFitted:!0,variant:"enclosed",children:[(0,r.jsxs)(m.t,{children:[(0,r.jsx)(p.O,{children:"Local Transfer"}),(0,r.jsx)(p.O,{children:"Wire Transfer"})]}),(0,r.jsxs)(f.n,{children:[(0,r.jsxs)(b.x,{children:[(0,r.jsx)(y.Z,{w:"100%",id:"name",title:"Recipient Name",mb:2,placeholder:"Enter recipient fullname",type:y.Z.TYPES.text,value:x.name||"",onChange:e=>{w({...x,name:e})}},"name"),(0,r.jsx)(y.Z,{w:"100%",id:"accountNumber",title:"Recipient account number",mb:2,placeholder:"Enter the account number",type:y.Z.TYPES.text,value:x.accountNumber||"",onChange:e=>{w({...x,accountNumber:e})}},"accountNumber"),(0,r.jsx)(y.Z,{w:"100%",id:"amount",title:"Amount(".concat(a,")"),mb:2,placeholder:"Enter amount",type:y.Z.TYPES.text,value:x.amount||"",onChange:e=>{w({...x,amount:e})}},"amount"),(0,r.jsx)(y.Z,{w:"100%",id:"memo",title:"Memo(Optional)",mb:4,placeholder:"Enter memo",type:y.Z.TYPES.textarea,value:x.memo||"",onChange:e=>{w({...x,memo:e})}},"memo"),(0,r.jsx)(y.Z,{w:"100%",id:"completeStatus",title:"Transaction Status",mb:4,helperText:"Select the transaction status you want for the transaction.",info:"This is where you select the transaction status you want for the transaction.",type:y.Z.TYPES.select,options:Object.keys(N),onOptionValue:e=>e,onOptionName:e=>N[e],value:x.completeStatus,onChange:e=>{w({...x,completeStatus:e})}},"completeStatus"),(0,r.jsx)(y.Z,{w:"100%",id:"skipTxCheck",title:"Allow Wrong Transfer Info",mb:4,helperText:"Check this box if you want the otp to work even when the person intentionally or mistakenly enter a wrong transfer info.",type:y.Z.TYPES.checkbox,value:x.skipTxCheck,onChange:e=>{w({...x,skipTxCheck:e})}},"skipTxCheck"),(0,r.jsx)(g.Z,{id:"createLocal",status:"success",h:"50px",onClick:()=>{x.name&&x.name&&x.name?isNaN(x.amount)||x.amount<1?S().fire({icon:"error",title:"Transfer Error",text:"Invalid amount."}):(E(!0),q(t,x,n).then((e=>{E(!1),e=_(e,x),v(e,"local")})).catch((e=>{E(!1),S().fire({icon:"error",title:"Error while generating OTP",text:e.message})}))):S().fire({icon:"error",title:"Transfer Error",text:"Please enter all non-optional fields."})},disabled:j,children:j?"Please wait...":"Generate OTP"})]}),(0,r.jsxs)(b.x,{children:[(0,r.jsx)(y.Z,{w:"100%",id:"nameWire",title:"Recipient Name",mb:2,placeholder:"Enter recipient fullname",type:y.Z.TYPES.text,value:k.name||"",onChange:e=>{T({...k,name:e})}},"nameWire"),(0,r.jsx)(y.Z,{w:"100%",id:"bankWire",title:"Bank name",mb:2,placeholder:"Enter recipient bank name",type:y.Z.TYPES.text,value:k.bankName||"",onChange:e=>{T({...k,bankName:e})}},"bankWire"),(0,r.jsx)(y.Z,{w:"100%",id:"rNumber",title:(0,r.jsxs)(r.Fragment,{children:["Routing Number",(0,r.jsx)("br",{}),"(Only For USA and Canada recipients)"]}),mb:2,placeholder:"Enter the routing number",type:y.Z.TYPES.text,value:k.rNumber||"",onChange:e=>{T({...k,rNumber:e})}},"rNumber"),(0,r.jsx)(y.Z,{w:"100%",id:"accountNumberWire1",title:(0,r.jsxs)(r.Fragment,{children:["Account Number",(0,r.jsx)("br",{}),"(Only For USA and Canada recipients)"]}),mb:2,placeholder:"Enter the account number",type:y.Z.TYPES.text,value:k.accountNumber1||"",onChange:e=>{T({...k,accountNumber1:e})}},"accountNumberWire1"),(0,r.jsx)(y.Z,{w:"100%",id:"swiftWire",title:(0,r.jsxs)(r.Fragment,{children:["Swift/BIC",(0,r.jsx)("br",{}),"(Only For European recipients)"]}),mb:2,placeholder:"Enter Swift/BIC",type:y.Z.TYPES.text,value:k.swiftBIC||"",onChange:e=>{T({...k,swiftBIC:e})}},"swiftWire"),(0,r.jsx)(y.Z,{w:"100%",id:"accountNumberWire",title:(0,r.jsxs)(r.Fragment,{children:["IBAN",(0,r.jsx)("br",{}),"(Only For European recipients)"]}),mb:2,placeholder:"Enter the international bank account number",type:y.Z.TYPES.text,value:k.accountNumber||"",onChange:e=>{T({...k,accountNumber:e})}},"accountNumberWire"),(0,r.jsx)(y.Z,{w:"100%",id:"amountWire",title:"Amount(".concat(a,")"),mb:2,placeholder:"Enter amount",type:y.Z.TYPES.text,value:k.amount||"",onChange:e=>{T({...k,amount:e})}},"amountWire"),(0,r.jsx)(y.Z,{w:"100%",id:"memoWire",title:"Memo(Optional)",mb:4,placeholder:"Enter memo",type:y.Z.TYPES.textarea,value:k.memo||"",onChange:e=>{T({...k,memo:e})}},"memoWire"),(0,r.jsx)(y.Z,{w:"100%",id:"completeStatus",title:"Transaction Status",mb:4,helperText:"Select the transaction status you want for the transaction.",info:"This is where you select the transaction status you want for the transaction.",type:y.Z.TYPES.select,options:Object.keys(N),onOptionValue:e=>e,onOptionName:e=>N[e],value:x.completeStatus,onChange:e=>{w({...x,completeStatus:e})}},"completeStatus"),(0,r.jsx)(y.Z,{w:"100%",id:"skipTxCheck",title:"Allow Wrong Transfer Info",mb:4,helperText:"Check this box if you want the otp to work even when the person intentionally or mistakenly enter a wrong transfer info.",type:y.Z.TYPES.checkbox,value:x.skipTxCheck,onChange:e=>{w({...x,skipTxCheck:e})}},"skipTxCheck"),(0,r.jsx)(g.Z,{id:"createWire",status:"success",h:"50px",onClick:()=>{var e=(!k.swiftBIC||!k.accountNumber)&&(!k.rNumber||!k.accountNumber1);if(k.name&&k.bankName&&!e&&k.amount)isNaN(k.amount)||k.amount<1?S().fire({icon:"error",title:"Transfer Error",text:"Invalid amount."}):(E(!0),q(t,k,n).then((e=>{E(!1),e=_(e,x),v(e,"wire")})).catch((e=>{E(!1),S().fire({icon:"error",title:"Error while generating OTP",text:e.message})})));else{var r=e?"If you're sending to a recipient in USA or Canada, make sure you provide the routing number and the account number. If you're sending to a recipient in Europe or any country using the IBAN system, make sure you provide the Swift/BIC and the IBAN.":"";S().fire({icon:"error",title:"Transfer Error",text:"Please enter all non-optional fields. ".concat(r)})}},disabled:j,children:j?"Please wait...":"Generate OTP"})]})]})]})}):null]})};var J=e=>{let{credits:t,debits:n,balance:a,totalCredits:l,totalDebits:h,currencySymbol:d,onChange:m,saving:p}=e;const{isOpen:f,onOpen:b,onClose:x}=(0,R.q)(),[w,T]=((0,i.p)(),(0,o.useState)({date:new Date})),[j,E]=(0,o.useState)(),[v,_]=(0,o.useState)(),[Z,A]=(0,o.useState)(!1),[I,D]=(0,o.useState)(!1),[O,F]=(0,o.useState)(!1);(0,o.useEffect)((()=>{p||(A(!1),D(!1),F(!1))}),[p]);const[B,M]=(0,o.useState)(),[Y,W]=(0,o.useState)(!1),[U,q]=(0,o.useState)();(0,o.useEffect)((()=>{M(p&&Z),W(p&&I),q(p&&O)}),[p,Z,I,O]);const[z,V]=(0,o.useState)(0);(0,o.useEffect)((()=>{V(a+l-h)}),[a,l,h]);const[J,G]=(0,o.useState)(),L=e=>"credit"==e?{formTitle:"Enter Credit Info",amountPlaceholder:"Enter the amount to deposit.",amountHelperText:"Enter the amount to deposit into the bank account here.",amountInfo:"This is where you enter the amount to credit the bank account.",memoPlaceholder:"Enter memo.",memoHelperText:"Enter the transaction description here.",memoInfo:"This is where you enter the transaction description."}:{formTitle:"Enter Debit Info",amountPlaceholder:"Enter the amount to deduct.",amountHelperText:"Enter the amount to deduct from the bank account here.",amountInfo:"This is where you enter the amount to deduct from the bank account.",memoPlaceholder:"Enter memo.",memoHelperText:"Enter the transaction description here.",memoInfo:"This is where you enter the transaction description."};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.g,{justifyContent:"flex-start",alignItems:"flex-start",mb:4,children:[(0,r.jsxs)(c.U,{justifyContent:"flex-start",alignItems:"flex-end",flexWrap:"wrap",gap:"0px !important",mb:2,children:[(0,r.jsx)(u.x,{as:"div",display:"block",mb:"2px",fontWeight:"700",mr:2,children:"Account Balance:"}),(0,r.jsxs)(u.x,{as:"div",display:"block",mb:"2px",fontWeight:"700",color:"#38a169",children:[d,(0,C.uP)(z,2,2)]})]}),(0,r.jsxs)(c.U,{flexWrap:"wrap",children:[(0,r.jsx)(g.Z,{onClick:()=>{G("credit")},h:"40px",mb:1,status:B?"loading":"success",fontStyle:B?"italic":"normal",disabled:p,rightIcon:B?(0,r.jsx)(k.Z,{size:"1rem",color:"#fff",type:k.Z.TYPES.threeDots}):null,children:B?"Crediting...":"Credit Account"}),(0,r.jsx)(g.Z,{onClick:()=>{G("debit")},h:"40px",mb:1,status:Y?"loading":"success",fontStyle:Y?"italic":"normal",disabled:p,rightIcon:Y?(0,r.jsx)(k.Z,{size:"1rem",color:"#fff",type:k.Z.TYPES.threeDots}):null,children:Y?"Debiting...":"Debit Account"}),(0,r.jsx)(g.Z,{onClick:()=>{S().fire({icon:"warning",title:"Transactions Warning",text:"Are you sure you want to clear transactions from your account? Clearing transactions will delete all your credits and debits transactions while also resetting your account balance to zero.",showCancelButton:!0,confirmButtonText:"Yes, Clear",cancelButtonText:"No"}).then((e=>{e.isConfirmed&&(F(!0),m({accountBalance:0,totalCredits:0,totalDebits:0,credits:[],debits:[]}))}))},h:"40px",mb:1,status:U?"loading":"error",fontStyle:U?"italic":"normal",disabled:p,rightIcon:U?(0,r.jsx)(k.Z,{size:"1rem",color:"#fff",type:k.Z.TYPES.threeDots}):null,children:U?"Clearing...":"Clear Transactions"})]})]}),J?(0,r.jsxs)(H.Z,{title:L(J).formTitle,isOpen:!0,onClose:()=>{G(null)},height:{base:"95%",md:"100%"},placement:{base:"bottom",md:"left"},children:[(0,r.jsx)(y.Z,{w:"100%",id:"amount",title:"Amount(".concat(d,")"),mb:2,placeholder:L(J).amountPlaceholder,helperText:L(J).amountHelperText,info:L(J).amountInfo,type:y.Z.TYPES.text,value:w.amount,errorMessage:j||"",onChange:e=>{T({...w,amount:e})}},"amount"),(0,r.jsx)(y.Z,{w:"100%",id:"memo",title:"Memo(Optional)",mb:4,placeholder:L(J).memoPlaceholder,helperText:L(J).memoHelperText,info:L(J).memoInfo,type:y.Z.TYPES.textarea,value:w.memo||"",errorMessage:v||"",onChange:e=>{T({...w,memo:e})}},"memo"),(0,r.jsx)(y.Z,{w:"100%",id:"date",title:"Transaction Date(Optional)",mb:4,helperText:"Select the transaction date.",info:"This is where you select the transaction date.",type:y.Z.TYPES.date,value:w.date||"",errorMessage:v||"",onChange:e=>{T({...w,date:e})}},"date"),(0,r.jsx)(y.Z,{w:"100%",id:"completeStatus",title:"Transaction Status",mb:4,helperText:"Select the transaction status you want for the transaction.",info:"This is where you select the transaction status you want for the transaction.",type:y.Z.TYPES.select,options:Object.keys(N),onOptionValue:e=>e,onOptionName:e=>N[e],value:w.completeStatus,onChange:e=>{T({...w,completeStatus:e})}},"completeStatus"),(0,r.jsx)(y.Z,{w:"100%",id:"statusTime",title:"Transaction Processing Time",mb:4,helperText:"Select the duration you want the transaction to take before it changes from pending to complete (success or failure)",info:"This is where you select the duration you want the transaction to take before it changes from pending to complete (success or failure). This is useful if you don't want a transaction to complete immediately.",type:y.Z.TYPES.select,options:Object.keys(P),onOptionValue:e=>e,onOptionName:e=>P[e],value:w.processingDuration,onChange:e=>{T({...w,processingDuration:e})}},"statusTime"),(0,r.jsx)(g.Z,{id:"createLocal",h:"50px",onClick:()=>{E(null),_(null);var e=null;if(w.amount&&0!=parseInt("".concat(w.amount))){if(isNaN(w.amount))e="Please enter a valid amount.";else if("".concat(w.amount).length>18)e="The amount is too large.";else if("debit"==J){z-w.amount<0&&(e="You have insufficient balance. Credit your account first.")}}else e="Please enter the amount.";e&&E(e);var r=null;if(w.memo&&w.memo.length>64&&(r="The memo cannot be greater than 64 characters."),r&&_(r),!e&&!r){const e="Successful"==(w.completeStatus||"Successful");if("credit"==J){A(!0);const n=t.concat(["v2,".concat(w.amount,",").concat(w.memo||"",",").concat((w.date||new Date).getTime(),",").concat(w.processingDuration||"immediately",",").concat(w.completeStatus||"Successful")]);m({credits:n.length>10?n.splice(n.length-10):n,totalCredits:l+(e?parseInt("".concat(w.amount)):0)})}else{D(!0);const t=n.concat(["v2,".concat(w.amount,",").concat(w.memo||"",",").concat((w.date||new Date).getTime(),",").concat(w.processingDuration||"immediately",",").concat(w.completeStatus||"Successful")]);m({debits:t.length>10?t.splice(t.length-10):t,totalDebits:h+(e?parseInt("".concat(w.amount)):0)})}G(null)}},status:"success",children:"Send"})]}):null]})},G=n(10991),L=n(99840),X=n(80510),K=n(4693),$=n(15115),Q=n(64698),ee=n(5555),te=n(33939);const ne=e=>{const t=e.split(",");var n=t[0].trim();if("v2"==n){n=t[1].trim();const e=t[t.length-1].trim(),r=t[t.length-2].trim(),a=t[t.length-3].trim();return{amount:n,description:t.slice(2,-3).join(",").trim(),timestamp:a,processingDuration:r,completeStatus:e}}{const e=t[t.length-1].trim();return{amount:n,description:t.slice(1,-1).join(",").trim(),timestamp:e,processingDuration:"immediately",completeStatus:"Successful"}}},re=(e,t,n,r)=>{if(!n||!r)return"Successful";if("immediately"===n)return r;return e<t+(e=>{const t=e.match(/^(\d+)([smhdwMy])$/);if(!t)throw new Error("Invalid processing duration format");const n=parseInt(t[1],10);switch(t[2]){case"s":return 1e3*n;case"m":return 60*n*1e3;case"h":return 60*n*60*1e3;case"d":return 24*n*60*60*1e3;case"w":return 7*n*24*60*60*1e3;case"M":return 30*n*24*60*60*1e3;case"y":return 365*n*24*60*60*1e3;default:throw new Error("Unknown time unit")}})(n)?"Pending":r};var ae=e=>{let{credits:t,debits:n,currencySymbol:a}=e;const[i,s]=(0,o.useState)([]),c=(0,te.Z)(1e4);return(0,o.useEffect)((()=>{}),[i]),(0,o.useEffect)((()=>{const e=[...t.map((e=>{const{amount:t,description:n,timestamp:r,processingDuration:a,completeStatus:o}=ne(e);return{type:"credit",amount:parseFloat(t),description:n,timestamp:parseInt(r),completeStatus:o,processingDuration:a}})),...n.map((e=>{const{amount:t,description:n,timestamp:r,processingDuration:a,completeStatus:o}=ne(e);return{type:"debit",amount:parseFloat(t),description:n,timestamp:parseInt(r),completeStatus:o,processingDuration:a}}))].sort(((e,t)=>t.timestamp-e.timestamp));s(e)}),[t,n]),(0,r.jsx)(r.Fragment,{children:0===i.length?(0,r.jsx)(u.x,{as:"div",textAlign:"center",w:"100%",children:"No transaction yet"}):(0,r.jsxs)(G.i,{variant:"simple",size:"sm",w:"100%",overflow:"auto",children:[(0,r.jsx)(L.h,{children:(0,r.jsxs)(X.Tr,{children:[(0,r.jsx)(K.Th,{children:"S/N"}),(0,r.jsx)(K.Th,{isNumeric:!0,children:"Amount"}),(0,r.jsx)(K.Th,{children:"Description"}),(0,r.jsx)(K.Th,{children:"Time"}),(0,r.jsx)(K.Th,{children:"Status"})]})}),(0,r.jsx)($.p,{children:i.map(((e,t)=>(0,r.jsxs)(X.Tr,{children:[(0,r.jsx)(Q.Td,{children:t+1}),(0,r.jsx)(Q.Td,{isNumeric:!0,color:"debit"===e.type?"red.500":"green.500",children:"debit"===e.type?"- ".concat(a).concat(e.amount.toFixed(2)):"".concat(a).concat(e.amount.toFixed(2))}),(0,r.jsx)(Q.Td,{children:e.description}),(0,r.jsx)(Q.Td,{children:new Date((0,ee.og)(e.timestamp)).toISOString().slice(0,16).replace("T"," ")}),(0,r.jsx)(Q.Td,{children:re(c,e.timestamp,e.processingDuration,e.completeStatus)})]},t)))})]})})},oe=n(81058);const ie=n(32731)(),se={min:0,max:64,required:!0},ce={min:0,max:64,required:!0},ue={min:0,max:32,required:!0},le={min:0,max:16,required:!0},he={min:0,max:64,required:!0},de={min:0,max:64,required:!0},me={min:0,max:64,required:!0},pe={min:0,max:64,required:!0},fe={min:0,max:64,required:!0},be={min:0,max:128,required:!0},xe={min:6,max:16,required:!0},ye={min:4,max:4,required:!0},ge={min:0,max:16,required:!0},we={min:1,max:999999999999999,required:!1},ke={min:1,max:500};var Te=e=>{let{tool:t,data:n,isNew:a,onUpdateData:T,onPublishData:N,saving:W,setSaving:q,hasPendingSave:z,collectionName:R}=e;if(!n)return null;const H=(0,i.p)(),[G,L]=(0,o.useState)(!1),{user:X}=(0,B.Pd)(),K=(0,M.t)(n.profilePhoto),[$,Q]=(0,o.useState)(),[ee,te]=(0,o.useState)(),[ne,re]=(0,o.useState)(0);(0,o.useEffect)((()=>{ve(),te(n.subscription_balance_failed_on&&n.subscription_expiry_date&&n.subscription_balance_failed_on.toDate()>n.subscription_expiry_date.toDate()),re((n.credits||[]).length+(n.debits||[]).length)}),[n]);const{nameError:Te,nameChecker:Se}=(0,w.Z)((e=>(0,C.N4)(e)&&se.required?"Enter your full name.":!(0,C.N4)(e)&&e.length<se.min?"The name is too short. It must be up to ".concat(se.min," characters."):e.length>se.max?"The name is too long. It must not be greater than ".concat(se.max," characters."):null),"nameError","nameChecker"),{emailError:Ce,emailChecker:je}=(0,w.Z)((e=>(0,C.N4)(e)&&ce.required?"Enter email address.":e.length<ce.min?"The email address must be up to ".concat(ce.min," characters."):e.length>ce.max?"The email address must not be greater than ".concat(ce.max," characters."):null),"emailError","emailChecker"),{phoneError:Ee,phoneChecker:ve}=(0,w.Z)((e=>(0,C.N4)(e)&&ue.required?"Enter phone number.":e.length<ue.min?"The phone number must be up to ".concat(ue.min," characters."):e.length>ue.max?"The phone number must not be greater than ".concat(ue.max," characters."):null),"phoneError","phoneChecker"),{typeError:_e,typeChecker:Ze}=(0,w.Z)((e=>(0,C.N4)(e)&&he.required?"Select an account type.":null),"typeError","typeChecker"),{genderError:Ne,genderChecker:Pe}=(0,w.Z)((e=>(0,C.N4)(e)&&de.required?"Select a gender.":null),"genderError","genderChecker"),{maritalError:Ae,maritalChecker:Ie}=(0,w.Z)((e=>(0,C.N4)(e)&&me.required?"Select a marital status.":null),"maritalError","maritalChecker"),{processingDurationError:De,processingDurationChecker:Oe}=(0,w.Z)((e=>(0,C.N4)(e)&&pe.required?"Select a transaction processing duration.":null),"processingDurationError","processingDurationChecker"),{dobError:Fe,dobChecker:Be}=(0,w.Z)((e=>(0,C.N4)(e)&&le.required?"Enter your date of birth.":e.length<le.min||e.length>le.max?"Enter your date of birth in the given format.":null),"dobError","dobChecker"),{jobError:Me,jobChecker:Ye}=(0,w.Z)((e=>(0,C.N4)(e)&&fe.required?"Enter an occupation.":e.length<fe.min?"The occupation must be up to ".concat(fe.min," characters."):e.length>fe.max?"The occupation must not be greater than ".concat(fe.max," characters."):null),"jobError","jobChecker"),{addrError:We,addrChecker:Ue}=(0,w.Z)((e=>(0,C.N4)(e)&&be.required?"Enter an address.":e.length<be.min?"The address must be up to ".concat(be.min," characters."):e.length>be.max?"The address must not be greater than ".concat(be.max," characters."):null),"addrError","addrChecker"),{balanceError:qe,balanceChecker:ze}=(0,w.Z)((e=>!e&&we.required?"Enter account balance.":e<we.min?"The account balance must be upto ".concat(we.min,"."):e>we.max?"The account balance cannot be greater than ".concat(we.max,"."):null),"balanceError","balanceChecker"),{passError:Re,passChecker:He}=(0,w.Z)((e=>(0,C.N4)(e)&&xe.required?"Enter a password.":e.length<xe.min?"The password must be up to ".concat(xe.min," characters."):e.length>xe.max?"The password must not be greater than ".concat(xe.max," characters."):null),"passError","passChecker"),{pinError:Ve,pinChecker:Je}=(0,w.Z)((e=>(0,C.N4)(e)&&ye.required?"Enter a pin.":isNaN(e)?"The pin must be a 4-digits number.":"".concat(e).length<ye.min?"The pin must be up to ".concat(ye.min," digits."):"".concat(e).length>ye.max?"The pin must not be greater than ".concat(ye.max," digits."):null),"pinError","pinChecker"),{disableAccountErrorError:Ge,disableAccountErrorChecker:Le}=(0,w.Z)((e=>e&&0!=e.length?e.length<ke.min?"The error message is too short. It must be up to ".concat(ke.min," characters."):e.length>ke.max?"The error message is too long. It must not be greater than ".concat(ke.max," characters."):null:"Enter the error message to show as the reason for transfer failure."),"disableAccountErrorError","disableAccountErrorChecker"),{accountCurrencyError:Xe,accountCurrencyChecker:Ke}=(0,w.Z)((e=>(0,C.N4)(e)&&ge.required?"Select account currency.":(0,C.N4)(e)?"Please enter the account currency.":e.length<ge.min?"The account currency is too short. It must be up to ".concat(ge.min," characters."):e.length>ge.max?"The account currency is too long. It must not be greater than ".concat(ge.max," characters."):null),"accountCurrencyError","accountCurrencyChecker"),[$e,Qe]=(0,o.useState)(!1),et=e=>{if(!N)return;q(!0);var t=e?JSON.parse(JSON.stringify(e)):{};t.id&&delete t.id,e.is_freemium||1!=Object.keys(t).length||Qe(!0);const n=!e.is_freemium&&1==Object.keys(t).length;N(!1,e).then((e=>{q(!1),S().fire({icon:"success",title:"Success",text:n?"Fake account Warning successfully removed. You can now check the bank account dashboard to see the changes made.":"Bank Account successfully updated. You can now check the bank account dashboard to see the changes made."}),Qe(!1)})).catch((e=>{q(!1),Qe(!1),((null===e||void 0===e?void 0:e.message)||"").length>0&&S().fire({icon:"error",title:a?"Bank Account Creation Error":"Bank Account Update Error",text:e.message})}))},tt=async e=>{if(!N)return;q(!0);const t=n.is_freemium,r=[ve(),Se().checker(n.fullname),je().checker(n.email),ve().checker(n.phone),Ze().checker(n.accountType),Pe().checker(n.gender),Ie().checker(n.maritalStatus),Be().checker(n.dob),Ye().checker(n.occupation),Ue().checker(n.address),He().checker(n.password),Je().checker(n.pin)];(await Promise.all(r)).includes(!1)?(q(!1),S().fire({title:"Form Error",icon:"error",text:"You have some errors in your form. Please check the error message(s) at the input(s) and try again."})):N(e&&"boolean"===typeof e).then((e=>{q(!1),t?S().fire({icon:"success",title:"Success",text:"Fake account Warning successfully removed. You can now check the bank account dashboard to see the changes made."}):a?H({description:"New Bank Account successfully created.",status:"success",duration:4e3,isClosable:!0}):S().fire({icon:"success",title:"Success",text:"Bank Account successfully updated. You can now check the bank account dashboard to see the changes made."})})).catch((e=>{q(!1),((null===e||void 0===e?void 0:e.message)||"").length>0&&S().fire({icon:"error",title:a?"Bank Account Creation Error":"Bank Account Update Error",text:e.message})}))};return(0,r.jsx)(D.Z,{tool:t,maxHeaderWidth:"100%",children:(0,r.jsxs)(x.Z,{w:"100%",maxW:"100%",h:"auto",children:[n.id!=A.XA?(0,r.jsxs)(s.g,{children:[(0,r.jsxs)(c.U,{flexWrap:"wrap",justifyContent:"space-between",width:"100%",children:[(0,r.jsxs)(c.U,{flexWrap:"wrap",children:[(0,r.jsxs)(u.x,{as:"div",m:"0px !important",mr:1,children:["Account Number:"," "]}),(0,r.jsx)(j.Z,{fontWeight:"bold",m:"0px !important",mr:2,onCopyMessage:"Account number copied.",children:n.accountNumber_username})]}),(0,r.jsx)(g.Z,{as:"a",href:"https://nordicasafe.com",target:"_blank",bg:(0,Y.z)("warning"),rightIcon:(0,r.jsx)(E.CkN,{}),children:"Visit Nordicasafe.com"})]}),(0,r.jsxs)(u.x,{as:"div",fontSize:"13px",children:["Login to the bank account with the account number and password at ",(0,r.jsx)(u.x,{as:"a",color:(0,Y.z)("warning"),href:"https://nordicasafe.com",target:"_blank",fontWeight:"bold",textDecoration:"underline",children:"nordicasafe.com"}),"."]})]}):(0,r.jsxs)(s.g,{alignItems:"flex-start",children:[(0,r.jsxs)(c.U,{flexWrap:"wrap",justifyContent:"flex-start",alignItems:"center",children:[(0,r.jsx)(E.RcD,{})," ",(0,r.jsx)(u.x,{as:"div",m:"0px !important",mr:1,children:F.newData})]}),(0,r.jsxs)(u.x,{as:"div",fontSize:"13px",children:["Click the info icon(",(0,r.jsx)(E.DAO,{style:{display:"inline"}}),") beside each form fields for help on what to enter."]})]}),(0,r.jsx)(l.k,{w:"100%",flexWrap:"wrap",m:"15px auto",children:(0,r.jsx)(h.xu,{w:{base:"100%"},bg:"#dd6b20",p:"1rem",children:(0,r.jsx)(h.xu,{bg:(0,I.Z)("cardBg.light","cardBg.dark"),minH:"80vh",w:"100%",p:{base:"0.4rem",md:"0.5rem",lg:"1rem"},borderRadius:"24px",children:(0,r.jsxs)(d.m,{isFitted:!0,variant:"enclosed",children:[(0,r.jsxs)(m.t,{mb:"1em",children:[(0,r.jsx)(p.O,{children:a?"Create":"Settings"}),(0,r.jsxs)(p.O,{children:["Transactions(",ne,ne>=20?"+":"",")"]})]}),(0,r.jsxs)(f.n,{children:[(0,r.jsx)(b.x,{p:{base:"0.2rem",md:"0.5rem",lg:"1rem"},children:z&&!n.renewSubscription||n.autoRenewSubscription&&!ee||n.is_freemium||!n.subscription_expiry_date||!(n.subscription_expiry_date.toDate()<=new Date)?(0,r.jsxs)(h.xu,{children:[a?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(J,{saving:W,balance:n.accountBalance||0,totalCredits:n.totalCredits||0,totalDebits:n.totalDebits||0,credits:n.credits||[],debits:n.debits||[],currencySymbol:n.currencySymbol?n.currencySymbol.split("_")[2].trim():"",onChange:e=>{et({id:n.id,...e})}}),(0,r.jsx)(V,{mb:4,accountNumber:n.accountNumber_username||0,currencySymbol:n.currencySymbol?n.currencySymbol.split("_")[2].trim():""})]}),(0,r.jsx)(O.Z,{w:"100%",id:"Form_".concat(n.id,"photo"),title:"Profile picture(Optional)",mb:4,info:"The profile picture you want to have displayed on your account.",helperText:"Set the profile picture you want to display on the bank account.",thumbnail:K,message:"Drag and Drop profile picture here",hoverMessage:"Drop the profile picture here",ruleMessage:"Upload JPG or PNG image not greater than 100kb for best result.",useImageText:"Use picture",disableCrop:!0,format:"image/jpeg",quality:.7,maxFileSize:102400,onChange:(e,t)=>{T&&T({id:n.id,profilePhoto:{file:e,base64Url:t,pathFormatNoExt:"banks-".concat(A.F3)}})},errorMessage:$},"Form_".concat(n.id,"photo")),(0,r.jsx)(y.Z,{w:"100%",id:"Form_".concat(n.id,"_name"),title:"Full name",mb:4,placeholder:"Selena Gomez Maria",helperText:"Enter full name for the bank account.",info:"This is the name of the bank account owner.",type:y.Z.TYPES.text,value:n.fullname,onChange:e=>{T&&T({id:n.id,fullname:e})},onCheckInfo:Se,errorMessage:Te},"Form_".concat(n.id,"_name")),(0,r.jsx)(y.Z,{w:"100%",id:"Form_".concat(n.id,"email"),title:"Email",mb:4,placeholder:"example@gmail.com",helperText:"Enter an email address for the bank account.",info:"This is the email address of the bank account owner.",type:y.Z.TYPES.text,value:n.email,onChange:e=>{T&&T({id:n.id,email:e})},onCheckInfo:je,errorMessage:Ce},"Form_".concat(n.id,"email")),(0,r.jsx)(y.Z,{w:"100%",id:"Form_".concat(n.id,"phone"),title:"Phone number",mb:4,placeholder:"+4402392493",helperText:"Enter a phone number for the bank account. It doesn't have to be a real number.",info:"This is the phone number of the bank account owner.",type:y.Z.TYPES.text,value:n.phone,onChange:e=>{T&&T({id:n.id,phone:e})},onCheckInfo:ve,errorMessage:Ee},"Form_".concat(n.id,"phone")),(0,r.jsx)(y.Z,{w:"100%",id:"Form_".concat(n.id,"type"),title:"Account type",mb:4,helperText:"Select the bank account type.",info:"This is the prefered account type.",type:y.Z.TYPES.select,options:Object.keys(v),onOptionValue:e=>e,onOptionName:e=>v[e],value:n.accountType,onChange:e=>{T&&T({id:n.id,accountType:e})},onCheckInfo:Ze,errorMessage:_e},"Form_".concat(n.id,"type")),(0,r.jsx)(y.Z,{w:"100%",id:"Form_".concat(n.id,"gender"),title:"Gender",mb:4,helperText:"Select the gender of the bank account owner.",info:"Select your gender here.",type:y.Z.TYPES.select,options:Object.keys(_),onOptionValue:e=>e,onOptionName:e=>_[e],value:n.gender,onChange:e=>{T&&T({id:n.id,gender:e})},onCheckInfo:Pe,errorMessage:Ne},"Form_".concat(n.id,"gender")),(0,r.jsx)(y.Z,{w:"100%",id:"Form_".concat(n.id,"status"),title:"Marital Status",mb:4,helperText:"Select the marital status of the bank account owner.",info:"Select your marital status here.",type:y.Z.TYPES.select,options:Object.keys(Z),onOptionValue:e=>e,onOptionName:e=>Z[e],value:n.maritalStatus,onChange:e=>{T&&T({id:n.id,maritalStatus:e})},onCheckInfo:Ie,errorMessage:Ae},"Form_".concat(n.id,"status")),(0,r.jsx)(y.Z,{w:"100%",id:"Form_".concat(n.id,"dob"),title:"Date of Birth",mb:4,placeholder:"1970-01-28",helperText:"Date of birth must be in the format: Year-Month-Day. e.g 1970-01-28",info:"Enter the date of birth of the account owner here.",type:y.Z.TYPES.text,value:n.dob,onChange:e=>{T&&T({id:n.id,dob:e})},onCheckInfo:Be,errorMessage:Fe},"Form_".concat(n.id,"dob")),(0,r.jsx)(y.Z,{w:"100%",id:"Form_".concat(n.id,"occupation"),title:"Occupation",mb:4,placeholder:"Accountant",helperText:"Enter your occupation or business name. Examples: Civil engineer, ABC Logistics International.",info:"This is where you enter the occupation or business of the bank account owner.",type:y.Z.TYPES.text,value:n.occupation,onChange:e=>{T&&T({id:n.id,occupation:e})},onCheckInfo:Ye,errorMessage:Me},"Form_".concat(n.id,"occupation")),(0,r.jsx)(y.Z,{w:"100%",id:"Form_".concat(n.id,"address"),title:"Address",mb:4,placeholder:"42 Main St, Smalltown, Exmple, 12345, USA",helperText:"Enter your home or business address.",info:"This is where you enter the occupation or business of the bank account owner.",type:y.Z.TYPES.text,value:n.address,onChange:e=>{T&&T({id:n.id,address:e})},onCheckInfo:Ue,errorMessage:We},"Form_".concat(n.id,"address")),(0,r.jsx)(y.Z,{w:"100%",id:"ShippingForm_".concat(n.id,"_currency"),title:"Account Currency",mb:4,helperText:"Select the currency you want for the bank account.",info:"This is where you provide the currency you want for the bank account.",type:y.Z.TYPES.select,value:n.currencySymbol,options:ie||[],onOptionName:e=>{let{countryName:t,symbol:n}=e;return"".concat(t," (").concat(n,")")},onOptionValue:e=>{let{iso_code:t,currency:n,symbol:r}=e;return"".concat(t,"_").concat(n,"_").concat(r)},placeholder:"",onCheckInfo:Ke,onChange:e=>{T&&T({id:n.id,currencySymbol:e})},errorMessage:Xe},"ShippingForm_".concat(n.id,"_currency")),(0,r.jsx)(y.Z,{w:"100%",id:"Form_".concat(n.id,"pass"),title:"Account Password",mb:4,helperText:"Enter password for the bank account.",info:"This is where you provide the password to sign into the bank account.",type:y.Z.TYPES.text,value:n.password,onChange:e=>{T&&T({id:n.id,password:e})},onCheckInfo:He,errorMessage:Re},"Form_".concat(n.id,"pass")),(0,r.jsx)(y.Z,{w:"100%",id:"Form_".concat(n.id,"pin"),title:"Account PIN",mb:4,helperText:"Enter 4-digits PIN for the bank account.",info:"This is where you provide the 4 digits to sign into the bank account.",type:y.Z.TYPES.text,value:"".concat(n.pin||""),onChange:e=>{T&&e&&!isNaN(e)&&T({id:n.id,pin:parseInt(e)})},onCheckInfo:Je,errorMessage:Ve},"Form_".concat(n.id,"pin")),a?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.Z,{w:"100%",display:a?"none":"block",id:"Form_".concat(n.id,"disable"),title:"Disable Transfer",mb:4,helperText:"Check this box if you want to disable transfer in the account.",info:"This is where you disable funds transfer in the account.",type:y.Z.TYPES.checkbox,value:n.disableAccount,onChange:e=>{T&&T({id:n.id,disableAccount:e})}},"Form_".concat(n.id,"disable")),n.disableAccount?(0,r.jsx)(y.Z,{w:"100%",id:"Form_".concat(n.id,"_emsg"),title:"Transfer Error Message",mb:4,placeholder:"Enter the error message you want to show here.",info:"This is where you enter the error message to show as the reason for transfer failure.",helperText:"Enter the error message to show as the reason for transfer failure.",type:y.Z.TYPES.textarea,value:n.disableAccountError,onChange:e=>{T&&T({id:n.id,disableAccountError:e})},errorMessage:Ge,onCheckInfo:Le},"Form_".concat(n.id,"_emsg")):null]}),(0,r.jsx)(y.Z,{w:"100%",id:"Form_".concat(n.id,"_status_time"),title:"Transaction Processing Time",mb:4,helperText:"Select the duration you want any transaction to take before it changes from pending to complete (success or failure)",info:"This is where you select the duration you want any transaction to take before it changes from pending to complete (success or failure). This is useful if you don't want a transaction to complete immediately.",type:y.Z.TYPES.select,options:Object.keys(P),onOptionValue:e=>e,onOptionName:e=>P[e],value:n.txProcessingDuration||Object.keys(P)[0],onChange:e=>{T&&T({id:n.id,txProcessingDuration:e})},onCheckInfo:Oe,errorMessage:De},"Form_".concat(n.id,"_status_time")),a||n.is_freemium?null:(0,r.jsx)(y.Z,{disabled:!1,w:"100%",id:"Form_".concat(n.id,"autorenew"),title:"Auto Renew Subscription",mb:4,helperText:n.subscription_expiry_date?n.subscription_expiry_date.toDate()<=new Date?"Enabling this allows the automatic charge of your wallet to renew the bank account after it has expired. Bank accounts expire after a month. This bank account has expired on ".concat(U(n.subscription_expiry_date),"."):"Enabling this allows the automatic charge of your wallet to renew the bank account after it has expired. Bank accounts expire after a month. This bank account's next expiration date is ".concat(U(n.subscription_expiry_date),"."):"Enabling this allows the automatic charge of your wallet to renew the bank account after it has expired. Bank accounts expire after a month.",info:n.subscription_expiry_date?n.subscription_expiry_date.toDate()<=new Date?"This is where you enable the automatic charge of your wallet to renew the bank account after it has expired. Bank accounts expire after a month. This bank account has expired on ".concat(U(n.subscription_expiry_date),"."):"This is where you enable the automatic charge of your wallet to renew the bank account after it has expired. Bank accounts expire after a month. This bank account's next expiration date is ".concat(U(n.subscription_expiry_date),"."):"This is where you enable the automatic charge of your wallet to renew the bank account after it has expired. Bank accounts expire after a month.",type:y.Z.TYPES.checkbox,value:n.autoRenewSubscription,onChange:e=>{T&&T({id:n.id,autoRenewSubscription:e})}},"Form_".concat(n.id,"autorenew")),a||n.is_freemium?null:(0,r.jsx)(y.Z,{disabled:!1,w:"100%",id:"Form_".concat(n.id,"_is_in_active"),title:"Disable Account",mb:4,helperText:"Disabling account will show an error telling the user the bank account is currently in-active, whenever they try to access the bank account.",info:"When account is disabled, an error will show telling the user the bank account is currently in-active, whenever they try to access the bank account.",type:y.Z.TYPES.checkbox,value:n.isInActive,onChange:e=>{T&&T({id:n.id,isInActive:e})}},"Form_".concat(n.id,"_is_in_active")),(0,r.jsx)(oe.Z,{my:2,isBank:!0}),(0,r.jsxs)(s.g,{w:"100%",justifyContent:"flex-start",alignItems:"center",my:8,children:[(0,r.jsx)(g.Z,{status:W&&!$e?"loading":"warning",fontStyle:W&&!$e?"italic":"normal",disabled:W||!z,w:"100%",maxW:"400px",h:"70px",fontSize:"lg",onClick:tt,rightIcon:W&&!$e?(0,r.jsx)(k.Z,{size:"1rem",color:"#fff",type:k.Z.TYPES.threeDots}):null,children:W&&!$e?"Please wait...":a?"Create Bank Account":"Update Bank Account"}),n.is_freemium&&!a?(0,r.jsx)(g.Z,{status:W&&$e?"loading":"error",fontStyle:W&&$e?"italic":"normal",disabled:W,w:"100%",maxW:"400px",h:"70px",fontSize:"lg",onClick:()=>{et({id:n.id,is_freemium:!1})},rightIcon:W&&$e?(0,r.jsx)(k.Z,{size:"1rem",color:"#fff",type:k.Z.TYPES.threeDots}):(0,r.jsx)(E.arg,{}),children:W&&$e?"Please wait...":"Remove Fake Bank Warning"}):null]})]}):(0,r.jsxs)(s.g,{children:[ee?(0,r.jsxs)(u.x,{as:"div",children:["Attempts to renew this bank account since its expiry date on ",U(n.subscription_expiry_date)," failed due to insufficient balance."]}):(0,r.jsxs)(u.x,{as:"div",children:["This bank account has expired on ",U(n.subscription_expiry_date),"."]}),(0,r.jsx)(u.x,{as:"div",children:"You and the friends you're pranking won't be able to login to the bank account until renewed."}),(0,r.jsx)(u.x,{as:"div",children:"Click the button below to renew it now."}),(0,r.jsx)(c.U,{w:"100%",justifyContent:"center",my:8,flexWrap:"wrap",children:(0,r.jsx)(g.Z,{id:"renew_".concat(n.id),status:W?"loading":"warning",fontStyle:W?"italic":"normal",disabled:W,w:"100%",maxW:"400px",h:"70px",fontSize:"lg",onClick:()=>{tt(!0)},rightIcon:W?(0,r.jsx)(k.Z,{size:"1rem",color:"#fff",type:k.Z.TYPES.threeDots}):null,children:W?"Please wait...":"Renew Bank Account"})}),(0,r.jsx)(u.x,{as:"div",children:"If you've renewed the subscription but you're still seeing this message, kindly refresh this page."})]})}),(0,r.jsx)(b.x,{position:"relative",overflow:"auto",maxH:{base:"70vh"},children:(0,r.jsx)(ae,{currencySymbol:n.currencySymbol?n.currencySymbol.split("_")[2].trim():"",credits:n.credits||[],debits:n.debits||[]})})]})]})})})})]})})},Se=n(99555),Ce=n(97470),je=n(63183);var Ee=()=>{const e="U8SL1BvlIb1nxj4JNCNX",t="banks",{toolsById:n,getTool:i}=(0,B.b5)(A.JP),[s,c]=(0,o.useState)();(0,o.useEffect)((()=>{if(n){const n=i(e);c(n?{...n,icon:(0,r.jsx)(E.RcD,{size:"100%"}),collectionRuleName:t}:null)}else c(null)}),[n]);const u=(0,Se.Z)(20),{getCurrentTimelineData:l}=u,h=[],d=["profilePhoto","password","pin","disableAccount","autoRenewSubscription","isInActive","credits","totalCredits","debits","totalDebits","fullname","email","phone","accountType","gender","maritalStatus","dob","occupation","address","currencySymbol","accountBalance","disableAccountError","txProcessingDuration","is_freemium"],m=[],p=(0,Ce.Z)(50,z,d,h,["profilePhoto"],m,t),{selectedIsNew:f,selectedData:b}=p,x=(0,je.Z)({collectionName:t,fileFields:h,toolId:e,historyProps:u,dataSourceProps:p,publishTexts:F,updatableFields:d,actionOnlyFields:m}),{savingData:y,setSavingData:g,handleUpdateData:w,handlePublishData:k}=x,T=(0,o.useMemo)((()=>(0,r.jsx)(Te,{tool:s,collectionName:t,isNew:f(),data:b,saving:y,setSaving:g,hasPendingSave:l((null===b||void 0===b?void 0:b.id)||"none").totalUpdates>1||f(),onUpdateData:w,onPublishData:k})),[t,s,b,y]);return(0,r.jsx)(a.Z,{tool:s,form:T,historyProps:u,dataSourceProps:p,dataHandlerProps:x,publishTexts:F,getItemName:e=>e.fullname||"No Name",getItemBadge:e=>{const t=e;return t.accountNumber_username?"".concat(t.accountNumber_username):"0000000000"},getItemDescription:e=>e.date,onOverWriteCopiedData:e=>({...e,profilePhoto:null,password:null,pin:null,accountNumber_username:(0,C.ib)(),disableAccount:!1,autoRenewSubscription:!1,isInActive:!1,totalCredits:0,totalDebits:0,credits:[],debits:[]})})}},51371:function(){},96127:function(){},99840:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(10991),a=n(16554),o=n(2169),i=n(85893),s=(0,a.G)(((e,t)=>{const n=(0,r.p)();return(0,i.jsx)(o.m.thead,{...e,ref:t,__css:n.thead})}))},10991:function(e,t,n){"use strict";n.d(t,{i:function(){return d},p:function(){return h}});var r=n(16554),a=n(77030),o=n(33179),i=n(2169),s=n(25432),c=n(55227),u=n(85893),[l,h]=(0,c.k)({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),d=(0,r.G)(((e,t)=>{const n=(0,a.jC)("Table",e),{className:r,layout:c,...h}=(0,o.Lr)(e);return(0,u.jsx)(l,{value:n,children:(0,u.jsx)(i.m.table,{ref:t,__css:{tableLayout:c,...n.table},className:(0,s.cx)("chakra-table",r),...h})})}));d.displayName="Table"},80510:function(e,t,n){"use strict";n.d(t,{Tr:function(){return s}});var r=n(10991),a=n(16554),o=n(2169),i=n(85893),s=(0,a.G)(((e,t)=>{const n=(0,r.p)();return(0,i.jsx)(o.m.tr,{...e,ref:t,__css:n.tr})}))},15115:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(10991),a=n(16554),o=n(2169),i=n(85893),s=(0,a.G)(((e,t)=>{const n=(0,r.p)();return(0,i.jsx)(o.m.tbody,{...e,ref:t,__css:n.tbody})}))},4693:function(e,t,n){"use strict";n.d(t,{Th:function(){return s}});var r=n(10991),a=n(16554),o=n(2169),i=n(85893),s=(0,a.G)((({isNumeric:e,...t},n)=>{const a=(0,r.p)();return(0,i.jsx)(o.m.th,{...t,ref:n,__css:a.th,"data-is-numeric":e})}))},64698:function(e,t,n){"use strict";n.d(t,{Td:function(){return s}});var r=n(10991),a=n(16554),o=n(2169),i=n(85893),s=(0,a.G)((({isNumeric:e,...t},n)=>{const a=(0,r.p)();return(0,i.jsx)(o.m.td,{...t,ref:n,__css:a.td,"data-is-numeric":e})}))}},function(e){e.O(0,[400,847,646,48,614,123,42,505,731,908,86,687,774,888,179],(function(){return t=82080,e(e.s=t);var t}));var t=e.O();_N_E=t}]);