(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[221],{33451:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cargo",function(){return n(8299)}])},11303:function(e,t,n){"use strict";var i=n(67294);t.Z=(e,t,n)=>{const[r,a]=(0,i.useState)(),o=t=>({waitTime:0,checker:(t,n)=>new Promise(((i,r)=>{const o=e(t,n);o?(a(o),i(!1)):(a(""),i(!0))}))}),s={error:r,checkHandler:o};return t&&(s[t]=r),n&&(s[n]=o),s}},59501:function(e,t,n){"use strict";var i=n(85893),r=n(45161),a=n(14225),o=n(34292),s=n(57747),c=n(71293),h=n(55204);t.Z=e=>{let{as:t,onClick:n,children:l,variant:p,bgColor:d,outlineColor:m,leftIcon:g,rightIcon:u,loading:x,disabled:f,...k}=e;const b=d||(0,r.ff)("colorAccent.light","colorAccent.dark"),v=m||(0,r.ff)("colorAccentDestination.light","colorAccentDestination.dark");return(0,i.jsx)(a.z,{as:t||"button",cursor:"pointer",disabled:f||x,onClick:e=>{!n||f||x||n(e)},display:"inline-flex",justifyContent:"center",alignItems:"center",p:"0px 24px",h:"48px",letterSpacing:"0.03em",textAlign:"center",borderRadius:"16px",bg:"outline"==p?"transparent":b,border:"outline"==p?"2px solid":"none",borderColor:"outline"==p?v:"transparent",color:"outline"==p?v:"#fff",boxShadow:"ghost"==p||"outline"==p?"none":"rgb(14 14 44 / 40%) 0px -1px 0px 0px inset",opacity:"ghost"==p?"0.8":"1",transition:"background-color 0.2s ease 0s, opacity 0.2s ease 0s",_hover:{opacity:"0.65",border:"none !important"},_disabled:{opacity:"0.65",cursor:"not-allowed"},...k,children:(0,i.jsxs)(o.U,{justifyContent:"center",alignItems:"center",children:[g?(0,i.jsx)(s.xu,{mr:"7px",children:g}):null,(0,i.jsx)(c.x,{as:"div",children:l}),x?(0,i.jsx)(s.xu,{as:h.g4,display:"inline",width:"20%",height:"20%",color:"#fff"}):u?(0,i.jsx)(s.xu,{ml:"7px",children:u}):null]})})}},8299:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return K}});var i=n(85893),r=n(11802),a=n(5397),o=n(67294),s=n(7963),c=n(71293),h=n(48783),l=n(34292),p=n(57747);const d={processing:"processing",inTransit:"inTransit",delivered:"delivered",errorMessage:"errorMessage"},m={processing:"Processing",inTransit:"In transit",delivered:"Delivered",errorMessage:"Error Message"};var g=n(67918);var u=e=>{let{children:t,...n}=e;return(0,i.jsx)(c.x,{w:"100%",bg:"#00adfe",color:"#fff",textTransform:"uppercase",fontWeight:"bold",fontSize:{base:"1.2rem",lg:"1.8rem"},my:"1rem !important",display:"block",p:"0.5rem",...n,children:t})},x=n(3804),f=n(85461),k=n(11303),b=n(56691),v=n(86455),w=n.n(v),C=n(53754),y=n(5555),S=n(80419),E=n(65380),T=n(55154),_=n(33471),I=n(73386),j=n(21344);const Z=()=>{const e=new Date,t=new Date;t.setTime(t.getTime()+2592e5);return{shippingStatus:"processing",shipmentDate:(0,y.SG)(e),expectedArrivalDate:(0,y.SG)(t),costCurrency:"US_USD_$",is_freemium:!0}},D={newData:"New Shipment",noDataError:"No Shipment selected",newTitle:"Shipment Type",updateTitle:"Update Cost",updateMessage:"The update will cost you {PRICE}.",freeTitle:"Test Shipment(Free).",freeMessage:"The downloaded shipping invoice will have watermark. The shipping tracking website page will also have watermark.",paidTitle:"Clean Shipment({PRICE})",paidMessage:"The downloaded shipping invoice will be clean with no watermark. The shipping tracking website page will also be clean with no watermark.",signInMessage:"Please sign in to save your shipment.",signUpMessage:"Please sign up to save your shipment.",createButtonText:"Create Invoice",noChatToListMessage:"Your invoices will show here",deleteWarning:"Are you sure you want to permanently delete this already saved shipment?"};var N=n(81058),P=n(59501);const F=n(32731)(),M={min:2,max:100},A={min:1,max:500},W={min:1,max:100},Y={min:1,max:100},U={min:1,max:100},z={min:1,max:100},O={min:1,max:100},R={min:1,max:100},L={min:1,max:100},V={min:1,max:100},G={min:1,max:16},X={min:1,max:100};var q=e=>{let{tool:t,data:n,isNew:a,onUpdateData:v,onPublishData:q,saving:H,setSaving:Q,hasPendingSave:B}=e;if(!n)return null;const J=(0,s.p)(),[K,$]=(0,o.useState)(!1),[ee,te]=(0,o.useState)(!1),{errorMsgError:ne,errorMsgChecker:ie}=(0,k.Z)((e=>e&&0!=e.length?e.length<A.min?"The error message is too short. It must be up to ".concat(A.min," characters."):e.length>A.max?"The error message is too long. It must not be greater than ".concat(A.max," characters."):null:"Enter the error message to show on the tracking page."),"errorMsgError","errorMsgChecker"),{senderNameError:re,senderNameChecker:ae}=(0,k.Z)((e=>e&&0!=e.length?e.length<M.min?"The sender name is too short. It must be up to ".concat(M.min," characters."):e.length>M.max?"The sender name is too long. It must not be greater than ".concat(M.max," characters."):null:"Enter the sender's name."),"senderNameError","senderNameChecker"),{senderEmailError:oe,senderEmailChecker:se}=(0,k.Z)((e=>e&&0!=e.length?e.length<W.min?"The sender email is too short. It must be up to ".concat(W.min," characters."):e.length>W.max?"The sender email is too long. It must not be greater than ".concat(W.max," characters."):(0,C.vV)(e)?null:"Invalid email address.":"Enter the sender's email."),"senderEmailError","senderEmailChecker"),{recipientNameError:ce,recipientNameChecker:he}=(0,k.Z)((e=>e&&0!=e.length?e.length<Y.min?"The recipient name is too short. It must be up to ".concat(Y.min," characters."):e.length>Y.max?"The recipient name is too long. It must not be greater than ".concat(Y.max," characters."):null:"Enter the recipient's name."),"recipientNameError","recipientNameChecker"),{recipientAddressError:le,recipientAddressChecker:pe}=(0,k.Z)((e=>e&&0!=e.length?e.length<U.min?"The recipient address is too short. It must be up to ".concat(U.min," characters."):e.length>U.max?"The recipient address is too long. It must not be greater than ".concat(U.max," characters."):null:"Enter the recipient's address."),"recipientAddressError","recipientAddressChecker"),{recipientEmailError:de,recipientEmailChecker:me}=(0,k.Z)((e=>e&&0!=e.length?e.length<z.min?"The recipient email is too short. It must be up to ".concat(z.min," characters."):e.length>z.max?"The recipient email is too long. It must not be greater than ".concat(z.max," characters."):(0,C.vV)(e)?null:"Invalid email address.":"Enter the recipient's email."),"recipientEmailError","recipientEmailChecker"),{recipientPhoneError:ge,recipientPhoneChecker:ue}=(0,k.Z)((e=>e&&0!=e.length?e.length<O.min?"The recipient phone number is too short. It must be up to ".concat(O.min," characters."):e.length>O.max?"The recipient phone number is too long. It must not be greater than ".concat(O.max," characters."):(0,C.kj)(e)?null:"Invalid phone number.":"Enter the recipient's phone number."),"recipientPhoneError","recipientPhoneChecker"),{packageContentError:xe,packageContentChecker:fe}=(0,k.Z)((e=>e&&0!=e.length?e.length<R.min?"The package content is too short. It must be up to ".concat(R.min," characters."):e.length>R.max?"The package content is too long. It must not be greater than ".concat(R.max," characters."):null:"Enter the package content."),"packageContentError","packageContentChecker"),{packageWeightError:ke,packageWeightChecker:be}=(0,k.Z)((e=>e&&0!=e.length?e.length<L.min?"The package weight is too short. It must be up to ".concat(L.min," characters."):e.length>L.max?"The package weight is too long. It must not be greater than ".concat(L.max," characters."):null:"Enter the package weight."),"packageWeightError","packageWeightChecker"),{invoiceError:ve,invoiceChecker:we}=(0,k.Z)((e=>e&&0!=e.length?e.length<V.min?"The invoice number is too short. It must be up to ".concat(V.min," characters."):e.length>V.max?"The invoice number is too long. It must not be greater than ".concat(V.max," characters."):null:"Enter the invoice number."),"invoiceError","invoiceChecker"),{feeError:Ce,feeChecker:ye}=(0,k.Z)((e=>e&&0!=e.length?e.length<G.min?"The shipping fee is too short. It must be up to ".concat(G.min," characters."):e.length>G.max?"The shipping fee is too long. It must not be greater than ".concat(G.max," characters."):null:"Enter the shipping fee."),"feeError","feeChecker"),{costCurrencyError:Se,costCurrencyChecker:Ee}=(0,k.Z)((e=>(0,C.N4)(e)?null:e.length<X.min?"The shipping fee's currency is too short. It must be up to ".concat(X.min," characters."):e.length>X.max?"The shipping fee's currency is too long. It must not be greater than ".concat(X.max," characters."):null),"costCurrencyError","costCurrencyChecker"),Te=e=>{if(K)return;$(!0);const t=Number((e.shipmentFee||"0").replace(/[^\d.]+/g,"").trim()),n=(0,C.rx)(10,15,t),i=t-n,r=e.costCurrency?e.costCurrency.split("_")[2]:"$",a=(0,_.ZP)({trackingId:e.id||"",invoiceNumber:e.invoiceNumber||"",senderName:e.senderName||"",senderEmail:(e.senderEmail||"").toLowerCase(),recipientName:e.packageRecipientName||"",recipientEmail:(e.packageDestinationEmail||"").toLowerCase(),recipientAddress:e.packageDestinationAddress||"",shipmentDate:((0,y.Ft)(e.shipmentDate)||new Date).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}),packageContent:e.packageContent||"",packageWeight:e.packageWeight||"",shippingFee:"".concat(r).concat((0,C.xz)(i)),tax:"".concat(r).concat((0,C.xz)(n)),shippingFeeTotal:"".concat(r).concat((0,C.xz)(t)),hasNoWatermark:!e.is_freemium});J({description:"Your shipment invoice will download shortly.",status:"info",duration:4e3,isClosable:!0}),(0,_.T8)(a,"jpeg","".concat((e.packageContent||"").replaceAll(" ","").toLowerCase(),"-").concat((new Date).toISOString(),"-shipping-invoice")).then((e=>{$(!1),te(!0),setTimeout((()=>{te(!1)}),8e3)})).catch((e=>{$(!1),w().fire({icon:"error",title:"Download Error",text:e.message})}))},[_e,Ie]=(0,o.useState)(!1);return n.id==r.XA?(0,i.jsx)(I.Z,{tool:t,maxHeaderWidth:"700px",hideContents:!0,children:(0,i.jsxs)(g.Z,{w:"100%",h:"auto",mb:"0.5rem",mx:"auto",children:[(0,i.jsx)(c.x,{mb:4,children:"This tool has been upgraded and migrated. Click the button below to go to the upgraded version."}),(0,i.jsx)(P.Z,{w:"auto",as:"a",href:"/tool-viewer/?id=0QZLQQKVTRV3Q6SFAIEA",bg:(0,E.z)("warning"),children:"Use Upgraded Version"})]})}):(0,i.jsx)(I.Z,{tool:t,maxHeaderWidth:"700px",children:(0,i.jsxs)(g.Z,{w:"100%",maxWidth:"700px",h:"auto",mx:"auto",children:[n.id!=r.XA?(0,i.jsxs)(h.g,{children:[(0,i.jsxs)(l.U,{flexWrap:"wrap",justifyContent:"space-between",width:"100%",children:[(0,i.jsxs)(l.U,{flexWrap:"wrap",children:[(0,i.jsxs)(c.x,{m:"0px !important",mr:1,children:["Tracking ID:"," "]}),(0,i.jsx)(S.Z,{fontWeight:"bold",m:"0px !important",mr:2,onCopyMessage:"Tracking ID copied.",children:n.id})]}),(0,i.jsx)(f.Z,{as:"a",href:"https://mycargolane.com",target:"_blank",bg:(0,E.z)("warning"),rightIcon:(0,i.jsx)(T.CkN,{}),children:"Visit MyCargoLane.com"})]}),(0,i.jsxs)(c.x,{as:"div",fontSize:"13px",children:["Tell the person you're pranking to use the tracking ID above to track this shipment on the ",(0,i.jsx)(c.x,{as:"a",color:(0,E.z)("warning"),href:"https://mycargolane.com",target:"_blank",fontWeight:"bold",textDecoration:"underline",children:"mycargolane.com"})," website."]})]}):(0,i.jsxs)(h.g,{alignItems:"flex-start",children:[(0,i.jsxs)(l.U,{flexWrap:"wrap",justifyContent:"flex-start",alignItems:"center",children:[(0,i.jsx)(T.C5q,{})," ",(0,i.jsx)(c.x,{m:"0px !important",mr:1,children:D.newData})]}),(0,i.jsxs)(c.x,{as:"div",fontSize:"13px",children:["Click the info icon(",(0,i.jsx)(T.DAO,{style:{display:"inline"}}),") beside each form fields for help on what to enter."]})]}),(0,i.jsx)(u,{children:"Enter Tracking Info"}),(0,i.jsx)(x.Z,{w:"100%",mb:4,id:"ShippingForm_".concat(n.id,"_status"),title:"Shipping Status",helperText:n.id!=r.XA?"Only the shipping status can be edited.":"",info:'\n                    This is the status you want to show on the checking page. \n                    "Processing" means the package is currently being checked.\n                    "In transit" means the package is currently being shipped to the recipient\'s address.\n                    "Delivered" means the package has been delivered.\n                    "Error Message" means the package delivery has encountered an error. You will be able to provide an error message to show for this status type.\n                ',type:x.Z.TYPES.select,value:n.shippingStatus,options:Object.keys(d),onOptionValue:e=>e,onOptionName:e=>m[e],onChange:e=>{v&&v({id:n.id,shippingStatus:e})}},"ShippingForm_".concat(n.id,"_status")),(0,i.jsx)(x.Z,{w:"100%",display:"errorMessage"===n.shippingStatus?"block":"none",id:"ShippingForm_".concat(n.id,"_emsg"),title:"Error Message",mb:4,placeholder:"Enter the error message you want to show here.",info:"This is where you enter the error message you want people to see when they track this shipment invoice.",helperText:"Enter the error message you want people to see when they track this shipment invoice.",type:x.Z.TYPES.textarea,value:n.errorMessage,onChange:e=>{v&&v({id:n.id,errorMessage:e})},errorMessage:ne,onCheckInfo:ie},"ShippingForm_".concat(n.id,"_emsg")),(0,i.jsxs)(l.U,{w:"100%",flexWrap:"wrap",mb:{base:0,lg:4},p:"0px !important",children:[(0,i.jsx)(p.xu,{w:{base:"100%",lg:"100%"},mb:{base:4,lg:0},pr:"5px !important",mx:"0px !important",width:"100%",children:(0,i.jsx)(x.Z,{disabled:!a,w:"100%",id:"ShippingForm_".concat(n.id,"_sdate"),title:"Shipment Date",info:"This is the date that the package was dropped for shipping.",type:x.Z.TYPES.date,value:(0,y.Ft)(n.shipmentDate),onChange:e=>{v&&v({id:n.id,shipmentDate:(0,y.SG)(e)})}},"ShippingForm_".concat(n.id,"_sdate"))}),(0,i.jsx)(p.xu,{w:{base:"100%",lg:"100%"},mb:{base:4,lg:0},pr:"5px !important",mx:"0px !important",width:"100%",children:(0,i.jsx)(x.Z,{w:"100%",mb:{base:4,lg:0},p:"0px !important",id:"ShippingForm_".concat(n.id,"_adate"),title:"Expected Arrival Date",info:"This is the date the package is expected to arrive at the recipient's address.",type:x.Z.TYPES.date,value:(0,y.Ft)(n.expectedArrivalDate),onChange:e=>{v&&v({id:n.id,expectedArrivalDate:(0,y.SG)(e)})}},"ShippingForm_".concat(n.id,"_adate"))})]}),(0,i.jsx)(u,{children:"Enter Sender Info"}),(0,i.jsx)(x.Z,{disabled:!a,w:"100%",id:"ShippingForm_".concat(n.id,"_sname"),title:"Sender Name",mb:4,placeholder:"Enter sender's name",info:"The full name of the individual sending the package; that is you.",type:x.Z.TYPES.text,value:n.senderName,onChange:e=>{v&&v({id:n.id,senderName:e})},errorMessage:re,onCheckInfo:ae},"ShippingForm_".concat(n.id,"_sname")),(0,i.jsx)(x.Z,{disabled:!a,w:"100%",id:"ShippingForm_".concat(n.id,"_smail"),title:"Sender Email Address",placeholder:"Enter sender's email address",info:"The email address of the individual sending the package; that is yours.",type:x.Z.TYPES.email,value:n.senderEmail,onChange:e=>{v&&v({id:n.id,senderEmail:e})},errorMessage:oe,onCheckInfo:se},"ShippingForm_".concat(n.id,"_smail")),(0,i.jsx)(u,{children:"Enter Shipping Info"}),(0,i.jsx)(x.Z,{disabled:!a,w:"100%",id:"ShippingForm_".concat(n.id,"_rname"),title:"Recipient Name",mb:4,placeholder:"Enter recipient's name",info:"The full name of the individual the package is being sent to.",type:x.Z.TYPES.text,value:n.packageRecipientName,onChange:e=>{v&&v({id:n.id,packageRecipientName:e})},errorMessage:ce,onCheckInfo:he},"ShippingForm_".concat(n.id,"_rname")),(0,i.jsx)(x.Z,{disabled:!a,w:"100%",mb:4,id:"ShippingForm_".concat(n.id,"_raddr"),title:"Recipient Address",placeholder:"Enter recipient's address",info:"The home address of the individual the package is being sent to.",type:x.Z.TYPES.text,value:n.packageDestinationAddress,onChange:e=>{v&&v({id:n.id,packageDestinationAddress:e})},errorMessage:le,onCheckInfo:pe},"ShippingForm_".concat(n.id,"_raddr")),(0,i.jsx)(x.Z,{disabled:!a,w:"100%",mb:4,id:"ShippingForm_".concat(n.id,"_rmail"),title:"Recipient Email Address",placeholder:"Enter recipient's email address",info:"The email address of the individual the package is being sent to.",type:x.Z.TYPES.email,value:n.packageDestinationEmail,onChange:e=>{v&&v({id:n.id,packageDestinationEmail:e})},errorMessage:de,onCheckInfo:me},"ShippingForm_".concat(n.id,"_rmail")),(0,i.jsx)(x.Z,{disabled:!a,w:"100%",mb:4,id:"ShippingForm_".concat(n.id,"_rnum"),title:"Recipient Phone",placeholder:"Enter recipient's phone number",info:"The phone number of the individual the package is being sent to.",type:x.Z.TYPES.text,value:n.packageDestinationPhone,onChange:e=>{v&&v({id:n.id,packageDestinationPhone:e})},errorMessage:ge,onCheckInfo:ue},"ShippingForm_".concat(n.id,"_rnum")),(0,i.jsx)(x.Z,{disabled:!a,w:"100%",mb:4,id:"ShippingForm_".concat(n.id,"_content"),title:"Package Content",placeholder:"Enter content",info:"The content in the package you're shipping.",type:x.Z.TYPES.text,value:n.packageContent,onChange:e=>{v&&v({id:n.id,packageContent:e})},errorMessage:xe,onCheckInfo:fe},"ShippingForm_".concat(n.id,"_content")),(0,i.jsx)(x.Z,{disabled:!a,w:"100%",id:"ShippingForm_".concat(n.id,"_weight"),title:"Package weight",placeholder:"Enter weight",info:"The weight of the package you're shipping.",type:x.Z.TYPES.text,value:n.packageWeight,onChange:e=>{v&&v({id:n.id,packageWeight:e})},errorMessage:ke,onCheckInfo:fe},"ShippingForm_".concat(n.id,"_weight")),(0,i.jsx)(u,{children:"Enter Invoice Info"}),(0,i.jsx)(x.Z,{disabled:!a,w:"100%",id:"ShippingForm_".concat(n.id,"_inv"),title:"Invoice Number",mb:4,placeholder:"Enter Invoice number",info:"This is the shipment invoice number you want to give to the package.",type:x.Z.TYPES.text,value:n.invoiceNumber,onChange:e=>{v&&v({id:n.id,invoiceNumber:e})},errorMessage:ve,onCheckInfo:we},"ShippingForm_".concat(n.id,"_inv")),(0,i.jsxs)(l.U,{w:"100%",mb:{base:0,md:4},p:"0px !important",gap:"0px !important",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"flex-start",children:[(0,i.jsx)(p.xu,{w:{base:"100%",md:"35%"},mb:{base:0},pr:"5px !important",mx:"0px !important",children:(0,i.jsx)(x.Z,{disabled:!a,w:"100%",id:"ShippingForm_".concat(n.id,"_currency"),title:"Fee Currency",info:"This is the currency of the amount you want to show as the cost of the shipping.",type:x.Z.TYPES.select,value:n.costCurrency?n.costCurrency:Z().costCurrency,options:F||[],onOptionName:e=>{let{countryName:t,symbol:n}=e;return"".concat(t," (").concat(n,")")},onOptionValue:e=>{let{iso_code:t,currency:n,symbol:i}=e;return"".concat(t,"_").concat(n,"_").concat(i)},placeholder:"",onCheckInfo:Ee,onChange:e=>{v&&v({id:n.id,costCurrency:e})},errorMessage:Se},"ShippingForm_".concat(n.id,"_currency"))}),(0,i.jsx)(p.xu,{w:{base:"100%",md:"65%"},mb:{base:4,md:0},pr:"5px !important",mx:"0px !important",children:(0,i.jsx)(x.Z,{disabled:!a,w:"100%",id:"ShippingForm_".concat(n.id,"_fee"),title:"Shipment Fee",placeholder:"Enter shipping fee",info:"This is the amount you want to show as the cost of the shipping. E.g 2500",type:x.Z.TYPES.text,numberDecimals:0,value:n.shipmentFee,onChange:e=>{v&&v({id:n.id,shipmentFee:e})},errorMessage:Ce,onCheckInfo:ye},"ShippingForm_".concat(n.id,"_fee"))})]}),(0,i.jsx)(N.Z,{my:2}),(0,i.jsxs)(h.g,{w:"100%",justifyContent:"flex-start",alignItems:"center",my:8,children:[(0,i.jsx)(f.Z,{status:H&&!_e?"loading":"warning",fontStyle:H&&!_e?"italic":"normal",disabled:H||!B,w:"100%",maxW:"400px",h:"70px",fontSize:"lg",onClick:async()=>{if(!q||H)return;Q(!0);const e=[ae().checker(n.senderName),se().checker(n.senderEmail),he().checker(n.packageRecipientName),pe().checker(n.packageDestinationAddress),me().checker(n.packageDestinationEmail),ue().checker(n.packageDestinationPhone),fe().checker(n.packageContent),be().checker(n.packageWeight),we().checker(n.invoiceNumber),Ee().checker(n.costCurrency),ye().checker(n.shipmentFee)];(await Promise.all(e)).includes(!1)?(Q(!1),w().fire({text:"You have some errors in your form. Please check the error message(s) at the input(s) and try again."})):(Q(!1),q().then((e=>{Q(!1),J({description:a?"New Shipping successfully saved.":"Shipping successfully updated.",status:"success",duration:4e3,isClosable:!0}),a&&Te(e)})).catch((e=>{Q(!1),((null===e||void 0===e?void 0:e.message)||"").length>0&&w().fire({icon:"error",title:a?"Shipping Creation Error":"Shipping Update Error",text:e.message})})))},rightIcon:H&&!_e?(0,i.jsx)(b.Z,{size:"1rem",color:"#fff",type:b.Z.TYPES.threeDots}):null,children:H&&!_e?"Please wait...":a?"Create Invoice":"Update Invoice"}),(0,i.jsx)(f.Z,{status:H?"loading":"warning",outlined:!0,fontStyle:H?"italic":"normal",disabled:H,w:"100%",maxW:"400px",h:"70px",fontSize:"lg",onClick:()=>{a?w().fire({icon:"error",title:"Download error",text:"You're yet to create the shipment invoice. Create invoice first, then download."}):Te(n)},rightIcon:(0,i.jsx)(T.ZJh,{}),children:H?"Please wait...":"Download Invoice"}),ee?(0,i.jsx)(j.Z,{status:"success",children:"Check your download folder for the downloaded shipment invoice."}):null,n.is_freemium&&!a?(0,i.jsx)(f.Z,{status:H&&_e?"loading":"error",fontStyle:H&&_e?"italic":"normal",disabled:H,w:"100%",maxW:"400px",h:"70px",fontSize:"lg",onClick:()=>{(e=>{if(!q)return;Q(!0);var t=e?JSON.parse(JSON.stringify(e)):{};t.id&&delete t.id,e.is_freemium||1!=Object.keys(t).length||Ie(!0);const n=!e.is_freemium&&1==Object.keys(t).length;q(!1,e).then((e=>{Q(!1),w().fire({icon:"success",title:"Success",text:n?"Watermark successfully removed.":"Shipping successfully updated."}),Ie(!1)})).catch((e=>{Q(!1),Ie(!1),((null===e||void 0===e?void 0:e.message)||"").length>0&&w().fire({icon:"error",title:a?"Shipping Creation Error":"Shipping Update Error",text:e.message})}))})({id:n.id,is_freemium:!1})},rightIcon:H&&_e?(0,i.jsx)(b.Z,{size:"1rem",color:"#fff",type:b.Z.TYPES.threeDots}):(0,i.jsx)(T.arg,{}),children:H&&_e?"Please wait...":"Remove Watermark"}):null]})]})})},H=n(99555),Q=n(53348),B=n(63183),J=n(33775);var K=()=>{const e="qDs4yENnChIKjVG6oMcK",t="shipments",{toolsById:n,getTool:s}=(0,J.b5)(),[c,h]=(0,o.useState)();(0,o.useEffect)((()=>{if(n){const n=s(e);h(n?{...n,icon:(0,i.jsx)(T.C5q,{size:"100%"}),collectionRuleName:t}:null)}else h(null)}),[n]);const l=(0,H.Z)(20),{getCurrentTimelineData:p}=l,d=["shippingStatus","errorMessage","expectedArrivalDate","is_freemium"],g=(0,Q.Z)(50,Z,d,void 0,void 0,void 0,t),{selectedIsNew:u,selectedData:x}=g,f=(0,B.Z)({collectionName:t,toolId:e,historyProps:l,dataSourceProps:g,publishTexts:D,updatableFields:d}),{savingData:k,setSavingData:b,handleUpdateData:v,handlePublishData:w}=f,C=(0,o.useMemo)((()=>(0,i.jsx)(q,{tool:c,collectionName:t,isNew:u(),data:x,saving:k,setSaving:b,hasPendingSave:p((null===x||void 0===x?void 0:x.id)||"none").totalUpdates>1||u(),onUpdateData:v,onPublishData:w})),[c,x,k,t]);return(0,i.jsx)(a.Z,{tool:c,form:C,historyProps:l,dataSourceProps:g,dataHandlerProps:f,publishTexts:D,getItemName:e=>{var t="";return e.packageContent?t+=e.packageContent:e.id==r.XA&&(t+="New Invoice..."),e.invoiceNumber&&(t+=" - "+e.invoiceNumber),t},getItemBadge:e=>(null===e||void 0===e?void 0:e.shippingStatus)?m[e.shippingStatus]:null,getItemDescription:e=>(null===e||void 0===e?void 0:e.packageDestinationAddress)?null===e||void 0===e?void 0:e.packageDestinationAddress:null,onOverWriteCopiedData:e=>e})}},32883:function(e,t,n){"use strict";n.d(t,{r:function(){return h}});var i=n(16554),r=n(77030),a=n(33179),o=n(2169),s=n(25432),c=n(85893),h=(0,i.G)((function(e,t){const n=(0,r.mq)("Link",e),{className:i,isExternal:h,...l}=(0,a.Lr)(e);return(0,c.jsx)(o.m.a,{target:h?"_blank":void 0,rel:h?"noopener":void 0,ref:t,className:(0,s.cx)("chakra-link",i),...l,__css:n})}));h.displayName="Link"}},function(e){e.O(0,[400,714,847,123,29,731,908,101,15,774,888,179],(function(){return t=33451,e(e.s=t);var t}));var t=e.O();_N_E=t}]);