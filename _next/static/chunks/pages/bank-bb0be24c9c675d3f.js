(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[713],{82080:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bank",function(){return n(79281)}])},55948:function(e,t,n){"use strict";n.d(t,{o:function(){return i},t:function(){return o}});var a=n(67294),r=n(53754);const o=e=>{const[t,n]=(0,a.useState)();return(0,a.useEffect)((()=>{n((0,r.ST)(e))}),[e]),t},i=(e,t,n,o)=>{const[i,s]=(0,a.useState)(),c=()=>{s((0,r.VT)(e,t,n))};return(0,a.useEffect)((()=>{c()}),[e,t,n,o]),[i,c]}},81058:function(e,t,n){"use strict";var a=n(85893),r=n(52243),o=n(20967),i=n(34292),s=n(71293),c=n(32883),l=n(49429),u=n(57747),m=(n(67294),n(55154)),h=n(98924);t.Z=e=>{let{isBank:t,...n}=e;const d=(0,r.G)(),{isOpen:p,onOpen:x,onClose:b}=(0,o.q)();return(0,a.jsxs)(i.U,{cursor:"pointer",fontSize:"13px",color:"orange",...n,onClick:x,children:[(0,a.jsxs)(s.x,{as:"span",textDecoration:"underline",children:[(0,a.jsx)(m.iih,{style:{display:"inline-flex"}}),t?" How to Remove Fake Bank Warning":" How to Remove Watermark"]}),(0,a.jsx)(s.x,{as:"div",fontSize:"16px",children:" | "}),(0,a.jsxs)(s.x,{as:"span",textDecoration:"underline",children:[(0,a.jsx)(m.iih,{style:{display:"inline-flex"}})," How to Pay in Naira"]}),p?(0,a.jsxs)(h.Z,{title:"How to Pay In Local Currency",isOpen:p,placement:"bottom",h:"90%",onClose:b,justifyContent:"flex-start",alignItems:"center",children:[(0,a.jsxs)(s.x,{as:"div",p:"0.5rem",textAlign:"center",children:["If the video does not load in time, ",(0,a.jsx)(c.r,{href:"https://youtu.be/yIIjPPeCkkw",target:"_blank",cursor:"pointer",color:"orange",isExternal:!0,children:"click here to watch on youtube."})]}),"base"===d?(0,a.jsx)(l.o,{bg:"#000",w:"360px",maxW:"360px",maxH:"65vh",ratio:9/16,children:(0,a.jsx)(u.xu,{as:"iframe",src:"https://www.youtube.com/embed/yIIjPPeCkkw?rel=0&enablejsapi=1",borderRadius:"15px",allow:"accelerometer; gyroscope; picture-in-picture; fullscreen;"})}):(0,a.jsx)(l.o,{bg:"#000",w:"600px",maxW:"560px",maxH:"70vh",ratio:16/9,children:(0,a.jsx)(u.xu,{as:"iframe",src:"https://www.youtube.com/embed/yIIjPPeCkkw?rel=0&enablejsapi=1",borderRadius:"25px",allow:"accelerometer; gyroscope; picture-in-picture; fullscreen;"})})]}):null]})}},11303:function(e,t,n){"use strict";var a=n(67294);t.Z=(e,t,n)=>{const[r,o]=(0,a.useState)(),i=t=>({waitTime:0,checker:(t,n)=>new Promise(((a,r)=>{const i=e(t,n);i?(o(i),a(!1)):(o(""),a(!0))}))}),s={error:r,checkHandler:i};return t&&(s[t]=r),n&&(s[n]=i),s}},33939:function(e,t,n){"use strict";var a=n(67294);t.Z=e=>{const[t,n]=(0,a.useState)(Date.now());return(0,a.useEffect)((()=>{const t=setInterval((()=>{n(Date.now())}),e);return()=>clearInterval(t)}),[e]),t}},79281:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ve}});var a=n(85893),r=n(5397),o=n(67294),i=n(7963),s=n(48783),c=n(34292),l=n(71293),u=n(93717),m=n(57747),h=n(70959),d=n(44461),p=n(24124),x=n(84028),b=n(90889),f=n(6089),g=n(49289),y=n(67918),w=n(36238),k=n(85461),T=n(11303),S=n(56691),j=n(86455),C=n.n(j),E=n(53754),v=n(80419),Z=n(55154);const _={savings:"Savings",current:"Current (Checking)",personal:"Personal",corporate:"Corporate (Business)"},P={male:"Male",female:"Female"},N={single:"Single",married:"Married",divorce:"Divorced",widowed:"Widowed"},I={Successful:"Successful Transaction",Failed:"Failed Transaction"},D={immediately:"Immediately","5s":"5 seconds","10s":"10 seconds","30s":"30 seconds","1m":"1 minute","5m":"5 minutes","10m":"10 minutes","15m":"15 minutes","30m":"30 minutes","45m":"45 minutes","1h":"1 hour","2h":"2 hours","4h":"4 hours","6h":"6 hours","12h":"12 hours","1d":"1 day","2d":"2 days","3d":"3 days","1w":"1 week","2w":"2 weeks","3w":"3 weeks","1M":"1 month","2M":"2 months","3M":"3 months","6M":"6 months","9M":"9 months","1y":"1 year","2y":"2 years","5y":"5 years"};var O=n(11802),A=n(96918),F=n(73386);const Y={newData:"New Account",noDataError:"No Account selected",newTitle:"Bank Account Type",updateTitle:"Update Cost",updateMessage:"The update will cost you {PRICE}.",freeTitle:"Test Bank Account(Free).",freeMessage:'The bank account dashboard will have "fake bank account" warning.',paidTitle:"Clean Bank Account({PRICE})",paidMessage:'The bank account will look real with no "fake bank account" warning.',signInMessage:"Please sign in to save your bank account.",signUpMessage:"Please sign up to save your bank account.",createButtonText:"Create Bank Account",noChatToListMessage:"Your bank accounts will show here",deleteWarning:"Are you sure you want to permanently delete this already saved bank account?"};var B=n(73391),M=n(55948),W=n(65380),q=n(72023);const U=e=>{if(!e)return null;const t=e.toDate(),n=t.getDate().toString().padStart(2,"0"),a=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear();return"".concat(n,"/").concat(a,"/").concat(r)};const R=(e,t,n)=>new Promise(((a,r)=>{var o;(o=n||5,new Promise((e=>{let t=new Date,n=t.getUTCMinutes(),a=Math.floor(n/o)*o;t.setUTCMinutes(a),t.setUTCSeconds(0),t.setUTCMilliseconds(0),e(t.getTime())}))).then((n=>{const r=function(e){let t=e.join("").toLowerCase().replace(/[^\w]/g,"").trim(),n=(0,q.sha256)(t).toString(),a=parseInt(n,16),r="".concat(a%1e6);return r.length<6&&(r+="4".repeat(6-r.length)),r}([n,e,t.type,t.name,t.bankName||"",t.swiftBIC||"",t.accountNumber||"",t.rNumber||"",t.accountNumber1||""]);a(r)})).catch((e=>{r(e)}))})),z=()=>({id:O.XA,authorId:"uid",accountNumber_username:(0,E.ib)(),accountType:Object.keys(_)[0],gender:Object.keys(P)[0],maritalStatus:Object.keys(N)[0],currencySymbol:"US_USD_$",disableAccount:!1,autoRenewSubscription:!1,totalCredits:0,totalDebits:0,credits:[],debits:[],is_freemium:!0,accountBalance:0,disableAccountError:"Your account is currently on hold. Please go to our nearest branch to resolve the issue on your account.",noTxGeneration:!0,txProcessingDuration:Object.keys(D)[0],isInActive:!1});var H=n(20967),L=n(98924);var V=e=>{let{accountNumber:t,otpDuration:n,currencySymbol:r}=e;const{isOpen:s,onOpen:c,onClose:l}=(0,H.q)(),u=(0,i.p)(),[m,f]=(0,o.useState)({type:"local"}),[g,y]=(0,o.useState)({type:"wire"}),[T,S]=(0,o.useState)(!1),j=(e,t)=>{C().fire({icon:"success",title:"OTP",text:"local"===t?"The OTP for the local transfer entered is ".concat(e):"The OTP for the wire transfer entered is ".concat(e),confirmButtonText:"Copy OTP"}).then((t=>{t.isConfirmed&&(0,E.K1)(e,(()=>{u({description:"OTP copied.",status:"success",duration:4e3,isClosable:!0})}),(()=>{C().fire({icon:"success",title:"Copy Error",text:"Failed to copy the otp. Copy it manually: ".concat(e)})}))}))},v=(e,t)=>{const n=Math.floor(8*Math.random())+2;return"".concat(e.substring(0,e.length-2)).concat(t.skipTxCheck?1:n).concat("Failed"==t.completeStatus?1:0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.Z,{status:"success",h:"50px",onClick:c,children:"Generate Transfer OTP"}),s?(0,a.jsx)(L.Z,{title:"Enter Transfer Info",isOpen:!0,onClose:l,height:{base:"95%",md:"100%"},placement:{base:"bottom",md:"left"},children:(0,a.jsxs)(h.m,{isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(d.t,{children:[(0,a.jsx)(p.O,{children:"Local Transfer"}),(0,a.jsx)(p.O,{children:"Wire Transfer"})]}),(0,a.jsxs)(x.n,{children:[(0,a.jsxs)(b.x,{children:[(0,a.jsx)(w.Z,{w:"100%",id:"name",title:"Recipient Name",mb:2,placeholder:"Enter recipient fullname",type:w.Z.TYPES.text,value:m.name||"",onChange:e=>{f({...m,name:e})}},"name"),(0,a.jsx)(w.Z,{w:"100%",id:"accountNumber",title:"Recipient account number",mb:2,placeholder:"Enter the account number",type:w.Z.TYPES.text,value:m.accountNumber||"",onChange:e=>{f({...m,accountNumber:e})}},"accountNumber"),(0,a.jsx)(w.Z,{w:"100%",id:"amount",title:"Amount(".concat(r,")"),mb:2,placeholder:"Enter amount",type:w.Z.TYPES.text,value:m.amount||"",onChange:e=>{f({...m,amount:e})}},"amount"),(0,a.jsx)(w.Z,{w:"100%",id:"memo",title:"Memo(Optional)",mb:4,placeholder:"Enter memo",type:w.Z.TYPES.textarea,value:m.memo||"",onChange:e=>{f({...m,memo:e})}},"memo"),(0,a.jsx)(w.Z,{w:"100%",id:"completeStatus",title:"Transaction Status",mb:4,helperText:"Select the transaction status you want for the transaction.",info:"This is where you select the transaction status you want for the transaction.",type:w.Z.TYPES.select,options:Object.keys(I),onOptionValue:e=>e,onOptionName:e=>I[e],value:m.completeStatus,onChange:e=>{f({...m,completeStatus:e})}},"completeStatus"),(0,a.jsx)(w.Z,{w:"100%",id:"skipTxCheck",title:"Allow Wrong Transfer Info",mb:4,helperText:"Check this box if you want the otp to work even when the person intentionally or mistakenly enter a wrong transfer info.",type:w.Z.TYPES.checkbox,value:m.skipTxCheck,onChange:e=>{f({...m,skipTxCheck:e})}},"skipTxCheck"),(0,a.jsx)(k.Z,{id:"createLocal",status:"success",h:"50px",onClick:()=>{m.name&&m.name&&m.name?isNaN(m.amount)||m.amount<1?C().fire({icon:"error",title:"Transfer Error",text:"Invalid amount."}):(S(!0),R(t,m,n).then((e=>{S(!1),e=v(e,m),j(e,"local")})).catch((e=>{S(!1),C().fire({icon:"error",title:"Error while generating OTP",text:e.message})}))):C().fire({icon:"error",title:"Transfer Error",text:"Please enter all non-optional fields."})},disabled:T,children:T?"Please wait...":"Generate OTP"})]}),(0,a.jsxs)(b.x,{children:[(0,a.jsx)(w.Z,{w:"100%",id:"nameWire",title:"Recipient Name",mb:2,placeholder:"Enter recipient fullname",type:w.Z.TYPES.text,value:g.name||"",onChange:e=>{y({...g,name:e})}},"nameWire"),(0,a.jsx)(w.Z,{w:"100%",id:"bankWire",title:"Bank name",mb:2,placeholder:"Enter recipient bank name",type:w.Z.TYPES.text,value:g.bankName||"",onChange:e=>{y({...g,bankName:e})}},"bankWire"),(0,a.jsx)(w.Z,{w:"100%",id:"rNumber",title:(0,a.jsxs)(a.Fragment,{children:["Routing Number",(0,a.jsx)("br",{}),"(Only For USA and Canada recipients)"]}),mb:2,placeholder:"Enter the routing number",type:w.Z.TYPES.text,value:g.rNumber||"",onChange:e=>{y({...g,rNumber:e})}},"rNumber"),(0,a.jsx)(w.Z,{w:"100%",id:"accountNumberWire1",title:(0,a.jsxs)(a.Fragment,{children:["Account Number",(0,a.jsx)("br",{}),"(Only For USA and Canada recipients)"]}),mb:2,placeholder:"Enter the account number",type:w.Z.TYPES.text,value:g.accountNumber1||"",onChange:e=>{y({...g,accountNumber1:e})}},"accountNumberWire1"),(0,a.jsx)(w.Z,{w:"100%",id:"swiftWire",title:(0,a.jsxs)(a.Fragment,{children:["Swift/BIC",(0,a.jsx)("br",{}),"(Only For European recipients)"]}),mb:2,placeholder:"Enter Swift/BIC",type:w.Z.TYPES.text,value:g.swiftBIC||"",onChange:e=>{y({...g,swiftBIC:e})}},"swiftWire"),(0,a.jsx)(w.Z,{w:"100%",id:"accountNumberWire",title:(0,a.jsxs)(a.Fragment,{children:["IBAN",(0,a.jsx)("br",{}),"(Only For European recipients)"]}),mb:2,placeholder:"Enter the international bank account number",type:w.Z.TYPES.text,value:g.accountNumber||"",onChange:e=>{y({...g,accountNumber:e})}},"accountNumberWire"),(0,a.jsx)(w.Z,{w:"100%",id:"amountWire",title:"Amount(".concat(r,")"),mb:2,placeholder:"Enter amount",type:w.Z.TYPES.text,value:g.amount||"",onChange:e=>{y({...g,amount:e})}},"amountWire"),(0,a.jsx)(w.Z,{w:"100%",id:"memoWire",title:"Memo(Optional)",mb:4,placeholder:"Enter memo",type:w.Z.TYPES.textarea,value:g.memo||"",onChange:e=>{y({...g,memo:e})}},"memoWire"),(0,a.jsx)(w.Z,{w:"100%",id:"completeStatus",title:"Transaction Status",mb:4,helperText:"Select the transaction status you want for the transaction.",info:"This is where you select the transaction status you want for the transaction.",type:w.Z.TYPES.select,options:Object.keys(I),onOptionValue:e=>e,onOptionName:e=>I[e],value:m.completeStatus,onChange:e=>{f({...m,completeStatus:e})}},"completeStatus"),(0,a.jsx)(w.Z,{w:"100%",id:"skipTxCheck",title:"Allow Wrong Transfer Info",mb:4,helperText:"Check this box if you want the otp to work even when the person intentionally or mistakenly enter a wrong transfer info.",type:w.Z.TYPES.checkbox,value:m.skipTxCheck,onChange:e=>{f({...m,skipTxCheck:e})}},"skipTxCheck"),(0,a.jsx)(k.Z,{id:"createWire",status:"success",h:"50px",onClick:()=>{var e=(!g.swiftBIC||!g.accountNumber)&&(!g.rNumber||!g.accountNumber1);if(g.name&&g.bankName&&!e&&g.amount)isNaN(g.amount)||g.amount<1?C().fire({icon:"error",title:"Transfer Error",text:"Invalid amount."}):(S(!0),R(t,g,n).then((e=>{S(!1),e=v(e,m),j(e,"wire")})).catch((e=>{S(!1),C().fire({icon:"error",title:"Error while generating OTP",text:e.message})})));else{var a=e?"If you're sending to a recipient in USA or Canada, make sure you provide the routing number and the account number. If you're sending to a recipient in Europe or any country using the IBAN system, make sure you provide the Swift/BIC and the IBAN.":"";C().fire({icon:"error",title:"Transfer Error",text:"Please enter all non-optional fields. ".concat(a)})}},disabled:T,children:T?"Please wait...":"Generate OTP"})]})]})]})}):null]})};var G=e=>{let{credits:t,debits:n,balance:r,totalCredits:u,totalDebits:m,currencySymbol:h,onChange:d,saving:p}=e;const{isOpen:x,onOpen:b,onClose:f}=(0,H.q)(),[g,y]=((0,i.p)(),(0,o.useState)({date:new Date})),[T,j]=(0,o.useState)(),[v,Z]=(0,o.useState)(),[_,P]=(0,o.useState)(!1),[N,O]=(0,o.useState)(!1),[A,F]=(0,o.useState)(!1);(0,o.useEffect)((()=>{p||(P(!1),O(!1),F(!1))}),[p]);const[Y,B]=(0,o.useState)(),[M,W]=(0,o.useState)(!1),[q,U]=(0,o.useState)();(0,o.useEffect)((()=>{B(p&&_),W(p&&N),U(p&&A)}),[p,_,N,A]);const[R,z]=(0,o.useState)(0);(0,o.useEffect)((()=>{z(r+u-m)}),[r,u,m]);const[V,G]=(0,o.useState)(),X=e=>"credit"==e?{formTitle:"Enter Credit Info",amountPlaceholder:"Enter the amount to deposit.",amountHelperText:"Enter the amount to deposit into the bank account here.",amountInfo:"This is where you enter the amount to credit the bank account.",memoPlaceholder:"Enter memo.",memoHelperText:"Enter the transaction description here.",memoInfo:"This is where you enter the transaction description."}:{formTitle:"Enter Debit Info",amountPlaceholder:"Enter the amount to deduct.",amountHelperText:"Enter the amount to deduct from the bank account here.",amountInfo:"This is where you enter the amount to deduct from the bank account.",memoPlaceholder:"Enter memo.",memoHelperText:"Enter the transaction description here.",memoInfo:"This is where you enter the transaction description."};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.g,{justifyContent:"flex-start",alignItems:"flex-start",mb:4,children:[(0,a.jsxs)(c.U,{justifyContent:"flex-start",alignItems:"flex-end",flexWrap:"wrap",gap:"0px !important",mb:2,children:[(0,a.jsx)(l.x,{as:"div",display:"block",mb:"2px",fontWeight:"700",mr:2,children:"Account Balance:"}),(0,a.jsxs)(l.x,{as:"div",display:"block",mb:"2px",fontWeight:"700",color:"#38a169",children:[h,(0,E.uP)(R,2,2)]})]}),(0,a.jsxs)(c.U,{flexWrap:"wrap",children:[(0,a.jsx)(k.Z,{onClick:()=>{G("credit")},h:"40px",mb:1,status:Y?"loading":"success",fontStyle:Y?"italic":"normal",disabled:p,rightIcon:Y?(0,a.jsx)(S.Z,{size:"1rem",color:"#fff",type:S.Z.TYPES.threeDots}):null,children:Y?"Crediting...":"Credit Account"}),(0,a.jsx)(k.Z,{onClick:()=>{G("debit")},h:"40px",mb:1,status:M?"loading":"success",fontStyle:M?"italic":"normal",disabled:p,rightIcon:M?(0,a.jsx)(S.Z,{size:"1rem",color:"#fff",type:S.Z.TYPES.threeDots}):null,children:M?"Debiting...":"Debit Account"}),(0,a.jsx)(k.Z,{onClick:()=>{C().fire({icon:"warning",title:"Transactions Warning",text:"Are you sure you want to clear transactions from your account? Clearing transactions will delete all your credits and debits transactions while also resetting your account balance to zero.",showCancelButton:!0,confirmButtonText:"Yes, Clear",cancelButtonText:"No"}).then((e=>{e.isConfirmed&&(F(!0),d({accountBalance:0,totalCredits:0,totalDebits:0,credits:[],debits:[]}))}))},h:"40px",mb:1,status:q?"loading":"error",fontStyle:q?"italic":"normal",disabled:p,rightIcon:q?(0,a.jsx)(S.Z,{size:"1rem",color:"#fff",type:S.Z.TYPES.threeDots}):null,children:q?"Clearing...":"Clear Transactions"})]})]}),V?(0,a.jsxs)(L.Z,{title:X(V).formTitle,isOpen:!0,onClose:()=>{G(null)},height:{base:"95%",md:"100%"},placement:{base:"bottom",md:"left"},children:[(0,a.jsx)(w.Z,{w:"100%",id:"amount",title:"Amount(".concat(h,")"),mb:2,placeholder:X(V).amountPlaceholder,helperText:X(V).amountHelperText,info:X(V).amountInfo,type:w.Z.TYPES.text,value:g.amount,errorMessage:T||"",onChange:e=>{y({...g,amount:e})}},"amount"),(0,a.jsx)(w.Z,{w:"100%",id:"memo",title:"Memo(Optional)",mb:4,placeholder:X(V).memoPlaceholder,helperText:X(V).memoHelperText,info:X(V).memoInfo,type:w.Z.TYPES.textarea,value:g.memo||"",errorMessage:v||"",onChange:e=>{y({...g,memo:e})}},"memo"),(0,a.jsx)(w.Z,{w:"100%",id:"date",title:"Transaction Date(Optional)",mb:4,helperText:"Select the transaction date.",info:"This is where you select the transaction date.",type:w.Z.TYPES.date,value:g.date||"",errorMessage:v||"",onChange:e=>{y({...g,date:e})}},"date"),(0,a.jsx)(w.Z,{w:"100%",id:"completeStatus",title:"Transaction Status",mb:4,helperText:"Select the transaction status you want for the transaction.",info:"This is where you select the transaction status you want for the transaction.",type:w.Z.TYPES.select,options:Object.keys(I),onOptionValue:e=>e,onOptionName:e=>I[e],value:g.completeStatus,onChange:e=>{y({...g,completeStatus:e})}},"completeStatus"),(0,a.jsx)(w.Z,{w:"100%",id:"statusTime",title:"Transaction Processing Time",mb:4,helperText:"Select the duration you want the transaction to take before it changes from pending to complete (success or failure)",info:"This is where you select the duration you want the transaction to take before it changes from pending to complete (success or failure). This is useful if you don't want a transaction to complete immediately.",type:w.Z.TYPES.select,options:Object.keys(D),onOptionValue:e=>e,onOptionName:e=>D[e],value:g.processingDuration,onChange:e=>{y({...g,processingDuration:e})}},"statusTime"),(0,a.jsx)(k.Z,{id:"createLocal",h:"50px",onClick:()=>{j(null),Z(null);var e=null;if(g.amount&&0!=parseInt("".concat(g.amount))){if(isNaN(g.amount))e="Please enter a valid amount.";else if("".concat(g.amount).length>18)e="The amount is too large.";else if("debit"==V){R-g.amount<0&&(e="You have insufficient balance. Credit your account first.")}}else e="Please enter the amount.";e&&j(e);var a=null;if(g.memo&&g.memo.length>64&&(a="The memo cannot be greater than 64 characters."),a&&Z(a),!e&&!a){const e="Successful"==(g.completeStatus||"Successful");if("credit"==V){P(!0);const n=t.concat(["v2,".concat(g.amount,",").concat(g.memo||"",",").concat((g.date||new Date).getTime(),",").concat(g.processingDuration||"immediately",",").concat(g.completeStatus||"Successful")]);d({credits:n.length>10?n.splice(n.length-10):n,totalCredits:u+(e?parseInt("".concat(g.amount)):0)})}else{O(!0);const t=n.concat(["v2,".concat(g.amount,",").concat(g.memo||"",",").concat((g.date||new Date).getTime(),",").concat(g.processingDuration||"immediately",",").concat(g.completeStatus||"Successful")]);d({debits:t.length>10?t.splice(t.length-10):t,totalDebits:m+(e?parseInt("".concat(g.amount)):0)})}G(null)}},status:"success",children:"Send"})]}):null]})},X=n(10991),J=n(99840),$=n(80510),K=n(4693),Q=n(15115),ee=n(64698),te=n(5555),ne=n(33939);const ae=e=>{const t=e.split(",");var n=t[0].trim();if("v2"==n){n=t[1].trim();const e=t[t.length-1].trim(),a=t[t.length-2].trim(),r=t[t.length-3].trim();return{amount:n,description:t.slice(2,-3).join(",").trim(),timestamp:r,processingDuration:a,completeStatus:e}}{const e=t[t.length-1].trim();return{amount:n,description:t.slice(1,-1).join(",").trim(),timestamp:e,processingDuration:"immediately",completeStatus:"Successful"}}},re=(e,t,n,a)=>{if(!n||!a)return"Successful";if("immediately"===n)return a;return e<t+(e=>{const t=e.match(/^(\d+)([smhdwMy])$/);if(!t)throw new Error("Invalid processing duration format");const n=parseInt(t[1],10);switch(t[2]){case"s":return 1e3*n;case"m":return 60*n*1e3;case"h":return 60*n*60*1e3;case"d":return 24*n*60*60*1e3;case"w":return 7*n*24*60*60*1e3;case"M":return 30*n*24*60*60*1e3;case"y":return 365*n*24*60*60*1e3;default:throw new Error("Unknown time unit")}})(n)?"Pending":a};var oe=e=>{let{credits:t,debits:n,currencySymbol:r}=e;const[i,s]=(0,o.useState)([]),c=(0,ne.Z)(1e4);return(0,o.useEffect)((()=>{}),[i]),(0,o.useEffect)((()=>{const e=[...t.map((e=>{const{amount:t,description:n,timestamp:a,processingDuration:r,completeStatus:o}=ae(e);return{type:"credit",amount:parseFloat(t),description:n,timestamp:parseInt(a),completeStatus:o,processingDuration:r}})),...n.map((e=>{const{amount:t,description:n,timestamp:a,processingDuration:r,completeStatus:o}=ae(e);return{type:"debit",amount:parseFloat(t),description:n,timestamp:parseInt(a),completeStatus:o,processingDuration:r}}))].sort(((e,t)=>t.timestamp-e.timestamp));s(e)}),[t,n]),(0,a.jsx)(a.Fragment,{children:0===i.length?(0,a.jsx)(l.x,{as:"div",textAlign:"center",w:"100%",children:"No transaction yet"}):(0,a.jsxs)(X.i,{variant:"simple",size:"sm",w:"100%",overflow:"auto",children:[(0,a.jsx)(J.h,{children:(0,a.jsxs)($.Tr,{children:[(0,a.jsx)(K.Th,{children:"S/N"}),(0,a.jsx)(K.Th,{isNumeric:!0,children:"Amount"}),(0,a.jsx)(K.Th,{children:"Description"}),(0,a.jsx)(K.Th,{children:"Time"}),(0,a.jsx)(K.Th,{children:"Status"})]})}),(0,a.jsx)(Q.p,{children:i.map(((e,t)=>(0,a.jsxs)($.Tr,{children:[(0,a.jsx)(ee.Td,{children:t+1}),(0,a.jsx)(ee.Td,{isNumeric:!0,color:"debit"===e.type?"red.500":"green.500",children:"debit"===e.type?"- ".concat(r).concat(e.amount.toFixed(2)):"".concat(r).concat(e.amount.toFixed(2))}),(0,a.jsx)(ee.Td,{children:e.description}),(0,a.jsx)(ee.Td,{children:new Date((0,te.og)(e.timestamp)).toISOString().slice(0,16).replace("T"," ")}),(0,a.jsx)(ee.Td,{children:re(c,e.timestamp,e.processingDuration,e.completeStatus)})]},t)))})]})})},ie=n(81058);const se=n(32731)(),ce={min:0,max:64,required:!0},le={min:0,max:64,required:!0},ue={min:0,max:32,required:!0},me={min:0,max:16,required:!0},he={min:0,max:64,required:!0},de={min:0,max:64,required:!0},pe={min:0,max:64,required:!0},xe={min:0,max:64,required:!0},be={min:0,max:64,required:!0},fe={min:0,max:128,required:!0},ge={min:6,max:16,required:!0},ye={min:4,max:4,required:!0},we={min:0,max:16,required:!0},ke={min:1,max:999999999999999,required:!1},Te={min:1,max:500};var Se=e=>{let{tool:t,data:n,isNew:r,onUpdateData:j,onPublishData:I,saving:q,setSaving:R,hasPendingSave:z,collectionName:H}=e;if(!n)return null;const L=(0,i.p)(),[X,J]=(0,o.useState)(!1),{user:$}=(0,B.P)(),K=(0,M.t)(n.profilePhoto),[Q,ee]=(0,o.useState)(),[te,ne]=(0,o.useState)(),[ae,re]=(0,o.useState)(0);(0,o.useEffect)((()=>{Ze(),ne(n.subscription_balance_failed_on&&n.subscription_expiry_date&&n.subscription_balance_failed_on.toDate()>n.subscription_expiry_date.toDate()),re((n.credits||[]).length+(n.debits||[]).length)}),[n]);const{nameError:Se,nameChecker:je}=(0,T.Z)((e=>(0,E.N4)(e)&&ce.required?"Enter your full name.":!(0,E.N4)(e)&&e.length<ce.min?"The name is too short. It must be up to ".concat(ce.min," characters."):e.length>ce.max?"The name is too long. It must not be greater than ".concat(ce.max," characters."):null),"nameError","nameChecker"),{emailError:Ce,emailChecker:Ee}=(0,T.Z)((e=>(0,E.N4)(e)&&le.required?"Enter email address.":e.length<le.min?"The email address must be up to ".concat(le.min," characters."):e.length>le.max?"The email address must not be greater than ".concat(le.max," characters."):null),"emailError","emailChecker"),{phoneError:ve,phoneChecker:Ze}=(0,T.Z)((e=>(0,E.N4)(e)&&ue.required?"Enter phone number.":e.length<ue.min?"The phone number must be up to ".concat(ue.min," characters."):e.length>ue.max?"The phone number must not be greater than ".concat(ue.max," characters."):null),"phoneError","phoneChecker"),{typeError:_e,typeChecker:Pe}=(0,T.Z)((e=>(0,E.N4)(e)&&he.required?"Select an account type.":null),"typeError","typeChecker"),{genderError:Ne,genderChecker:Ie}=(0,T.Z)((e=>(0,E.N4)(e)&&de.required?"Select a gender.":null),"genderError","genderChecker"),{maritalError:De,maritalChecker:Oe}=(0,T.Z)((e=>(0,E.N4)(e)&&pe.required?"Select a marital status.":null),"maritalError","maritalChecker"),{processingDurationError:Ae,processingDurationChecker:Fe}=(0,T.Z)((e=>(0,E.N4)(e)&&xe.required?"Select a transaction processing duration.":null),"processingDurationError","processingDurationChecker"),{dobError:Ye,dobChecker:Be}=(0,T.Z)((e=>(0,E.N4)(e)&&me.required?"Enter your date of birth.":e.length<me.min||e.length>me.max?"Enter your date of birth in the given format.":null),"dobError","dobChecker"),{jobError:Me,jobChecker:We}=(0,T.Z)((e=>(0,E.N4)(e)&&be.required?"Enter an occupation.":e.length<be.min?"The occupation must be up to ".concat(be.min," characters."):e.length>be.max?"The occupation must not be greater than ".concat(be.max," characters."):null),"jobError","jobChecker"),{addrError:qe,addrChecker:Ue}=(0,T.Z)((e=>(0,E.N4)(e)&&fe.required?"Enter an address.":e.length<fe.min?"The address must be up to ".concat(fe.min," characters."):e.length>fe.max?"The address must not be greater than ".concat(fe.max," characters."):null),"addrError","addrChecker"),{balanceError:Re,balanceChecker:ze}=(0,T.Z)((e=>!e&&ke.required?"Enter account balance.":e<ke.min?"The account balance must be upto ".concat(ke.min,"."):e>ke.max?"The account balance cannot be greater than ".concat(ke.max,"."):null),"balanceError","balanceChecker"),{passError:He,passChecker:Le}=(0,T.Z)((e=>(0,E.N4)(e)&&ge.required?"Enter a password.":e.length<ge.min?"The password must be up to ".concat(ge.min," characters."):e.length>ge.max?"The password must not be greater than ".concat(ge.max," characters."):null),"passError","passChecker"),{pinError:Ve,pinChecker:Ge}=(0,T.Z)((e=>(0,E.N4)(e)&&ye.required?"Enter a pin.":isNaN(e)?"The pin must be a 4-digits number.":"".concat(e).length<ye.min?"The pin must be up to ".concat(ye.min," digits."):"".concat(e).length>ye.max?"The pin must not be greater than ".concat(ye.max," digits."):null),"pinError","pinChecker"),{disableAccountErrorError:Xe,disableAccountErrorChecker:Je}=(0,T.Z)((e=>e&&0!=e.length?e.length<Te.min?"The error message is too short. It must be up to ".concat(Te.min," characters."):e.length>Te.max?"The error message is too long. It must not be greater than ".concat(Te.max," characters."):null:"Enter the error message to show as the reason for transfer failure."),"disableAccountErrorError","disableAccountErrorChecker"),{accountCurrencyError:$e,accountCurrencyChecker:Ke}=(0,T.Z)((e=>(0,E.N4)(e)&&we.required?"Select account currency.":(0,E.N4)(e)?"Please enter the account currency.":e.length<we.min?"The account currency is too short. It must be up to ".concat(we.min," characters."):e.length>we.max?"The account currency is too long. It must not be greater than ".concat(we.max," characters."):null),"accountCurrencyError","accountCurrencyChecker"),[Qe,et]=(0,o.useState)(!1),tt=e=>{if(!I)return;R(!0);var t=e?JSON.parse(JSON.stringify(e)):{};t.id&&delete t.id,e.is_freemium||1!=Object.keys(t).length||et(!0);const n=!e.is_freemium&&1==Object.keys(t).length;I(!1,e).then((e=>{R(!1),C().fire({icon:"success",title:"Success",text:n?"Fake account Warning successfully removed. You can now check the bank account dashboard to see the changes made.":"Bank Account successfully updated. You can now check the bank account dashboard to see the changes made."}),et(!1)})).catch((e=>{R(!1),et(!1),((null===e||void 0===e?void 0:e.message)||"").length>0&&C().fire({icon:"error",title:r?"Bank Account Creation Error":"Bank Account Update Error",text:e.message})}))},nt=async e=>{if(!I)return;R(!0);const t=n.is_freemium,a=[Ze(),je().checker(n.fullname),Ee().checker(n.email),Ze().checker(n.phone),Pe().checker(n.accountType),Ie().checker(n.gender),Oe().checker(n.maritalStatus),Be().checker(n.dob),We().checker(n.occupation),Ue().checker(n.address),Le().checker(n.password),Ge().checker(n.pin)];(await Promise.all(a)).includes(!1)?(R(!1),C().fire({title:"Form Error",icon:"error",text:"You have some errors in your form. Please check the error message(s) at the input(s) and try again."})):I(e&&"boolean"===typeof e).then((e=>{R(!1),t?C().fire({icon:"success",title:"Success",text:"Fake account Warning successfully removed. You can now check the bank account dashboard to see the changes made."}):r?L({description:"New Bank Account successfully created.",status:"success",duration:4e3,isClosable:!0}):C().fire({icon:"success",title:"Success",text:"Bank Account successfully updated. You can now check the bank account dashboard to see the changes made."})})).catch((e=>{R(!1),((null===e||void 0===e?void 0:e.message)||"").length>0&&C().fire({icon:"error",title:r?"Bank Account Creation Error":"Bank Account Update Error",text:e.message})}))};return(0,a.jsx)(F.Z,{tool:t,maxHeaderWidth:"100%",children:(0,a.jsxs)(y.Z,{w:"100%",maxW:"100%",h:"auto",children:[n.id!=O.XA?(0,a.jsxs)(s.g,{children:[(0,a.jsxs)(c.U,{flexWrap:"wrap",justifyContent:"space-between",width:"100%",children:[(0,a.jsxs)(c.U,{flexWrap:"wrap",children:[(0,a.jsxs)(l.x,{as:"div",m:"0px !important",mr:1,children:["Account Number:"," "]}),(0,a.jsx)(v.Z,{fontWeight:"bold",m:"0px !important",mr:2,onCopyMessage:"Account number copied.",children:n.accountNumber_username})]}),(0,a.jsx)(k.Z,{as:"a",href:"https://nordicasafe.com",target:"_blank",bg:(0,W.z)("warning"),rightIcon:(0,a.jsx)(Z.CkN,{}),children:"Visit Nordicasafe.com"})]}),(0,a.jsxs)(l.x,{as:"div",fontSize:"13px",children:["Login to the bank account with the account number and password at ",(0,a.jsx)(l.x,{as:"a",color:(0,W.z)("warning"),href:"https://nordicasafe.com",target:"_blank",fontWeight:"bold",textDecoration:"underline",children:"nordicasafe.com"}),"."]})]}):(0,a.jsxs)(s.g,{alignItems:"flex-start",children:[(0,a.jsxs)(c.U,{flexWrap:"wrap",justifyContent:"flex-start",alignItems:"center",children:[(0,a.jsx)(Z.RcD,{})," ",(0,a.jsx)(l.x,{as:"div",m:"0px !important",mr:1,children:Y.newData})]}),(0,a.jsxs)(l.x,{as:"div",fontSize:"13px",children:["Click the info icon(",(0,a.jsx)(Z.DAO,{style:{display:"inline"}}),") beside each form fields for help on what to enter."]})]}),(0,a.jsx)(u.k,{w:"100%",flexWrap:"wrap",m:"15px auto",children:(0,a.jsx)(m.xu,{w:{base:"100%"},bg:"#dd6b20",p:"1rem",children:(0,a.jsx)(m.xu,{bg:(0,A.Z)("cardBg.light","cardBg.dark"),minH:"80vh",w:"100%",p:{base:"0.4rem",md:"0.5rem",lg:"1rem"},borderRadius:"24px",children:(0,a.jsxs)(h.m,{isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(d.t,{mb:"1em",children:[(0,a.jsx)(p.O,{children:r?"Create":"Settings"}),(0,a.jsxs)(p.O,{children:["Transactions(",ae,ae>=20?"+":"",")"]})]}),(0,a.jsxs)(x.n,{children:[(0,a.jsxs)(b.x,{p:{base:"0.2rem",md:"0.5rem",lg:"1rem"},children:[r?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.g,{justifyContent:"flex-start",alignItems:"flex-start",mb:4,children:[(0,a.jsxs)(c.U,{justifyContent:"flex-start",alignItems:"center",mb:1,children:[(0,a.jsx)(f.E,{src:(0,E.N4)(K)?"/res/no-profile-photo.png":K,width:"50px",height:"50px",borderRadius:"50%",mr:"1rem"}),(0,a.jsx)(V,{accountNumber:n.accountNumber_username||0,currencySymbol:n.currencySymbol?n.currencySymbol.split("_")[2].trim():""})]}),(0,a.jsx)(l.x,{as:"div",children:n.fullname})]}),(0,a.jsx)(g.i,{mb:6})]}),z&&!n.renewSubscription||n.autoRenewSubscription&&!te||n.is_freemium||!n.subscription_expiry_date||!(n.subscription_expiry_date.toDate()<=new Date)?(0,a.jsxs)(m.xu,{children:[r?null:(0,a.jsx)(G,{saving:q,balance:n.accountBalance||0,totalCredits:n.totalCredits||0,totalDebits:n.totalDebits||0,credits:n.credits||[],debits:n.debits||[],currencySymbol:n.currencySymbol?n.currencySymbol.split("_")[2].trim():"",onChange:e=>{tt({id:n.id,...e})}}),(0,a.jsx)(w.Z,{w:"100%",id:"Form_".concat(n.id,"_name"),title:"Full name",mb:4,placeholder:"Selena Gomez Maria",helperText:"Enter full name for the bank account.",info:"This is the name of the bank account owner.",type:w.Z.TYPES.text,value:n.fullname,onChange:e=>{j&&j({id:n.id,fullname:e})},onCheckInfo:je,errorMessage:Se},"Form_".concat(n.id,"_name")),(0,a.jsx)(w.Z,{w:"100%",id:"Form_".concat(n.id,"email"),title:"Email",mb:4,placeholder:"example@gmail.com",helperText:"Enter an email address for the bank account.",info:"This is the email address of the bank account owner.",type:w.Z.TYPES.text,value:n.email,onChange:e=>{j&&j({id:n.id,email:e})},onCheckInfo:Ee,errorMessage:Ce},"Form_".concat(n.id,"email")),(0,a.jsx)(w.Z,{w:"100%",id:"Form_".concat(n.id,"phone"),title:"Phone number",mb:4,placeholder:"+4402392493",helperText:"Enter a phone number for the bank account. It doesn't have to be a real number.",info:"This is the phone number of the bank account owner.",type:w.Z.TYPES.text,value:n.phone,onChange:e=>{j&&j({id:n.id,phone:e})},onCheckInfo:Ze,errorMessage:ve},"Form_".concat(n.id,"phone")),(0,a.jsx)(w.Z,{w:"100%",id:"Form_".concat(n.id,"type"),title:"Account type",mb:4,helperText:"Select the bank account type.",info:"This is the prefered account type.",type:w.Z.TYPES.select,options:Object.keys(_),onOptionValue:e=>e,onOptionName:e=>_[e],value:n.accountType,onChange:e=>{j&&j({id:n.id,accountType:e})},onCheckInfo:Pe,errorMessage:_e},"Form_".concat(n.id,"type")),(0,a.jsx)(w.Z,{w:"100%",id:"Form_".concat(n.id,"gender"),title:"Gender",mb:4,helperText:"Select the gender of the bank account owner.",info:"Select your gender here.",type:w.Z.TYPES.select,options:Object.keys(P),onOptionValue:e=>e,onOptionName:e=>P[e],value:n.gender,onChange:e=>{j&&j({id:n.id,gender:e})},onCheckInfo:Ie,errorMessage:Ne},"Form_".concat(n.id,"gender")),(0,a.jsx)(w.Z,{w:"100%",id:"Form_".concat(n.id,"status"),title:"Marital Status",mb:4,helperText:"Select the marital status of the bank account owner.",info:"Select your marital status here.",type:w.Z.TYPES.select,options:Object.keys(N),onOptionValue:e=>e,onOptionName:e=>N[e],value:n.maritalStatus,onChange:e=>{j&&j({id:n.id,maritalStatus:e})},onCheckInfo:Oe,errorMessage:De},"Form_".concat(n.id,"status")),(0,a.jsx)(w.Z,{w:"100%",id:"Form_".concat(n.id,"dob"),title:"Date of Birth",mb:4,placeholder:"1970-01-28",helperText:"Date of birth must be in the format: Year-Month-Day. e.g 1970-01-28",info:"Enter the date of birth of the account owner here.",type:w.Z.TYPES.text,value:n.dob,onChange:e=>{j&&j({id:n.id,dob:e})},onCheckInfo:Be,errorMessage:Ye},"Form_".concat(n.id,"dob")),(0,a.jsx)(w.Z,{w:"100%",id:"Form_".concat(n.id,"occupation"),title:"Occupation",mb:4,placeholder:"Accountant",helperText:"Enter your occupation or business name. Examples: Civil engineer, ABC Logistics International.",info:"This is where you enter the occupation or business of the bank account owner.",type:w.Z.TYPES.text,value:n.occupation,onChange:e=>{j&&j({id:n.id,occupation:e})},onCheckInfo:We,errorMessage:Me},"Form_".concat(n.id,"occupation")),(0,a.jsx)(w.Z,{w:"100%",id:"Form_".concat(n.id,"address"),title:"Address",mb:4,placeholder:"42 Main St, Smalltown, Exmple, 12345, USA",helperText:"Enter your home or business address.",info:"This is where you enter the occupation or business of the bank account owner.",type:w.Z.TYPES.text,value:n.address,onChange:e=>{j&&j({id:n.id,address:e})},onCheckInfo:Ue,errorMessage:qe},"Form_".concat(n.id,"address")),(0,a.jsx)(w.Z,{w:"100%",id:"ShippingForm_".concat(n.id,"_currency"),title:"Account Currency",mb:4,helperText:"Select the currency you want for the bank account.",info:"This is where you provide the currency you want for the bank account.",type:w.Z.TYPES.select,value:n.currencySymbol,options:se||[],onOptionName:e=>{let{countryName:t,symbol:n}=e;return"".concat(t," (").concat(n,")")},onOptionValue:e=>{let{iso_code:t,currency:n,symbol:a}=e;return"".concat(t,"_").concat(n,"_").concat(a)},placeholder:"",onCheckInfo:Ke,onChange:e=>{j&&j({id:n.id,currencySymbol:e})},errorMessage:$e},"ShippingForm_".concat(n.id,"_currency")),(0,a.jsx)(w.Z,{w:"100%",id:"Form_".concat(n.id,"pass"),title:"Account Password",mb:4,helperText:"Enter password for the bank account.",info:"This is where you provide the password to sign into the bank account.",type:w.Z.TYPES.text,value:n.password,onChange:e=>{j&&j({id:n.id,password:e})},onCheckInfo:Le,errorMessage:He},"Form_".concat(n.id,"pass")),(0,a.jsx)(w.Z,{w:"100%",id:"Form_".concat(n.id,"pin"),title:"Account PIN",mb:4,helperText:"Enter 4-digits PIN for the bank account.",info:"This is where you provide the 4 digits to sign into the bank account.",type:w.Z.TYPES.text,value:"".concat(n.pin||""),onChange:e=>{j&&e&&!isNaN(e)&&j({id:n.id,pin:parseInt(e)})},onCheckInfo:Ge,errorMessage:Ve},"Form_".concat(n.id,"pin")),r?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.Z,{w:"100%",display:r?"none":"block",id:"Form_".concat(n.id,"disable"),title:"Disable Transfer",mb:4,helperText:"Check this box if you want to disable transfer in the account.",info:"This is where you disable funds transfer in the account.",type:w.Z.TYPES.checkbox,value:n.disableAccount,onChange:e=>{j&&j({id:n.id,disableAccount:e})}},"Form_".concat(n.id,"disable")),n.disableAccount?(0,a.jsx)(w.Z,{w:"100%",id:"Form_".concat(n.id,"_emsg"),title:"Transfer Error Message",mb:4,placeholder:"Enter the error message you want to show here.",info:"This is where you enter the error message to show as the reason for transfer failure.",helperText:"Enter the error message to show as the reason for transfer failure.",type:w.Z.TYPES.textarea,value:n.disableAccountError,onChange:e=>{j&&j({id:n.id,disableAccountError:e})},errorMessage:Xe,onCheckInfo:Je},"Form_".concat(n.id,"_emsg")):null]}),(0,a.jsx)(w.Z,{w:"100%",id:"Form_".concat(n.id,"_status_time"),title:"Transaction Processing Time",mb:4,helperText:"Select the duration you want any transaction to take before it changes from pending to complete (success or failure)",info:"This is where you select the duration you want any transaction to take before it changes from pending to complete (success or failure). This is useful if you don't want a transaction to complete immediately.",type:w.Z.TYPES.select,options:Object.keys(D),onOptionValue:e=>e,onOptionName:e=>D[e],value:n.txProcessingDuration||Object.keys(D)[0],onChange:e=>{j&&j({id:n.id,txProcessingDuration:e})},onCheckInfo:Fe,errorMessage:Ae},"Form_".concat(n.id,"_status_time")),r||n.is_freemium?null:(0,a.jsx)(w.Z,{disabled:!1,w:"100%",id:"Form_".concat(n.id,"autorenew"),title:"Auto Renew Subscription",mb:4,helperText:n.subscription_expiry_date?n.subscription_expiry_date.toDate()<=new Date?"Enabling this allows the automatic charge of your wallet to renew the bank account after it has expired. Bank accounts expire after a month. This bank account has expired on ".concat(U(n.subscription_expiry_date),"."):"Enabling this allows the automatic charge of your wallet to renew the bank account after it has expired. Bank accounts expire after a month. This bank account's next expiration date is ".concat(U(n.subscription_expiry_date),"."):"Enabling this allows the automatic charge of your wallet to renew the bank account after it has expired. Bank accounts expire after a month.",info:n.subscription_expiry_date?n.subscription_expiry_date.toDate()<=new Date?"This is where you enable the automatic charge of your wallet to renew the bank account after it has expired. Bank accounts expire after a month. This bank account has expired on ".concat(U(n.subscription_expiry_date),"."):"This is where you enable the automatic charge of your wallet to renew the bank account after it has expired. Bank accounts expire after a month. This bank account's next expiration date is ".concat(U(n.subscription_expiry_date),"."):"This is where you enable the automatic charge of your wallet to renew the bank account after it has expired. Bank accounts expire after a month.",type:w.Z.TYPES.checkbox,value:n.autoRenewSubscription,onChange:e=>{j&&j({id:n.id,autoRenewSubscription:e})}},"Form_".concat(n.id,"autorenew")),r||n.is_freemium?null:(0,a.jsx)(w.Z,{disabled:!1,w:"100%",id:"Form_".concat(n.id,"_is_in_active"),title:"Disable Account",mb:4,helperText:"Disabling account will show an error telling the user the bank account is currently in-active, whenever they try to access the bank account.",info:"When account is disabled, an error will show telling the user the bank account is currently in-active, whenever they try to access the bank account.",type:w.Z.TYPES.checkbox,value:n.isInActive,onChange:e=>{j&&j({id:n.id,isInActive:e})}},"Form_".concat(n.id,"_is_in_active")),(0,a.jsx)(ie.Z,{my:2,isBank:!0}),(0,a.jsxs)(s.g,{w:"100%",justifyContent:"flex-start",alignItems:"center",my:8,children:[(0,a.jsx)(k.Z,{status:q&&!Qe?"loading":"warning",fontStyle:q&&!Qe?"italic":"normal",disabled:q||!z,w:"100%",maxW:"400px",h:"70px",fontSize:"lg",onClick:nt,rightIcon:q&&!Qe?(0,a.jsx)(S.Z,{size:"1rem",color:"#fff",type:S.Z.TYPES.threeDots}):null,children:q&&!Qe?"Please wait...":r?"Create Bank Account":"Update Bank Account"}),n.is_freemium&&!r?(0,a.jsx)(k.Z,{status:q&&Qe?"loading":"error",fontStyle:q&&Qe?"italic":"normal",disabled:q,w:"100%",maxW:"400px",h:"70px",fontSize:"lg",onClick:()=>{tt({id:n.id,is_freemium:!1})},rightIcon:q&&Qe?(0,a.jsx)(S.Z,{size:"1rem",color:"#fff",type:S.Z.TYPES.threeDots}):(0,a.jsx)(Z.arg,{}),children:q&&Qe?"Please wait...":"Remove Fake Bank Warning"}):null]})]}):(0,a.jsxs)(s.g,{children:[te?(0,a.jsxs)(l.x,{as:"div",children:["Attempts to renew this bank account since its expiry date on ",U(n.subscription_expiry_date)," failed due to insufficient balance."]}):(0,a.jsxs)(l.x,{as:"div",children:["This bank account has expired on ",U(n.subscription_expiry_date),"."]}),(0,a.jsx)(l.x,{as:"div",children:"You and the friends you're pranking won't be able to login to the bank account until renewed."}),(0,a.jsx)(l.x,{as:"div",children:"Click the button below to renew it now."}),(0,a.jsx)(c.U,{w:"100%",justifyContent:"center",my:8,flexWrap:"wrap",children:(0,a.jsx)(k.Z,{id:"renew_".concat(n.id),status:q?"loading":"warning",fontStyle:q?"italic":"normal",disabled:q,w:"100%",maxW:"400px",h:"70px",fontSize:"lg",onClick:()=>{nt(!0)},rightIcon:q?(0,a.jsx)(S.Z,{size:"1rem",color:"#fff",type:S.Z.TYPES.threeDots}):null,children:q?"Please wait...":"Renew Bank Account"})}),(0,a.jsx)(l.x,{as:"div",children:"If you've renewed the subscription but you're still seeing this message, kindly refresh this page."})]})]}),(0,a.jsx)(b.x,{position:"relative",overflow:"auto",maxH:{base:"70vh"},children:(0,a.jsx)(oe,{currencySymbol:n.currencySymbol?n.currencySymbol.split("_")[2].trim():"",credits:n.credits||[],debits:n.debits||[]})})]})]})})})})]})})},je=n(99555),Ce=n(53348),Ee=n(63183);var ve=()=>{const e="U8SL1BvlIb1nxj4JNCNX",t="banks",{sdkConfig:n,getTool:i}=(0,B.P)(),[s,c]=(0,o.useState)();(0,o.useEffect)((()=>{if(null===n||void 0===n?void 0:n.tools){const n=i(e);c(n?{...n,icon:(0,a.jsx)(Z.RcD,{size:"100%"}),collectionRuleName:t}:null)}else c(null)}),[n]);const l=(0,je.Z)(20),{getCurrentTimelineData:u}=l,m=[],h=["password","pin","disableAccount","autoRenewSubscription","isInActive","credits","totalCredits","debits","totalDebits","fullname","email","phone","accountType","gender","maritalStatus","dob","occupation","address","currencySymbol","accountBalance","disableAccountError","txProcessingDuration","is_freemium"],d=[],p=(0,Ce.Z)(50,z,h,m,["profilePhoto"],d,t),{selectedIsNew:x,selectedData:b}=p,f=(0,Ee.Z)({collectionName:t,fileFields:m,toolId:e,historyProps:l,dataSourceProps:p,publishTexts:Y,updatableFields:h,actionOnlyFields:d}),{savingData:g,setSavingData:y,handleUpdateData:w,handlePublishData:k}=f,T=(0,o.useMemo)((()=>(0,a.jsx)(Se,{tool:s,collectionName:t,isNew:x(),data:b,saving:g,setSaving:y,hasPendingSave:u((null===b||void 0===b?void 0:b.id)||"none").totalUpdates>1||x(),onUpdateData:w,onPublishData:k})),[t,s,b,g]);return(0,a.jsx)(r.Z,{tool:s,form:T,historyProps:l,dataSourceProps:p,dataHandlerProps:f,publishTexts:Y,getItemName:e=>e.fullname||"No Name",getItemBadge:e=>{const t=e;return t.accountNumber_username?"".concat(t.accountNumber_username):"0000000000"},getItemDescription:e=>e.date,onOverWriteCopiedData:e=>({...e,profilePhoto:null,password:null,pin:null,accountNumber_username:(0,E.ib)(),disableAccount:!1,autoRenewSubscription:!1,isInActive:!1,totalCredits:0,totalDebits:0,credits:[],debits:[]})})}},51371:function(){},96127:function(){},32883:function(e,t,n){"use strict";n.d(t,{r:function(){return l}});var a=n(16554),r=n(77030),o=n(33179),i=n(2169),s=n(25432),c=n(85893),l=(0,a.G)((function(e,t){const n=(0,r.mq)("Link",e),{className:a,isExternal:l,...u}=(0,o.Lr)(e);return(0,c.jsx)(i.m.a,{target:l?"_blank":void 0,rel:l?"noopener":void 0,ref:t,className:(0,s.cx)("chakra-link",a),...u,__css:n})}));l.displayName="Link"}},function(e){e.O(0,[855,624,731,52,494,973,271,774,888,179],(function(){return t=82080,e(e.s=t);var t}));var t=e.O();_N_E=t}]);