(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[244],{43023:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tool-editor",function(){return o(46118)}])},11303:function(e,t,o){"use strict";var a=o(67294);t.Z=(e,t,o)=>{const[r,n]=(0,a.useState)(),i=t=>({waitTime:0,checker:(t,o)=>new Promise(((a,r)=>{const i=e(t,o);i?(n(i),a(!1)):(n(""),a(!0))}))}),s={error:r,checkHandler:i};return t&&(s[t]=r),o&&(s[o]=i),s}},46118:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return de}});var a=o(85893),r=o(5397),n=o(67294),i=o(34292),s=o(57747),l=o(7963),c=o(71293),d=o(48783),h=o(93717),u=o(70959),m=o(44461),p=o(24124),g=o(84028),f=o(90889),x=o(67918),b=o(3804),_=o(85461),w=o(11303),T=o(56691),j=o(86455),v=o.n(j),y=o(53754),E=o(80419),k=o(55154),C=o(11802),S=o(96918),Z=o(73386),F=o(98687),P=o(40249),I=o(57073),D=o(73391),N=o(87123),U=o(62122),M=o(34346),q=o(38118),Y=o(83613),O=o(36024);const A=e=>{const t=e.lastIndexOf(".");return e.substring(t+1).toLowerCase()};var W=o(81136);const L=e=>{let{onChange:t,fontData:o,...r}=e;const[i,s]=(0,n.useState)();return(0,n.useEffect)((()=>{o.dataUrl,o.dataUrl&&o.ext&&(0,O.YW)(o.dataUrl,o.ext).then((e=>{s(e)})).catch((e=>{}))}),[o]),(0,a.jsx)(F.Z,{thumbnail:i,isOtherFiles:!0,accept:"font/*",onThumb:async(e,t)=>t&&e?(0,O.YW)(t,A(e.name)):null,onChange:(e,o,a)=>{s(a),t(e,o,a)},...r})},H={psd:"Photoshop Unit",em:"em Unit"},V=e=>{let{fontData:t,cssActions:o,onChanged:r,...s}=e;const[l,c]=(0,n.useState)(),[d,h]=(0,n.useState)(),[u,m]=(0,n.useState)(),[p,g]=(0,n.useState)();(0,n.useEffect)((()=>{var e;const a=null===(e=((null===o||void 0===o?void 0:o.if_property_and_value)||{})[(0,O.xC)("font-family",t.name)])||void 0===e?void 0:e.declarations;if(a)for(const t of a)if("letter-spacing"==t.property){const{value:e,unit:o}=(0,O.Zl)(t.value);e&&o&&Object.keys(H).includes(o)&&(l||c(e),d||h(o))}}),[o]),(0,n.useEffect)((()=>{l&&f(l)}),[l]),(0,n.useEffect)((()=>{d&&x(d)}),[d]);const f=e=>{if(m(""),!e||!d)return;try{if(isNaN(Number(e.trim())))return void m("Enter a valid number")}catch(n){return}const a={...o};a.if_property_and_value=(null===o||void 0===o?void 0:o.if_property)||{},a.if_property_and_value["".concat((0,O.xC)("font-family",t.name))]={declarations:[{property:"letter-spacing",value:"".concat(e.trim()).concat(d)}]},r(a)},x=e=>{if(g(""),!e||!l)return;const a={...o};a.if_property_and_value=(null===o||void 0===o?void 0:o.if_property)||{},a.if_property_and_value["".concat((0,O.xC)("font-family",t.name))]={declarations:[{property:"letter-spacing",value:"".concat(l).concat(e)}]},r(a)};return(0,a.jsxs)(i.U,{w:"100%",justifyContent:"space-between",alignItems:"center",...s,children:[(0,a.jsx)(b.Z,{width:"60%",type:b.Z.TYPES.text,value:l,onChange:c,id:"".concat(t.name,"_letter_spacing"),title:"".concat(t.name," Letter Spacing"),helperText:"Adjust the letter spacing of the font here.",info:"This is where you adjust the letter spacing of the font.",errorMessage:u},"".concat(t.id,"_spacing_value")),(0,a.jsx)(b.Z,{width:"40%",type:b.Z.TYPES.select,options:Object.keys(H),onOptionValue:e=>e,onOptionName:e=>H[e],value:d,onChange:h,id:"".concat(t.name,"_letter_spacing_unit"),title:"".concat(t.name," Letter Spacing Unit"),helperText:"Set the letter spacing uinit here.",info:"This is where you set the letter spacing unit.",errorMessage:p},"".concat(t.id,"_spacing_unit"))]})};var z=e=>{let{isLoading:t,fonts:o,onFontsChanged:r,cssActions:i,onCssActionsChanged:s}=e;return(0,n.useEffect)((()=>{}),[o]),(0,n.useEffect)((()=>{}),[i]),(0,a.jsx)(a.Fragment,{children:t?(0,a.jsxs)(d.g,{children:[(0,a.jsx)(W.$,{}),(0,a.jsx)(c.x,{as:"div",fontStyle:"italic",children:"Loading fonts..."})]}):o?Object.values(o||{}).filter((e=>!0)).map((e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L,{mb:2,width:"100%",fontData:e,onChange:(t,a)=>{a&&t&&r({...o,[e.id]:{...o[e.id]||{},file:t,dataUrl:a,ext:A(t.name)}})},id:e.name,disabled:void 0!=e.url&&null!=e.url,title:"".concat(e.name," Font"),helperText:e.url?"".concat(e.name," font already upload."):"Upload the ".concat(e.name," font here."),info:"This is where you upload the ".concat(e.name," font."),message:"Drag and Drop the ".concat(e.name," font file here"),hoverMessage:"Drop the font file here",ruleMessage:"Make sure you're uploading a font file.",useImageText:"Use Font"},e.id),(0,a.jsx)(V,{fontData:e,cssActions:i,onChanged:s,mb:4})]}))):null})},G=o(74054),$=o(31167),B=o(81058);const X={min:2,max:64,required:!0},R={min:2,max:128,required:!0},K={min:2,max:64,required:!0},J={min:2,max:64,required:!1},Q={min:1,max:256,required:!1},ee={min:1,max:256,required:!1},te={min:1,max:1e15,required:!0},oe={min:.1,max:1e15,required:!0},ae=e=>{let{icon:t,...o}=e;return(0,a.jsxs)(i.U,{justifyContent:"space-between",alignItems:"center",...o,children:[(0,a.jsx)(s.xu,{border:"1px dashed",width:"45%",height:"1px"}),t,(0,a.jsx)(s.xu,{border:"1px dashed",width:"45%",height:"1px"})]})};var re=e=>{let{tool:t,data:o,isNew:r,onUpdateData:j,onPublishData:O,saving:A,setSaving:W,hasPendingSave:L,collectionName:H}=e;if(!o)return null;const V=(0,l.p)(),{user:re}=(0,D.P)(),[ne,ie]=(0,n.useState)(!1),[se,le]=(0,n.useState)(!1),[ce,de]=(0,n.useState)(),{nameError:he,nameChecker:ue}=(0,w.Z)((e=>(0,y.N4)(e)&&X.required?"Enter the tool name.":!(0,y.N4)(e)&&e.length<X.min?"The tool name is too short. It must be up to ".concat(X.min," characters."):e.length>X.max?"The tool name is too long. It must not be greater than ".concat(X.max," characters."):null),"nameError","nameChecker"),{descriptionError:me,descriptionChecker:pe}=(0,w.Z)((e=>(0,y.N4)(e)&&R.required?"Enter the tool description.":!(0,y.N4)(e)&&e.length<R.min?"The tool description is too short. It must be up to ".concat(R.min," characters."):e.length>R.max?"The tool description is too long. It must not be greater than ".concat(R.max," characters."):null),"descriptionError","descriptionChecker"),{iconError:ge,iconChecker:fe}=(0,w.Z)((e=>(0,y.N4)(e)&&K.required?"Select the tool icon.":null),"iconError","iconChecker"),{youtubeError:xe,youtubeChecker:be}=(0,w.Z)((e=>(0,y.N4)(e)&&J.required?"Enter the tool youtube guide link.":!(0,y.N4)(e)&&e.length<J.min?"The tool youtube guide link is too short. It must be up to ".concat(J.min," characters."):!(0,y.N4)(e)&&e.length>J.max?"The tool youtube guide link is too long. It must not be greater than ".concat(J.max," characters."):null),"youtubeError","youtubeChecker"),{createPriceError:_e,createPriceChecker:we}=(0,w.Z)((e=>(0,y.N4)(e)&&te.required?"Enter the tool create cost.":!(0,y.N4)(e)&&parseFloat(e)<te.min?"The tool create cost is too small. It must be up to ".concat(te.min,"."):parseFloat(e)>te.max?"The tool create cost is too much. It must not be greater than ".concat(te.max,"."):null),"createPriceError","createPriceChecker"),{updatePriceError:Te,updatePriceChecker:je}=(0,w.Z)((e=>(0,y.N4)(e)&&oe.required?"Enter the tool create cost.":!(0,y.N4)(e)&&parseFloat(e)<oe.min?"The tool create cost is too small. It must be up to ".concat(oe.min,"."):parseFloat(e)>oe.max?"The tool create cost is too much. It must not be greater than ".concat(oe.max,"."):null),"updatePriceError","updatePriceChecker"),{editableError:ve,editableChecker:ye}=(0,w.Z)((e=>(0,y.N4)(e)&&oe.required?"Enter the tool editables.":!(0,y.N4)(e)&&e.length<Q.min?"The tool create cost is too short. It must be up to ".concat(Q.min," characters."):e.length>Q.max?"The tool create cost is too long. It must not be greater than ".concat(Q.max," characters."):null),"editableError","editableChecker"),{messageError:Ee,messageChecker:ke}=(0,w.Z)((e=>(0,y.N4)(e)&&ee.required?"Enter the tool after-creation message.":!(0,y.N4)(e)&&e.length<ee.min?"The tool after-creation message is too short. It must be up to ".concat(ee.min," characters."):e.length>ee.max?"The tool after-creation message is too long. It must not be greater than ".concat(ee.max," characters."):null),"messageError","messageChecker"),[Ce,Se]=(0,n.useState)(),[Ze,Fe]=(0,n.useState)(!1),{templatesLoading:Pe,templatesError:Ie,selectedTemplateLoading:De,selectedTemplateError:Ne,parsingTemplate:Ue,templates:Me,selectedTemplate:qe,selectedTemplateData:Ye,workingTemplate:Oe,workingTemplateData:Ae,setAsDefaulTemplate:We,setWorkingTemplate:Le,setWorkingTemplateData:He,selectTemplate:Ve,parseTemplateSvg:ze,saveTemplate:Ge,deleteTemplate:$e,currentTemplateId:Be}=(0,N.Z)(o.templates_url),[Xe,Re]=(0,n.useState)({});(0,G.Z)(Xe,Re,null===Ae||void 0===Ae?void 0:Ae.fields,Be),(0,n.useEffect)((()=>{}),[Xe]);const[Ke,Je]=(0,n.useState)({}),[Qe,et]=(0,n.useState)(!1),[tt,ot]=(0,n.useState)(!1),[at,rt]=(0,n.useState)(!1),[nt,it]=(0,n.useState)(!1);(0,n.useEffect)((()=>{nt||(0==Object.keys(Me).length?rt(!0):rt(!1))}),[Me]);const{loadingFonts:st,error:lt,fonts:ct,setFonts:dt,uploadFonts:ht}=(0,Y.Z)(null===Ae||void 0===Ae?void 0:Ae.svg),[ut,mt]=(0,n.useState)(),pt=(e,t)=>{mt(e)};(0,n.useEffect)((()=>{}),[ct]);const[gt,ft]=(0,n.useState)(!1),xt=(0,n.useMemo)((()=>!Ae||Pe?null:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(P.Z,{isFieldsEditMode:!0,created:tt,showFieldsErrors:Qe,fields:Ae.fields,images:Ae.images,masks:Ae.masks,data:Xe,isDragable:!0,onDragged:(e,t)=>{He({...Ae,fields:e,...t?{masks:t}:{}})},onAllFieldsDataChange:Re,onFieldDataChange:(e,t)=>{Re({...Xe,[e]:t})},fieldDataErrorMessage:Ke,onSetFieldDataErrorMessage:Je})})),[Ae,tt,Xe,Ke,Pe]),bt=(0,n.useMemo)((()=>(0,a.jsxs)(a.Fragment,{children:[ct&&Object.keys(ct).length>0?(0,a.jsx)(ae,{icon:(0,a.jsx)(k.SXi,{}),mb:4}):null,(0,a.jsx)(z,{isLoading:st,fonts:ct,onFontsChanged:e=>{dt(e)},cssActions:null===Ae||void 0===Ae?void 0:Ae.cssActions,onCssActionsChanged:e=>{Ae&&He({...Ae,cssActions:e})}})]})),[ct,null===Ae||void 0===Ae?void 0:Ae.cssActions]);return(0,n.useEffect)((()=>{}),[Pe,qe,De]),(0,a.jsx)(Z.Z,{tool:t,maxHeaderWidth:"100%",children:(0,a.jsxs)(x.Z,{w:"100%",maxW:"100%",h:"auto",children:[o.id!=C.XA?(0,a.jsx)(i.U,{flexWrap:"wrap",justifyContent:"space-between",children:(0,a.jsxs)(i.U,{flexWrap:"wrap",children:[(0,a.jsxs)(c.x,{as:"div",m:"0px !important",mr:1,display:"none",children:["Tracking No:"," "]}),(0,a.jsx)(E.Z,{display:"none",fontWeight:"bold",m:"0px !important",mr:2,children:o.id})]})}):(0,a.jsxs)(d.g,{alignItems:"flex-start",children:[(0,a.jsxs)(i.U,{flexWrap:"wrap",justifyContent:"flex-start",alignItems:"center",children:[(0,a.jsx)(k.a_$,{})," ",(0,a.jsx)(c.x,{as:"div",m:"0px !important",mr:1,children:"New Tool"})]}),(0,a.jsxs)(c.x,{as:"div",fontSize:"13px",children:["Click the info icon(",(0,a.jsx)(k.DAO,{style:{display:"inline"}}),") beside each form fields for help on what to enter."]})]}),(0,a.jsx)(h.k,{w:"100%",flexWrap:"wrap",m:"15px auto",children:(0,a.jsx)(s.xu,{w:{base:"100%"},bg:"#dd6b20",p:"1rem",children:(0,a.jsxs)(s.xu,{bg:(0,S.Z)("cardBg.light","cardBg.dark"),minH:"80vh",w:"100%",p:{base:"1rem"},borderRadius:"24px",children:[(0,a.jsxs)(u.m,{isFitted:!0,variant:"enclosed",children:[(0,a.jsxs)(m.t,{mb:"1em",children:[(0,a.jsx)(p.O,{children:"Edit Mode"}),(0,a.jsx)(p.O,{children:"View Mode"})]}),(0,a.jsxs)(g.n,{children:[(0,a.jsxs)(f.x,{children:[(0,a.jsxs)(i.U,{w:"100%",justifyContent:"space-between",alignItems:"flex-end",borderBottom:at?"none":"2px solid",borderBottomLeftRadius:"5px",mb:4,children:[(0,a.jsx)(_.Z,{status:"success",leftIcon:at?(0,a.jsx)(k.dSq,{}):(0,a.jsx)(k.tgn,{}),onClick:()=>{it(!0),rt(!at)},children:"Tool Settings"}),r?null:(0,a.jsx)($.Z,{href:"/tool-viewer?id=".concat(o.id),isExternal:!0,mb:4,children:"View Tool"})]}),at?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ae,{icon:(0,a.jsx)(k.p4t,{}),mt:4}),(0,a.jsx)(b.Z,{w:"100%",id:"Form_".concat(o.id,"_name"),title:"Tool name",mb:4,placeholder:"Enter the name of the tool",info:"This is what will be shown to the users as the name of the tool. It must be a name that let the user knows what the tool does.",helperText:"Enter the name of the tool. It must be a name that let the user knows what the tool does.",type:b.Z.TYPES.text,value:o.name,onChange:e=>{j&&j({id:o.id,name:e})},onCheckInfo:ue,errorMessage:he},"Form_".concat(o.id,"_name")),(0,a.jsx)(b.Z,{w:"100%",id:"Form_".concat(o.id,"_description"),title:"Tool Description",mb:4,placeholder:"Enter the description of the tool",info:"This is what will be shown to the users as the description of the tool. It must be a description that doesn't encourage crime.",helperText:"Enter the description of the tool. It must be a description that doesn't encourage crime.",type:b.Z.TYPES.textarea,value:o.description,onChange:e=>{j&&j({id:o.id,description:e})},onCheckInfo:pe,errorMessage:me},"Form_".concat(o.id,"_description")),(0,a.jsx)(I.Z,{w:"100%",id:"Form_".concat(o.id,"_icon"),title:"Tool Icon",mb:4,placeholder:"Select an Icon for the tool",info:"This is where you select an icon that best represents the tool.",helperText:"Select an icon that best represents the tool.",type:b.Z.TYPES.text,value:o.icon,onChange:e=>{j&&j({id:o.id,icon:e})},onCheckInfo:fe,errorMessage:ge},"Form_".concat(o.id,"_icon")),(0,a.jsx)(b.Z,{w:"100%",id:"Form_".concat(o.id,"_youtube"),title:"Tool Youtube(Optional)",mb:4,placeholder:"Enter the youtube link of the tool",info:"This is where you enter the youtube video guide link for the tool.",helperText:"Enter the youtube video guide link for the tool.",type:b.Z.TYPES.text,value:o.youtube,onChange:e=>{j&&j({id:o.id,youtube:e})},onCheckInfo:be,errorMessage:xe},"Form_".concat(o.id,"_youtube")),(0,a.jsx)(b.Z,{w:"100%",id:"Form_".concat(o.id,"_create_price"),title:"Create Price($)",mb:4,placeholder:"Enter the cost of creating a job",info:"This is where you enter the cost of the tool usage per job.",helperText:"Enter the cost of the tool usage per job.",type:b.Z.TYPES.number,numberDecimals:0,value:o.create_price,onChange:e=>{j&&j({id:o.id,create_price:e})},onCheckInfo:we,errorMessage:_e},"Form_".concat(o.id,"_create_price")),(0,a.jsx)(b.Z,{w:"100%",id:"Form_".concat(o.id,"_update_price"),title:"Update Price($)",mb:4,placeholder:"Enter the cost of updating a job",info:"This is where you enter the cost of updating a job done with the tool.",helperText:"Enter the cost of updating a job done with the tool.",type:b.Z.TYPES.number,numberDecimals:1,value:o.update_price,onChange:e=>{j&&j({id:o.id,update_price:e})},onCheckInfo:je,errorMessage:Te},"Form_".concat(o.id,"_update_price")),(0,a.jsx)(b.Z,{w:"100%",id:"Form_".concat(o.id,"_editables"),title:"Editable fields",mb:4,placeholder:"Enter editable fields.",info:"This is where you separate editable fields with commas.",helperText:"Separate editable fields with commas.",type:b.Z.TYPES.textarea,value:o.editables,onChange:e=>{j&&j({id:o.id,editables:e})},onCheckInfo:ye,errorMessage:ve},"Form_".concat(o.id,"_editables")),(0,a.jsx)(b.Z,{w:"100%",id:"Form_".concat(o.id,"_message"),title:"After creation message",mb:1,placeholder:"Enter after creation message.",info:"This is where you enter the message you want to show after the document is created.",helperText:"Enter the message you want to show after the document is created.",type:b.Z.TYPES.textarea,value:o.message,onChange:e=>{j&&j({id:o.id,message:e})},onCheckInfo:ke,errorMessage:Ee},"Form_".concat(o.id,"_message")),(0,a.jsx)(ae,{icon:(0,a.jsx)(k.p4t,{}),mb:4})]}):null,(0,a.jsx)(U.Z,{w:"100%",id:"Form_".concat(o.id,"_select_template"),title:"Select Template",mb:4,helperText:"Select a template to edit or add.",info:"This is where you select a template to edit or a new template to add",templates:{...Me,...Oe?{[Oe.id]:Oe}:{}},createdTemplatesKeys:Object.keys(Me),value:Oe,onChange:e=>{e&&Ve(e.id)},onDelete:$e,onNewTemplateSvgUploaded:(e,t)=>{t&&ze(t,!0).then((e=>{console.log("parsedSvg:parseTemplateSvg",e)})).catch((e=>{console.log("parsedSvg:parseTemplateSvg.error",e),v().fire({icon:"error",title:"SVG template build error",text:e.message})}))},onCheckInfo:()=>null,errorMessage:null},"Form_".concat(o.id,"_select_template")),Oe?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.xu,{border:"1px dashed",p:"1rem",borderRadius:"5px",mb:4,children:[(0,a.jsx)(b.Z,{w:"100%",id:"Form_".concat(o.id,"_tmp_name"),title:"Template Name",mb:4,placeholder:"Enter the template name",info:"This is where you enter a name for the template.",helperText:"Enter a name for the template.",type:b.Z.TYPES.text,numberDecimals:1,value:Oe.name||"",onChange:e=>{Le({...Oe,name:e})},onCheckInfo:je,errorMessage:Te},"Form_".concat(o.id,"_tmp_name")),(0,a.jsx)(F.Z,{isOtherFiles:!0,w:"100%",mb:4,id:"Form_".concat(o.id,"_tmp_logo"),title:"Template Logo",info:"This is where you upload a logo for the template.",helperText:"Select a logo for the template.",thumbnail:Oe.logo,message:"Drag and Drop image here",hoverMessage:"Drop the file here",ruleMessage:"Make sure you're uploading a 70x70 image.",useImageText:"Use Image",maxFileSize:3072,onChange:(e,t)=>{Le({...Oe,logo:t})},onCheckInfo:()=>null,errorMessage:null},"Form_".concat(o.id,"_tmp_logo")),(0,a.jsx)(b.Z,{w:"100%",mb:4,id:"Form_".concat(o.id,"_tmp_default"),title:"Set as Default",helperText:"Enabling this set the template as the default template selected for the user.",info:"This is where you decide if you want this template to be set as the default template selected for the user.",type:b.Z.TYPES.checkbox,value:Oe.is_default||!1,onChange:e=>{We(e)},errorMessage:null},"Form_".concat(o.id,"_tmp_default")),(0,a.jsx)(b.Z,{w:"100%",mb:4,id:"Form_".concat(o.id,"_split"),title:"Vertically( | ) Split Document On Download",helperText:"Enabling this splits the document into 2 equal parts(left and right) when downloading. Great for a front and back document.",info:"This is where you decide if you want the document to split into 2 equal parts(left and right) when downloading. Great for a front and back document.",type:b.Z.TYPES.checkbox,value:Oe.split_on_download||!1,onChange:e=>{Le({...Oe,split_on_download:e})},errorMessage:null},"Form_".concat(o.id,"_split")),(0,a.jsx)(b.Z,{w:"100%",mb:4,id:"Form_".concat(o.id,"_split_hr"),title:"Horizontally( --- ) Split Document On Download",helperText:"Enabling this splits the document into 2 equal parts(up and down) when downloading. Great for a front and back document.",info:"This is where you decide if you want the document to split into 2 equal parts(up and down) when downloading. Great for a front and back document.",type:b.Z.TYPES.checkbox,value:Oe.split_on_download_hr||!1,onChange:e=>{Le({...Oe,split_on_download_hr:e})},errorMessage:null},"Form_".concat(o.id,"_split_hr")),bt]}),Pe||!Oe||De?(0,a.jsx)(q.Z,{message:"Loading template assets. Please wait...",minH:"100px"}):(0,a.jsx)(a.Fragment,{children:xt})]}):null,(0,a.jsx)(B.Z,{my:2})]}),(0,a.jsxs)(f.x,{p:"0px",children:[(0,a.jsx)(i.U,{w:"100%",justifyContent:"flex-end",children:(0,a.jsx)(b.Z,{id:"toggleFilter",title:"Enable Show Filter on Preview Click",mb:4,info:"This is where you decide if you want filter to show up when the svg preview is clicked.",helperText:"Tick this box if you want to show filter when SVG preview is clicked.",type:b.Z.TYPES.checkbox,value:gt,onChange:e=>{ft(e)}},"toggleFilter")}),(0,a.jsx)(s.xu,{bg:"#dcdcdc",children:(0,a.jsx)(M.Z,{fonts:ct,isLoading:ne,width:{base:512,md:728},data:Xe,templateData:Ae,showWatermark:!1,onFiltersUpdated:e=>{Ae&&He({...Ae,masks:e})},filterEnabled:gt})})]})]})]}),(0,a.jsx)(b.Z,{id:"draft",title:"Set as Draft",mb:4,info:"Setting as draft hides the tool from the user.",helperText:"Tick this box if you want to hide the tool from the user.",type:b.Z.TYPES.checkbox,value:o.isHidden,onChange:e=>{j&&j({id:o.id,isHidden:e})}},"data_".concat(o.id)),(0,a.jsxs)(d.g,{w:"100%",justifyContent:"flex-start",alignItems:"center",my:8,children:[ut?(0,a.jsx)(c.x,{as:"div",mb:2,fontStyle:"italic",children:ut}):null,(0,a.jsx)(_.Z,{status:A&&!Ze?"loading":"warning",fontStyle:A&&!Ze?"italic":"normal",disabled:A,w:"100%",maxW:"400px",h:"70px",fontSize:"lg",onClick:async()=>{if(!O)return;W(!0);const e=[ue().checker(o.name),fe().checker(o.icon),be().checker(o.youtube),we().checker(o.create_price),je().checker(o.update_price),ye().checker(o.update_price),ke().checker(o.update_price)];(await Promise.all(e)).includes(!1)?(W(!1),v().fire({title:"Form Error",icon:"error",text:"You have some errors in your form. Please check the error message(s) at the input(s) and try again."})):ht(pt).then((()=>{Ge(pt).then((e=>{if(!e)return W(!1),null;var t=null;j&&e&&(j({id:o.id,templates_url:e}),t={templates_url:e}),W(!1),O(!1,null,t).then((e=>{W(!1),V({description:r?"New Tool successfully saved.":"Tool successfully updated.",status:"success",duration:4e3,isClosable:!0}),Se(!0)})).catch((e=>{W(!1),((null===e||void 0===e?void 0:e.message)||"").length>0&&v().fire({icon:"error",title:r?"Tool Creation Error":"Tool Update Error",text:e.message})}))})).catch((e=>{W(!1),((null===e||void 0===e?void 0:e.message)||"").length>0&&v().fire({icon:"error",title:r?"Tool Creation Error":"Tool Update Error",text:e.message})}))})).catch((e=>{W(!1),((null===e||void 0===e?void 0:e.message)||"").length>0&&v().fire({icon:"error",title:r?"Tool Creation Error":"Tool Update Error",text:e.message})}))},rightIcon:A&&!Ze?(0,a.jsx)(T.Z,{size:"1rem",color:"#fff",type:T.Z.TYPES.threeDots}):null,children:A&&!Ze?"Please wait...":r?"Create Tool":"Update Tool"})]})]})})})]})})};const ne=()=>({id:C.XA,authorId:"uid",allow_freemium:!0,create_price:5,update_price:.1,is_static:!1,is_freemium:!0,isActive:!0,isHidden:!0});var ie=o(467),se=o(99555),le=o(53348),ce=o(63183);var de=()=>{const e="other_tools",t="other_tools",[o,l]=(0,n.useState)({id:e,name:"Tool Editor",description:"Create tools for other users",icon:(0,a.jsx)(k.CP_,{size:"100%"}),isActive:!0,isHidden:!0,siteLogoUrl:"",siteUrl:"/tool-editor",allow_freemium:!0,create_price:0,update_price:0,desktopVideoUrl:"",mobileVideoUrl:"",collectionRuleName:t}),d=(0,se.Z)(20),{getCurrentTimelineData:h}=d,u=[],m=["is_freemium","name","description","icon","youtube","create_price","update_price","templates_url","isHidden","editables","message"],p=(0,le.Z)(50,ne,m,u,void 0,void 0,t),{selectedIsNew:g,selectedData:f}=p,x=(0,ce.Z)({collectionName:t,fileFields:u,toolId:e,historyProps:d,dataSourceProps:p,publishTexts:ie.mP,updatableFields:m}),{savingData:b,setSavingData:_,handleUpdateData:w,handlePublishData:T}=x,j=(0,n.useMemo)((()=>(0,a.jsx)(re,{tool:o,collectionName:t,isNew:g(),data:f,saving:b,setSaving:_,hasPendingSave:h((null===f||void 0===f?void 0:f.id)||"none").totalUpdates>1||g(),onUpdateData:w,onPublishData:T})),[f,b,o,t]);return(0,a.jsx)(r.Z,{tool:o,form:j,historyProps:d,dataSourceProps:p,dataHandlerProps:x,publishTexts:ie.mP,getItemName:e=>{const t=e;return(0,a.jsxs)(i.U,{children:[(0,a.jsx)(s.xu,{children:(0,a.jsx)(I.V,{id:t.icon})}),(0,a.jsx)(c.x,{as:"div",children:t.name||"No Tool Name"})]})},getItemDescription:e=>e.description,getItemBadge:e=>{const t=e;return"$".concat((0,y.uP)(t.create_price,2,2)," - $").concat((0,y.uP)(t.update_price,2,2))},onOverWriteCopiedData:e=>({...e,templates_url:null,is_freemium:!0})})}}},function(e){e.O(0,[847,646,48,614,400,714,630,302,287,505,162,369,494,382,15,52,687,106,176,774,888,179],(function(){return t=43023,e(e.s=t);var t}));var t=e.O();_N_E=t}]);