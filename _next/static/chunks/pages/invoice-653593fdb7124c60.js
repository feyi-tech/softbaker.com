(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[250],{3373:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/invoice",function(){return n(5308)}])},5948:function(e,t,n){"use strict";n.d(t,{o:function(){return i},t:function(){return o}});var r=n(7294),a=n(3754);const o=e=>{const[t,n]=(0,r.useState)();return(0,r.useEffect)((()=>{n((0,a.ST)(e))}),[e]),t},i=(e,t,n,o)=>{const[i,s]=(0,r.useState)(),c=()=>{s((0,a.VT)(e,t,n))};return(0,r.useEffect)((()=>{c()}),[e,t,n,o]),[i,c]}},4365:function(e,t,n){"use strict";n.d(t,{Iu:function(){return o},Qj:function(){return r},Yg:function(){return a},bA:function(){return i},h$:function(){return s}});const r=(e,t,n,r)=>0==e?0:(e=e*t/n,r?parseFloat(e.toFixed(r)):Math.ceil(e)),a=(e,t,n,r)=>0==e?0:(e=e*t/n,r?parseFloat(e.toFixed(r)):Math.ceil(e)),o=(e,t,n,o,i,s)=>"translate(".concat(r(e,n,o,3)," ").concat(a(t,i,s,3),") "),i=(e,t,n,o,i,s)=>"scale(".concat(r(e,n,o,3)," ").concat(a(t,i,s,3),") ");const s=e=>e?Array.isArray(e)?e:"object"==typeof e?function(e){const t=[];return Object.keys(e).sort(((e,t)=>parseInt("".concat(e))-parseInt("".concat(t)))).forEach((n=>{t.push(e[n])})),t}(e):[]:[]},4345:function(e,t,n){"use strict";var r=n(5893),a=n(5541),o=n(9778),i=n(4581),s=n(4859),c=n(1293),l=n(4292),d=n(7747),m=n(4346),h=n(4253),u=n(5154),p=n(6918);t.Z=e=>{let{bg:t,color:n,children:x,placement:g,onClose:f,isOpen:y,isClosable:v,title:w,footer:b,hideModeSwitch:k,noHeader:T,w:j,width:S,maxW:C,maxWidth:I,h:E,height:_,maxH:N,maxHeight:A,...D}=e;return(0,r.jsxs)(a.u_,{onClose:f||(()=>{}),isOpen:y,isCentered:!0,children:[(0,r.jsx)(o.Z,{}),(0,r.jsxs)(i.h,{bg:t||(0,p.Z)("cardBg.light","cardBg.dark"),color:n,minH:E||_||"50vh",maxH:N||A||"70vh",w:j||S||{base:"95%",md:"650px"},maxW:C||I,borderRadius:"16px !important",children:[T?null:(0,r.jsxs)(s.x,{borderBottomWidth:"1px",w:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(c.x,{as:"div",fontSize:{base:"1.1rem",md:"1.3rem"},textTransform:"capitalize",children:w}),(0,r.jsx)(l.U,{children:f&&(v||void 0===v)?(0,r.jsx)(d.xu,{onClick:f,cursor:"pointer",display:"block",children:(0,r.jsx)(u.aHS,{size:"24px"})}):null})]}),(0,r.jsx)(m.f,{...D,children:x}),b?(0,r.jsx)(h.m,{children:b}):null]})]})}},1160:function(e,t,n){"use strict";var r=n(5893),a=n(7747),o=n(1293),i=n(7294),s=n(7878),c=n(1344);t.Z=e=>{let{children:t,message:n,...l}=e;const d=(0,i.useRef)(null),[m,h]=(0,i.useState)(null),{onMouseDown:u}=(0,s.Z)(d);return(0,r.jsxs)(a.xu,{...l,overflow:"auto",ref:d,p:"2rem",onMouseDown:e=>{u(e),(e=>{h(e.pageY)})(e)},onMouseUp:e=>{m&&((e,t)=>{if(!d.current||e==t)return;const n=d.current,r=Math.abs(t-e);if(0===n.scrollTop){const e=document.getElementById("form-container");e&&(e.scrollTop-=r)}if(n.scrollTop>=n.scrollHeight-n.clientHeight){const e=document.getElementById("form-container");e&&(e.scrollTop+=r)}})(m,e.pageY)},children:[t,(0,r.jsx)(c.Z,{as:"div",status:"info",fontWeight:"700",maxW:"80vw",children:(0,r.jsx)(o.x,{as:"span",children:n||"Drag around to view the whole document"})})]})}},9020:function(e,t,n){"use strict";var r=n(5893),a=n(5154),o=n(5461),i=n(4345);t.Z=e=>{let{children:t,onDownloadButtonClick:n,downloadFormats:s,onFormatSelected:c,showDownloadFormatOptions:l,setShowDownloadFormatOptions:d,...m}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{rightIcon:(0,r.jsx)(a.ZJh,{}),...m,onClick:()=>{1==s.length?c(s[0]):n()&&d(!0)},children:t}),l?(0,r.jsx)(i.Z,{justifyContent:"flex-start",alignItems:"center",title:"Select Format",isOpen:!0,onClose:()=>{d(!1)},children:s.map(((e,t)=>(0,r.jsx)(o.Z,{mb:"1rem",status:"warning",onClick:()=>{c(e),d(!1)},children:e.title},t)))}):null]})}},6708:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(5893),a=n(7294),o=n(4345),i=n(5461),s=n(5154),c=n(8783),l=n(1293),d=n(4292),m=n(6089);const h=async(e,t)=>new Promise(((n,r)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=async r=>{var a;const o=new Image;o.src=null===(a=r.target)||void 0===a?void 0:a.result,o.onload=()=>{const r=document.createElement("canvas"),a=r.getContext("2d");r.width=o.width,r.height=o.height,a.drawImage(o,0,0);const i=a.getImageData(0,0,r.width,r.height).data.length/(r.width*r.height),s=t/i,c=Math.sqrt(s);let l,d;o.width>=o.height?(l=c,d=o.height*(c/o.width)):(d=c,l=o.width*(c/o.height)),r.width=l,r.height=d,a.drawImage(o,0,0,l,d),r.toBlob((t=>{if(t){const a=new File([t],e.name,{type:e.type});n({base64:r.toDataURL(),file:a})}}),e.type)}},a.onerror=e=>r(e)}));var u=e=>{let{onClose:t,onImage:n,maxFileSize:u,title:p,message:x,hoverMessage:g,ruleMessage:f,useImageText:y}=e;const[v,w]=(0,a.useState)(!1),[b,k]=(0,a.useState)(!1),[T,j]=(0,a.useState)(null),[S,C]=(0,a.useState)();return(0,a.useEffect)((()=>()=>{}),[]),(0,r.jsx)(o.Z,{title:p,isOpen:!0,onClose:()=>t(),children:(0,r.jsxs)(c.g,{p:"0.5rem",id:"upload-area",justifyContent:"center",alignItems:"center",mb:4,width:"100%",height:"300px",cursor:"pointer",border:"4px dashed ".concat(v?"#dd6b20":"#ccc"),onDragEnter:e=>{e.preventDefault(),w(!0)},onDragOver:e=>{e.preventDefault()},onDragLeave:e=>{e.preventDefault(),w(!1)},onDrop:async e=>{if(b)return;e.preventDefault(),w(!1);const t=e.dataTransfer.files;if(t.length>0){const e=new FileReader,n=t[0];e.onload=async e=>{if(u&&u>0){k(!0);const e=await h(n,u);j(e.base64),C(e.file),k(!1)}else{var t;const r=null===(t=e.target)||void 0===t?void 0:t.result;j(r),C(n)}},e.readAsDataURL(n)}},children:[(0,r.jsx)(s.DUB,{size:"2rem"}),(0,r.jsxs)(c.g,{alignItems:"center",children:[(0,r.jsx)(l.x,{as:"div",fontSize:"12px",children:v?g:x}),(0,r.jsx)(l.x,{as:"div",fontSize:"14px",children:"OR"}),(0,r.jsx)(i.Z,{status:"info",mb:"1rem",onClick:()=>{if(b)return;const e=document.createElement("input");e.type="file",e.accept="image/*",e.click(),e.addEventListener("change",(async e=>{const t=e.target.files;if(t&&t.length>0){const e=new FileReader,n=t[0];e.onload=async e=>{if(u&&u>0){k(!0);const e=await h(n,u);j(e.base64),C(e.file),k(!1)}else{var t;const r=null===(t=e.target)||void 0===t?void 0:t.result;j(r),C(n)}},e.readAsDataURL(n)}}))},display:b?"none":"block",children:"Click to Upload"}),(0,r.jsxs)(l.x,{fontSize:"12px",children:["(",f,")"]}),b?(0,r.jsx)(l.x,{fontSize:"12px",fontStyle:"italic",color:"#3182ce",children:"Processing image. Please wait..."}):null,(0,r.jsx)(d.U,{justifyContent:"center",alignItems:"flex-end",flexWrap:"wrap",children:T&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.E,{src:T,bg:"#cfcfcf",width:"auto",height:"70px",border:"4px ridge #dd6b20"}),(0,r.jsx)(i.Z,{status:"warning",h:"70px",onClick:()=>{n(S,T)},children:y})]})})]})]})})}},6201:function(e,t,n){"use strict";var r=n(5893),a=n(1857),o=n.n(a),i=n(7747),s=n(5970),c=n(4292),l=n(6089),d=n(1293),m=n(7294),h=n(351),u=n(3508),p=n(6708),x=n(9626);t.Z=e=>{let{title:t,thumbnail:n,onChange:a,disableCrop:g,disabled:f,info:y,helperText:v,errorMessage:w,message:b,hoverMessage:k,ruleMessage:T,useImageText:j,maxFileSize:S,...C}=e;const[I,E]=(0,m.useState)(!1),[_,N]=(0,m.useState)(!1);return(0,r.jsxs)(i.xu,{...C,children:[(0,r.jsxs)(s.NI,{opacity:_||f?.4:1,cursor:_||f?"not-allowed":"pointer",children:[(0,r.jsx)(x.Z,{textTransform:"capitalize",info:y,children:t}),(0,r.jsxs)(c.U,{className:"image-selector-button",onClick:e=>{e.preventDefault(),f||_||E(!0)},children:[(0,r.jsx)(i.xu,{width:"auto",height:"40px",bg:"#dfdfdf",children:!_&&n?(0,r.jsx)(l.E,{src:n,width:"auto",h:"40px",objectFit:"cover"}):null}),(0,r.jsx)(d.x,{as:"div",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontStyle:_?"italic":"normal",children:_?"Please wait...":n?"Click to change":"Click to upload"})]})]}),(0,r.jsx)(u.Z,{type:u.Z.TYPES.none,helperText:v,errorMessage:w}),I?(0,r.jsx)(p.Z,{title:t,message:b,hoverMessage:k,ruleMessage:T,useImageText:j,maxFileSize:S,onImage:(e,t)=>{var n,r;n=e,r=t,E(!1),g?a(n,r):(N(!0),(0,h.xJ)(r).then((e=>{a(n,e),N(!1)})).catch((e=>{N(!1)})))},onClose:()=>{E(!1)}}):null,(0,r.jsx)(o(),{id:"95178590041dfe1a",children:".image-selector-button{width:100%;min-width:0px;outline:2px solid transparent;outline-offset:2px;position:relative;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;-webkit-transition-property:var(--chakra-transition-property-common);-moz-transition-timing-function:var(--chakra-transition-property-common);-o-transition-timing-function:var(--chakra-transition-property-common);transition-property:var(--chakra-transition-property-common);-webkit-transition-duration:var(--chakra-transition-duration-normal);-moz-transition-duration:var(--chakra-transition-duration-normal);-o-transition-duration:var(--chakra-transition-duration-normal);transition-duration:var(--chakra-transition-duration-normal);font-size:var(--chakra-fontSizes-md);-webkit-padding-start:var(--chakra-space-4);-moz-padding-start:var(--chakra-space-4);padding-inline-start:var(--chakra-space-4);-webkit-padding-end:var(--chakra-space-10);-moz-padding-end:var(--chakra-space-10);padding-inline-end:var(--chakra-space-10);height:var(--chakra-sizes-10);-webkit-border-radius:var(--chakra-radii-md);-moz-border-radius:var(--chakra-radii-md);border-radius:var(--chakra-radii-md);border:1px solid;border-color:inherit;background:inherit}"})]})}},5367:function(e,t,n){"use strict";n.d(t,{Ic:function(){return s},Q8:function(){return i},T3:function(){return c},U5:function(){return l},Vt:function(){return h},j1:function(){return m},xi:function(){return d}});var r=n(7294),a=n(351),o=n(8303);const i=e=>"string"===typeof e&&e.startsWith("/")?"".concat(window.location.origin).concat(e):e,s=e=>new Promise((async(t,n)=>{if(!e)return t(null);if(window.FileReader){let a;if("string"===typeof e)try{a=await(await fetch(e)).blob()}catch(r){return void n(r)}const o=new FileReader;o.onloadend=function(){o.result?(o.result.toString(),t(o.result)):n(new Error("empty-filereader-result"))},o.onerror=function(e){n(e)},o.readAsDataURL(a||e)}else if("string"!==typeof e)n(new Error("file-reader-not-supported"));else{const r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var e=document.createElement("canvas"),a=e.getContext("2d");if(a){e.height=r.naturalHeight,e.width=r.naturalWidth,a.drawImage(r,0,0);const n=e.toDataURL();t(n)}else n("no-canvas")},r.src=e}})),c=e=>{const[t,n]=(0,r.useState)(),[a,o]=(0,r.useState)(),[c,l]=(0,r.useState)();return(0,r.useEffect)((()=>{const t=i(e);t?(o(!0),s(t).then((e=>{e&&n(e.toString()),o(!1)})).catch((e=>{l(e.message),o(!1)}))):n(null)}),[e]),{base64Url:t,loading:a,error:c}},l=e=>{const[t,n]=(0,r.useState)(),[o,i]=(0,r.useState)(),[s,c]=(0,r.useState)();return(0,r.useEffect)((()=>{e&&(i(!0),(0,a.gP)(e).then((t=>{n({base64Url:e,width:t.width,height:t.height}),i(!1)})).catch((e=>{c(e.message),i(!1)})))}),[e]),{userImage:t,loading:o,error:s}},d=(e,t)=>{const[n,o]=(0,r.useState)(),[i,s]=(0,r.useState)(),[c,l]=(0,r.useState)();return(0,r.useEffect)((()=>{t&&(s(!0),(0,a.jl)(t,e).then((e=>{o(e),s(!1)})).catch((e=>{l(e.message),s(!1)})))}),[t]),{color:n,loading:i,error:c}},m=(e,t,n)=>{const[o,i]=(0,r.useState)(),[s,c]=(0,r.useState)(),[l,d]=(0,r.useState)();return(0,r.useEffect)((()=>{n&&(c(!0),(0,a.aD)(n,e,t).then((e=>{i(e),c(!1)})).catch((e=>{d(e.message),c(!1)})))}),[n]),{stamp:o,loading:s,error:l}},h=e=>{const[t,n]=(0,r.useState)(),[a,i]=(0,r.useState)();return{value:(0,o.S)(e||{}),loading:t,error:a}}},5308:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Fe}});var r=n(5893),a=n(1802),o=n(5397),i=n(7294),s=n(7963),c=n(4292),l=n(1293),d=n(8783),m=n(3717),h=n(7747),u=n(959),p=n(4461),x=n(4124),g=n(4028),f=n(889),y=n(7918),v=n(3508),w=n(5461),b=n(1303),k=n(6691),T=n(6455),j=n.n(T),S=n(3754),C=n(419),I=n(5154),E=n(6918),_=n(5367),N=n(8303),A=n(351);var D=n(5555);const Z=(e,t)=>{if(!e)return{};const n=e.reduce(((e,t)=>e+(t.quantity||0)*(t.price||0)),0),r=(t||0)/100*n;return{calculatedSubTotal:n,calculatedVatValue:r,calculatedTotal:n+r}},M=e=>{let{children:t}=e;return(0,r.jsxs)(c.U,{justifyContent:"flex-start",alignItems:"center",m:"0px !important",mb:"1rem !important",children:[(0,r.jsx)(I.gJy,{color:"#e53e3e"}),"\xa0",(0,r.jsx)(l.x,{as:"div",color:"#e53e3e",children:t})]})},P=e=>(null===e||void 0===e?void 0:e.message)?e.message:e;const F=e=>e?e.split("_")[2]:"$",z=e=>{let{width:t,height:n,companyName:r,companyAddress:a,customerName:o,customerAddress:i,invoiceNumber:s,currency:c,vat:l,items:d,date:m,paymentDetails:h,logoColor:u,logoUrl:p,waterMarkUrl:x,watermarkWithLogo:g,grayScaleWaterMark:f}=e;const{calculatedSubTotal:y,calculatedVatValue:v,calculatedTotal:w}=Z(d,l);return'<svg width="'.concat(820,'" height="').concat(1250,'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <style>\n        .logo-watermark {\n            opacity: 0.15;\n            ').concat(f?"filter: grayscale(100%);":"",'\n        }\n        .watermark {\n            opacity: 0.5;\n        }\n        .text-end {\n            text-anchor: end;\n        }\n        .bold { font-weight: 600; }\n        .upper { text-transform: uppercase; }\n    </style>\n  </defs>\n\n  \x3c!-- Background --\x3e\n  <rect width="100%" height="100%" fill="#ffffff" />\n    ').concat(x?'<image id="watermark" width="'.concat(t,'" height="').concat(n,'" class="watermark" xlink:href="').concat(x,'"/>'):"",'\n\n  \x3c!-- Padding for Invoice Content --\x3e\n  <g transform="translate(20, 20)"> \x3c!-- Adds 20px padding around the main content --\x3e\n    \x3c!-- Header with Logo --\x3e\n    ').concat(p?'<image id="logo" x="0" y="0" width="100" height="100" xlink:href="'.concat(p,'"/> \x3c!-- Placeholder for the logo --\x3e'):"",'\n    <text x="120" y="60" font-size="24" class="bold upper" font-family="Arial" fill="#333">').concat(r||"Enter Company Name",'</text>\n    <text x="120" y="90" font-size="14" font-family="Arial" fill="#666">').concat(a||"Enter Company Address",'</text>\n\n    \x3c!-- Yellow Horizontal Line --\x3e\n    <line x1="0" y1="130" x2="780" y2="130" stroke="').concat(u||"#ccc",'" stroke-width="5"/>\n\n    \x3c!-- Invoice Info --\x3e\n    <text x="580" y="30" font-size="24" font-family="Arial" fill="#333" class="bold upper">Invoice</text>\n    <text x="580" y="60" font-size="18" font-family="Arial" fill="#666">').concat(s||"#00000",'</text>\n    <text x="580" y="90" font-size="18" font-family="Arial" fill="#666">Date: ').concat(m?(0,D.xV)(new Date,[{year:"numeric"},{month:"2-digit"},{day:"2-digit"}],"-"):"Set Invoice Date",'</text>\n\n    \x3c!-- Client Info --\x3e\n    <text x="0" y="180" font-size="20" font-family="Arial" fill="#333" class="bold upper">Bill To:</text>\n    <text x="0" y="205" font-size="20" font-family="Arial" fill="#666">').concat(o||"Enter Customer Name",'</text>\n    <text x="0" y="225" font-size="14" font-family="Arial" fill="#666">').concat(i||"Enter Customer Address",'</text>\n\n    \x3c!-- Table Header with Updated Colors --\x3e\n    <rect x="0" y="330" width="780" height="50" fill="').concat(u||"#ccc",'" /> \x3c!-- table header --\x3e\n    <text x="20" y="360" font-size="18" font-family="Arial" fill="#fff">S/N</text>\n    <text x="100" y="360" font-size="18" font-family="Arial" fill="#fff">Description</text>\n    <text x="370" y="360" font-size="18" font-family="Arial" fill="#fff">Quantity</text>\n    <text x="470" y="360" font-size="18" font-family="Arial" fill="#fff">Unit Price</text>\n    <text x="630" y="360" font-size="18" font-family="Arial" fill="#fff">Total</text>\n    <line x1="0" y1="380" x2="780" y2="380" stroke="#fff" />\n\n    \x3c!-- Table Rows --\x3e\n    ').concat(d&&d.length>0?"\n        ".concat(d.map(((e,t)=>'\n            <text x="20" y="'.concat(430+70*t,'" font-size="18" font-family="Arial" fill="#333">').concat(t+1,'</text>\n            <text x="100" y="').concat(430+70*t,'" font-size="18" font-family="Arial" fill="#333">').concat(e.description,'</text>\n            <text x="390" y="').concat(430+70*t,'" font-size="18" font-family="Arial" fill="#333">').concat(e.quantity,'</text>\n            <text x="470" y="').concat(430+70*t,'" font-size="18" font-family="Arial" fill="#333">').concat(F(c)).concat((0,S.uP)(e.price||0,2,2),'</text>\n            <text x="630" y="').concat(430+70*t,'" font-size="18" font-family="Arial" fill="#333">').concat(F(c)).concat((0,S.uP)((e.price||0)*(e.quantity||0),2,2),'</text>\n            <line x1="0" y1="').concat(460+70*t,'" x2="780" y2="').concat(460+70*t,'" stroke="#ccc" />'))).join("")):"",'\n\n    \x3c!-- Sub-Total, VAT, and Total --\x3e\n    <text x="520" y="').concat(430+70*(d||[]).length+10,'" font-size="18" font-family="Arial" fill="#333">Sub-Total:</text>\n    <text class="text-end" x="740" y="').concat(430+70*(d||[]).length+10,'" font-size="18" font-family="Arial" fill="#333">').concat(F(c)).concat((0,S.uP)(y,2,2),'</text> \x3c!-- Update as needed --\x3e\n    <line x1="520" y1="').concat(460+70*(d||[]).length+10,'" x2="780" y2="').concat(460+70*(d||[]).length+10,'" stroke="#ccc" />\n\n    <text x="520" y="').concat(460+70*(d||[]).length+10+30,'" font-size="18" font-family="Arial" fill="#333">VAT (').concat(l||0,'%):</text>\n    <text class="text-end" x="740" y="').concat(460+70*(d||[]).length+10+30,'" font-size="18" font-family="Arial" fill="#333">').concat(F(c)).concat((0,S.uP)(v,2,2),'</text> \x3c!-- Update as needed --\x3e\n    <line x1="520" y1="').concat(460+70*(d||[]).length+10+50,'" x2="780" y2="').concat(460+70*(d||[]).length+10+50,'" stroke="#ccc" />\n\n    <text x="520" y="').concat(460+70*(d||[]).length+10+80,'" font-size="18" font-family="Arial" fill="#333">Total:</text>\n    <text class="text-end" x="740" y="').concat(460+70*(d||[]).length+10+80,'" font-size="18" font-family="Arial" fill="#333">').concat(F(c)).concat((0,S.uP)(w,2,2),'</text> \x3c!-- Update as needed --\x3e\n    <line x1="520" y1="').concat(460+70*(d||[]).length+10+100,'" x2="780" y2="').concat(460+70*(d||[]).length+10+100,'" stroke="#333" />\n\n    \x3c!-- Payment Details with Table-Matching Border and Balanced Padding --\x3e\n    ').concat(h&&h.length>0?'\n        <text x="20" y="'.concat(460+70*(d||[]).length+10+100+62,'" font-size="20" font-family="Arial" fill="#333" class="bold upper">Payment details below:</text>\n        <rect x="0" y="').concat(460+70*(d||[]).length+10+100+70,'" width="780" height="').concat(30*h.split("\n").length+20,'" fill="none" stroke="').concat(u||"#ccc",'" stroke-width="2" /> \x3c!-- Border matching table color and extending to full width --\x3e\n        ').concat(h.split("\n").map(((e,t)=>'<text x="20" y="'.concat(460+70*(d||[]).length+10+100+100+30*t,'" font-size="18" font-family="Arial" fill="#666">\n            ').concat(e,"\n            </text>"))).join("")):"","\n  </g>\n\n  \x3c!-- Watermark Logo in Center with Greyscale and Opacity --\x3e\n  ").concat(p&&g?'<g transform="translate(210, 450)"> \x3c!-- Adjusted position for centering --\x3e\n        <image id="logo-watermark" width="400" height="400" class="logo-watermark" xlink:href="'.concat(p,'"/>\n    </g>'):"","\n</svg>\n  ")},W=e=>{let{isLoading:t,id:n,width:a,height:o,companyName:i,companyAddress:s,customerName:l,customerAddress:m,invoiceNumber:u,paymentDetails:p,date:x,logoUrl:g,waterMarkUrl:f,watermarkWithLogo:y,grayScaleWaterMark:v,currency:w,vat:b,items:T}=e;const j=(0,N.S)(a),S=(0,N.S)(o),C=(0,_.xi)(false,g),I=(0,_.T3)((0,_.Vt)(f).value);return(0,r.jsxs)(h.xu,{id:"AirlineDocWrapper",pos:"relative",w:"100%",children:[(0,r.jsx)(h.xu,{w:"100%",h:"100%",dangerouslySetInnerHTML:{__html:z({width:j,height:S,companyName:i,companyAddress:s,customerName:l,customerAddress:m,invoiceNumber:u,paymentDetails:p,date:x,logoColor:C.color&&C.color.length>2?"rgb(".concat(C.color[0],", ").concat(C.color[1],", ").concat(C.color[2],")"):null,logoUrl:g,currency:w,vat:b,items:T,waterMarkUrl:null===I||void 0===I?void 0:I.base64Url,watermarkWithLogo:y,grayScaleWaterMark:v})}}),(0,r.jsx)(c.U,{pos:"absolute",top:"0",left:"0",right:"0",bottom:"0",zIndex:"${getResponsiveX(1, width, BASE_TEMPLATE_WIDTH, FRACTION_DIGITS)}",bg:"#dfdfdf",opacity:"0.7",justifyContent:"flex-start",pl:{base:"0px",md:"0px"},alignItems:"center",display:t||C.loading||I.loading?"flex":"none",w:"100%",h:"100%",children:(0,r.jsx)(k.Z,{type:k.Z.TYPES.grid,color:(0,E.Z)("colorAccent.light","colorAccent.dark"),size:"70px"})}),(0,r.jsxs)(d.g,{pos:"absolute",top:"0",left:"0",right:"0",bottom:"0",zIndex:"${getResponsiveX(1, width, BASE_TEMPLATE_WIDTH, FRACTION_DIGITS)}",bg:"#fff",opacity:"0.7",justifyContent:"center",pl:"1rem",alignItems:"flex-start",display:C.error||I.error?"flex":"none",w:"100%",h:"100%",children:[C.error?(0,r.jsx)(M,{children:P(C.error)}):null,I.error?(0,r.jsx)(M,{children:P(I.error)}):null]})]})};W.downloadSvg=e=>{let{width:t,height:n,companyName:r,companyAddress:a,customerName:o,customerAddress:i,invoiceNumber:s,currency:c,vat:l,items:d,date:m,paymentDetails:h,logoColor:u,logoUrl:p,waterMarkUrl:x,watermarkWithLogo:g,grayScaleWaterMark:f}=e;return new Promise((async(e,u)=>{var y;try{y=await(0,A.jl)(p,false)}catch(v){return u(v)}try{p=await(0,_.Ic)((0,_.Q8)(p))}catch(v){return u(v)}if(x)try{x=await(0,_.Ic)((0,_.Q8)(x))}catch(v){return u(v)}e(z({width:t,height:n,companyName:r,companyAddress:a,customerName:o,customerAddress:i,invoiceNumber:s,currency:c,vat:l,items:d,date:m,paymentDetails:h,logoColor:y&&y.length>2?"rgb(".concat(y[0],", ").concat(y[1],", ").concat(y[2],")"):null,logoUrl:p,waterMarkUrl:x,watermarkWithLogo:g,grayScaleWaterMark:f}))}))};var U=W;const L={id:"WATERMARK",title:"WATERMARK",downloadImage:"/res/tools/invoice/watermark.png?v=2",thumbnail:"",image:{base:"/res/tools/invoice/watermark.png?v=2",md:"/res/tools/invoice/watermark.png?v=2",lg:"/res/tools/invoice/watermark.png?v=2"}};var Y=n(8627),O=n(3471),R=n(1344),B=n(6201),V=n(9020),q=n(1160),H=n(5948),G=n(1857),$=n.n(G),X=n(5970),J=n(6554),Q=n(2169),K=n(5432),ee=(0,J.G)(((e,t)=>{var n;const{overflow:a,overflowX:o,className:i,...s}=e;return(0,r.jsx)(Q.m.div,{ref:t,className:(0,K.cx)("chakra-table__container",i),...s,__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:null!=(n=null!=a?a:o)?n:"auto",overflowY:"hidden",maxWidth:"100%"}})})),te=n(7030),ne=n(3179),re=n(5227),[ae,oe]=(0,re.k)({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),ie=(0,J.G)(((e,t)=>{const n=(0,te.jC)("Table",e),{className:a,layout:o,...i}=(0,ne.Lr)(e);return(0,r.jsx)(ae,{value:n,children:(0,r.jsx)(Q.m.table,{ref:t,__css:{tableLayout:o,...n.table},className:(0,K.cx)("chakra-table",a),...i})})}));ie.displayName="Table";var se=(0,J.G)(((e,t)=>{const n=oe();return(0,r.jsx)(Q.m.thead,{...e,ref:t,__css:n.thead})})),ce=(0,J.G)(((e,t)=>{const n=oe();return(0,r.jsx)(Q.m.tr,{...e,ref:t,__css:n.tr})})),le=(0,J.G)((({isNumeric:e,...t},n)=>{const a=oe();return(0,r.jsx)(Q.m.th,{...t,ref:n,__css:a.th,"data-is-numeric":e})})),de=(0,J.G)(((e,t)=>{const n=oe();return(0,r.jsx)(Q.m.tbody,{...e,ref:t,__css:n.tbody})})),me=(0,J.G)(((e,t)=>{const n=oe();return(0,r.jsx)(Q.m.tfoot,{...e,ref:t,__css:n.tfoot})})),he=n(9626),ue=(0,J.G)((({isNumeric:e,...t},n)=>{const a=oe();return(0,r.jsx)(Q.m.td,{...t,ref:n,__css:a.td,"data-is-numeric":e})}));var pe=e=>{let{data:t,rowIndex:n,totalItems:a,header:o,onClick:i}=e;return(0,r.jsx)(ce,{onClick:i,cursor:"pointer",children:o.map(((e,o)=>(0,r.jsx)(ue,{children:e.valueFunc?e.valueFunc(t,n,a):t[e.key]||""},o)))})},xe=n(4345);var ge=e=>{let{data:t,header:n,submitButtonText:a,onClose:o,onChange:s,allowDelete:c}=e;const[l,d]=(0,i.useState)(t),[m,u]=(0,i.useState)(!1),p=(e,t)=>t&&e.getValidationError?e.getValidationError(l?l[e.key]:null):null;return(0,r.jsxs)(xe.Z,{title:c?(0,r.jsx)(w.Z,{rightIcon:(0,r.jsx)(I.Xm5,{}),status:"error",onClick:()=>{j().fire({text:"Are you sure you want to delete this row?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then((e=>{e.isConfirmed&&s(null)}))},children:"Delete"}):null,isOpen:!0,onClose:o,height:"95vh",children:[n.map(((e,t)=>e.isReadOnly?null:(0,r.jsx)(v.Z,{w:"100%",id:"col_editor_".concat(e.key),title:"".concat(e.title).concat(e.isOptional?"(Optional)":""),mb:4,helperText:e.helperText||void 0,info:e.info||void 0,type:e.inputType||v.Z.TYPES.text,value:l?l[e.key]:null,onChange:t=>{d({...l,[e.key]:t})},errorMessage:p(e,m),...e.otherInputProps?e.otherInputProps:{}},"col_editor_".concat(e.key)))),(0,r.jsx)(h.xu,{mb:"1rem",children:(0,r.jsx)(w.Z,{status:"warning",mb:"1rem",onClick:()=>{u(!0);let e=!1;for(const t of n)if(p(t,!0)){e=!0;break}e||s(l||{})},children:a||"Submit Row"})})]})};var fe=e=>{let{header:t,title:n,value:a,maxSize:o,submitButtonText:s,onChange:d,disabled:m,helperText:u,info:p,errorMessage:x,addSingular:g,addPlural:f,onFooter:y,...b}=e;const[k,T]=(0,i.useState)(null);return(0,r.jsxs)(h.xu,{...b,children:[(0,r.jsxs)(X.NI,{opacity:m?.5:1,cursor:m?"not-allowed":"pointer",children:[(0,r.jsx)(he.Z,{textTransform:"capitalize",info:p,children:n}),(0,r.jsxs)(h.xu,{className:"input-container",children:[a&&a.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.U,{w:"100%",justifyContent:"center",children:(0,r.jsx)(l.x,{textTransform:"capitalize",children:"Click an item to edit or delete it."})}),(0,r.jsx)(ee,{children:(0,r.jsxs)(ie,{variant:"simple",children:[(0,r.jsx)(se,{children:(0,r.jsx)(ce,{children:(t||[]).map(((e,t)=>(0,r.jsx)(le,{children:e.title})))})}),(0,r.jsx)(de,{children:a.map(((e,n)=>(0,r.jsx)(pe,{data:e,rowIndex:n,totalItems:a.length,header:t,onClick:()=>(e=>{m||T(e+1)})(n)},n)))}),y?(0,r.jsx)(me,{children:(0,r.jsx)(ce,{children:(t||[]).map(((e,t)=>(0,r.jsx)(le,{children:y(a,e)})))})}):null]})})]}),(a?a.length:0)<o&&!m&&(0,r.jsx)(w.Z,{iconRight:(0,r.jsx)(I.wEH,{}),my:"0.5rem",status:"warning",onClick:()=>{!m&&(a?a.length:0)<o&&T((a?a.length:0)+1)},children:a&&a.length>0?f||"Add more ".concat(n):g||"Add ".concat(n)})]}),(0,r.jsx)(v.Z,{type:v.Z.TYPES.none,helperText:m?null:u,errorMessage:x})]}),k?(0,r.jsx)(ge,{header:t,allowDelete:a&&k<=a.length,data:!a||k>a.length?null:a[k-1],submitButtonText:s,onClose:()=>{T(0)},onChange:e=>{if(!a||k>a.length){if(e){const t=[...a||[],e];d(t)}}else{const t=[...a];null==e?t.splice(k-1,1):t[k-1]=e,d(t)}T(0)}}):null,(0,r.jsx)($(),{id:"d95d07b44cd9f7d9",children:".image-selector-button{width:100%;min-width:0px;outline:2px solid transparent;outline-offset:2px;position:relative;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;-webkit-transition:all.3s;-moz-transition:all.3s;-o-transition:all.3s;transition:all.3s;font-size:var(--chakra-fontSizes-md);-webkit-border-radius:var(--chakra-radii-md);-moz-border-radius:var(--chakra-radii-md);border-radius:var(--chakra-radii-md);border:1px solid;border-color:inherit;background:inherit}.input-container{padding:.5rem;width:100%;min-width:0px;position:relative;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;-webkit-transition:all.3s;-moz-transition:all.3s;-o-transition:all.3s;transition:all.3s;-webkit-border-radius:var(--chakra-radii-md);-moz-border-radius:var(--chakra-radii-md);border-radius:var(--chakra-radii-md);border:1px solid;border-color:inherit;background:inherit}"})]})};var ye=e=>{let{items:t,vat:n}=e;const{subTotal:a,vatValue:o,total:s}=((e,t)=>{const[n,r]=(0,i.useState)(0),[a,o]=(0,i.useState)(0),[s,c]=(0,i.useState)(0);return(0,i.useEffect)((()=>{const{calculatedSubTotal:n,calculatedVatValue:a,calculatedTotal:i}=Z(e,t);r(n||0),o(a||0),c(i||0)}),[e,t]),{subTotal:n,vatValue:a,total:s}})(t,n);return(0,r.jsxs)(d.g,{spacing:4,align:"stretch",children:[(0,r.jsxs)(l.x,{fontWeight:"bold",children:["Subtotal: $",a.toFixed(2)]}),(0,r.jsxs)(l.x,{fontWeight:"bold",children:["VAT (",n,"%): $",o.toFixed(2)]}),(0,r.jsxs)(l.x,{fontWeight:"bold",children:["Total: $",s.toFixed(2)]})]})},ve=n(4365);const we=n(2731)(),be={min:2,max:64,required:!0},ke={min:2,max:64,required:!0},Te={min:2,max:64,required:!0},je={min:2,max:64,required:!0},Se={min:2,max:16,required:!0},Ce={min:1,max:8,required:!0},Ie={min:0,max:99,required:!1},Ee={min:1,max:6,required:!0},_e={min:0,max:256,required:!1};var Ne=e=>{let{data:t,isNew:n,onUpdateData:o,onPublishData:T,saving:_,setSaving:N,hasPendingSave:A,collectionName:Z}=e;if(!t)return null;const M=(0,s.p)(),[P,F]=(0,i.useState)(!1),[z,W]=(0,i.useState)(!1),[G,$]=(0,H.o)(Z,t.id,"logo",t.logo),{nameError:X,nameChecker:J}=(0,b.Z)((e=>(0,S.N4)(e)&&be.required?"Enter the company name.":!(0,S.N4)(e)&&e.length<be.min?"The company name is too short. It must be up to ".concat(be.min," characters."):e.length>be.max?"The company name is too long. It must not be greater than ".concat(be.max," characters."):null),"nameError","nameChecker"),{companyAddressError:Q,companyAddressChecker:K}=(0,b.Z)((e=>(0,S.N4)(e)&&ke.required?"Enter the company address.":e.length<ke.min?"The company address must be up to ".concat(ke.min," characters."):e.length>ke.max?"The company address must not be greater than ".concat(ke.max," characters."):null),"companyAddressError","companyAddressChecker"),{customerNameError:ee,customerNameChecker:te}=(0,b.Z)((e=>(0,S.N4)(e)&&Te.required?"Enter the customer name.":e.length<Te.min?"The customer name must be up to ".concat(Te.min," characters."):e.length>Te.max?"The customer name not be greater than ".concat(Te.max," characters."):null),"customerNameChecker","customerNameChecker"),{customerAddressError:ne,customerAddressChecker:re}=(0,b.Z)((e=>(0,S.N4)(e)&&Te.required?"Enter the customer address.":e.length<je.min?"The customer address must be up to ".concat(je.min," characters."):e.length>je.max?"The customer address must not be greater than ".concat(je.max," characters."):null),"customerAddressError","customerAddressChecker"),{invoiceNumberError:ae,invoiceNumberChecker:oe}=(0,b.Z)((e=>(0,S.N4)(e)&&Te.required?"Enter the invoice number.":e.length<Se.min?"The invoice number must be up to ".concat(Se.min," characters."):e.length>Se.max?"The invoice number not be greater than ".concat(Se.max," characters."):null),"invoiceNumberChecker","invoiceNumberChecker"),{vatError:ie,vatChecker:se}=(0,b.Z)((e=>(0,S.N4)(e)||isNaN(e)&&parseFloat(e)<1?"Enter the invoice's vat.":e.length<Ie.min?"The invoice's vat is too small. It must be up to ".concat(Ie.min," characters."):e.length>Ie.max?"The invoice's vat is too much. It must not be greater than ".concat(Ie.max," characters."):null),"vatError","vatChecker"),{itemsError:ce,itemsChecker:le}=(0,b.Z)((e=>e&&0!=e.length?e.length<Ee.min?"The invoice's items must be up to ".concat(Ee.min,"."):e.length>Ee.max?"The invoice's items must not be greater than ".concat(Ee.max,"."):null:"Add the invoice's items."),"itemsError","itemsChecker"),{paymentDetailsError:de,paymentDetailsChecker:me}=(0,b.Z)((e=>(0,S.N4)(e)&&_e.required?"Enter the payment details.":e.length<_e.min?"The payment details must be up to ".concat(_e.min," characters."):e.length>_e.max?"The payment details must not be greater than ".concat(_e.max," characters."):null),"paymentDetailsError","paymentDetailsChecker"),{currencyError:he,currencyChecker:ue}=(0,b.Z)((e=>t.priceDisabled?null:(0,S.N4)(e)?"Please enter the invoice's cost currency.":e.length<Ce.min?"The invoice's cost currency is too short. It must be up to ".concat(Ce.min," characters."):e.length>Ce.max?"The invoice's cost currency is too long. It must not be greater than ".concat(Ce.max," characters."):null),"currencyError","currencyChecker"),{logoError:pe,logoChecker:xe}=(0,b.Z)(((e,n)=>e&&"logo"!=e?"Invalid Company logo":e&&!(0,S.VT)(Z,(n||t).id,e)?"Your Company logo was not found on this browser. Please provide the logo again.":null),"logoError","logoChecker"),{dateError:ge,dateChecker:Ne}=(0,b.Z)((e=>e?null:"Please select the invoice issue date."),"dateError","dateChecker"),[Ae,De]=(0,i.useState)(),[Ze,Me]=(0,i.useState)(!1);return(0,r.jsx)(Y.Z,{tool:a.Tk.invoice,maxHeaderWidth:"100%",children:(0,r.jsxs)(y.Z,{w:"100%",maxW:"100%",h:"auto",children:[t.id!=a.XA?(0,r.jsx)(c.U,{flexWrap:"wrap",justifyContent:"space-between",children:(0,r.jsxs)(c.U,{flexWrap:"wrap",children:[(0,r.jsxs)(l.x,{m:"0px !important",mr:1,display:"none",children:["Tracking No:"," "]}),(0,r.jsx)(C.Z,{display:"none",fontWeight:"bold",m:"0px !important",mr:2,children:t.id})]})}):(0,r.jsxs)(d.g,{alignItems:"flex-start",children:[(0,r.jsxs)(c.U,{flexWrap:"wrap",justifyContent:"flex-start",alignItems:"center",children:[(0,r.jsx)(I.a_$,{})," ",(0,r.jsx)(l.x,{m:"0px !important",mr:1,children:"New Invoice"})]}),(0,r.jsxs)(l.x,{as:"div",fontSize:"13px",children:["Click the info icon(",(0,r.jsx)(I.DAO,{style:{display:"inline"}}),") beside each form fields for help on what to enter."]})]}),(0,r.jsx)(m.k,{w:"100%",flexWrap:"wrap",m:"15px auto",children:(0,r.jsx)(h.xu,{w:{base:"100%"},bg:"#dd6b20",p:"1rem",children:(0,r.jsxs)(h.xu,{bg:(0,E.Z)("cardBg.light","cardBg.dark"),minH:"80vh",w:"100%",p:{base:"1rem"},borderRadius:"24px",children:[(0,r.jsxs)(u.m,{isFitted:!0,variant:"enclosed",children:[(0,r.jsxs)(p.t,{mb:"1em",children:[(0,r.jsx)(x.O,{children:"Edit Mode"}),(0,r.jsx)(x.O,{children:"View Mode"})]}),(0,r.jsxs)(g.n,{children:[(0,r.jsxs)(f.x,{children:[(0,r.jsx)(B.Z,{disabled:!n&&null!=G,w:"100%",id:"Form_".concat(t.id,"logo"),title:"Company logo",mb:4,info:"The logo of the company issuing the invoice.",helperText:"Select the logo of the company issuing the invoice.",thumbnail:G,message:"Drag and Drop logo here",hoverMessage:"Drop the logo here",ruleMessage:"Upload 512 by 512 transparent PNG image for the best result.",useImageText:"Use Logo",onChange:(e,n)=>{o&&(o({id:t.id,logo:n}),$())},onCheckInfo:xe,errorMessage:pe},"Form_".concat(t.id,"logo")),(0,r.jsx)(v.Z,{disabled:!n,w:"100%",id:"Form_".concat(t.id,"_cmp_name"),title:"Company name",mb:4,placeholder:"Parkroad International Motors",info:"The name of the company issuing the invoice.",helperText:"Enter the name of the company issuing the invoice.",type:v.Z.TYPES.text,value:t.companyName,onChange:e=>{o&&o({id:t.id,companyName:e})},onCheckInfo:J,errorMessage:X},"Form_".concat(t.id,"_cmp_name")),(0,r.jsx)(v.Z,{disabled:!n,w:"100%",minH:"110px",id:"Form_".concat(t.id,"_cmp_address"),title:"Company address",mb:4,placeholder:"",info:"The address of the company.",helperText:"This is the address of the company.",type:v.Z.TYPES.text,value:t.companyAddress,onChange:e=>{o&&o({id:t.id,companyAddress:e})},onCheckInfo:K,errorMessage:Q},"Form_".concat(t.id,"_cmp_address")),(0,r.jsx)(v.Z,{disabled:!n,w:"100%",minH:"110px",id:"Form_".concat(t.id,"_customer_name"),title:"Customer name",mb:4,placeholder:"",helperText:"Enter the name of the customer.",info:"This is the name of the customer the invoice will be issued to.",type:v.Z.TYPES.text,value:t.customerName,onChange:e=>{o&&o({id:t.id,customerName:e})},onCheckInfo:te,errorMessage:ee},"Form_".concat(t.id,"_customer_name")),(0,r.jsx)(v.Z,{disabled:!n,w:"100%",minH:"110px",id:"Form_".concat(t.id,"_customer_addr"),title:"Customer address or email",mb:4,placeholder:"",helperText:"Enter the address of the customer or the email.",info:"This is where you enter the home address of the customer or the email address.",type:v.Z.TYPES.text,value:t.customerAddress,onChange:e=>{o&&o({id:t.id,customerAddress:e})},onCheckInfo:re,errorMessage:ne},"Form_".concat(t.id,"_customer_addr")),(0,r.jsx)(v.Z,{disabled:!n,w:"100%",minH:"110px",id:"Form_".concat(t.id,"_inv_num"),title:"Invoice Number",mb:4,placeholder:"",helperText:"Enter the invoice number.",info:"This is where you enter the invoice number.",type:v.Z.TYPES.text,value:t.invoiceNumber,onChange:e=>{o&&o({id:t.id,invoiceNumber:e})},onCheckInfo:oe,errorMessage:ae},"Form_".concat(t.id,"_inv_num")),(0,r.jsx)(v.Z,{disabled:!n,w:"100%",mb:4,id:"ShippingForm_".concat(t.id,"_date"),title:"Invoice Date",helperText:"Select the invoice issue date.",info:"This is the invoice issue date.",type:v.Z.TYPES.date,value:(0,D.Ft)(t.date),onChange:e=>{o&&o({id:t.id,date:(0,D.SG)(e)})},errorMessage:ge,onCheckInfo:Ne},"ShippingForm_".concat(t.id,"_date")),(0,r.jsx)(v.Z,{disabled:!n,w:"100%",id:"ShippingForm_".concat(t.id,"_currency"),title:"Currency",mb:4,helperText:"Select the currency for the cost of the items being purchased.",info:"This is where you select the currency for the cost of the items being purchased.",type:v.Z.TYPES.select,value:t.currency,options:we||[],onOptionName:e=>{let{countryName:t,symbol:n}=e;return"".concat(t," (").concat(n,")")},onOptionValue:e=>{let{iso_code:t,currency:n,symbol:r}=e;return"".concat(t,"_").concat(n,"_").concat(r)},placeholder:"",onCheckInfo:ue,onChange:e=>{o&&o({id:t.id,currency:e})},errorMessage:he},"ShippingForm_".concat(t.id,"_currency")),(0,r.jsx)(v.Z,{disabled:!n,w:"100%",id:"Form_".concat(t.id,"_vat"),title:"VAT(%)",mb:4,placeholder:"",info:"This is the VAT in percentage you want to add to the total items cost.",helperText:"Enter the VAT in percentage that you want to add to the total items cost.",type:v.Z.TYPES.number,value:t.vat,numberDecimals:0,onChange:e=>{o&&o({id:t.id,vat:e})},onCheckInfo:se,errorMessage:ie},"Form_".concat(t.id,"_vat")),(0,r.jsx)(fe,{disabled:!n,w:"100%",id:"Form_".concat(t.id,"_items"),title:"Items Purchased",mb:4,placeholder:"",helperText:"Provide the items that are being purchased.",info:"This is where you provide the items that are being purchased.",type:v.Z.TYPES.number,value:(0,ve.h$)(t.items),submitButtonText:"Submit Item",addSingular:"Add Item",addPlural:"Add another Item",maxSize:6,onChange:e=>{o&&o({id:t.id,items:e})},header:[{key:"sn",title:"S/N",valueFunc:(e,t,n)=>t+1,isReadOnly:!0},{key:"description",title:"Description",helperText:"Enter the description or name of the item.",getValidationError:e=>e?e.length>64?"The item description cannot be greater than ".concat(64," characters."):null:"Please enter the item description or name."},{key:"quantity",title:"Quantity",helperText:"Enter the total number of this item being purchased.",inputType:v.Z.TYPES.number,otherInputProps:{numberDecimals:0},getValidationError:e=>e?e<1?"The item quantity cannot be less than ".concat(1,"."):e>1e15?"The item quantity cannot be greater than ".concat(1e15):null:"Please enter the item quantity."},{key:"price",title:"Unit Price(".concat(t.currency?t.currency.split("_")[2]:"$",")"),helperText:"Enter the price of a single item.",inputType:v.Z.TYPES.number,otherInputProps:{numberDecimals:0},getValidationError:e=>e?e<1?"The item price cannot be less than ".concat(1,"."):e>1e15?"The item price cannot be greater than ".concat(1e15):null:"Please enter the item price."},{key:"total",title:"Total",valueFunc:(e,n,r)=>"".concat(t.currency?t.currency.split("_")[2]:"$").concat(e.quantity*e.price),isReadOnly:!0}],onFooter:(e,n)=>"total"!=n.key?null:(0,r.jsx)(ye,{items:e,col:n,vat:t.vat||0}),onCheckInfo:le,errorMessage:ce},"Form_".concat(t.id,"_items")),(0,r.jsx)(v.Z,{disabled:!n,w:"100%",id:"Form_".concat(t.id,"_payment"),title:"Payment Details(Optional)",mb:4,helperText:"Enter the payment details information here. Hit enter key to enter new line.",info:"This is where you enter the payment details for the invoice; Bank, Account Name, Account Number, or any other info you want.",type:v.Z.TYPES.textarea,value:t.paymentDetails,onChange:e=>{o&&o({id:t.id,paymentDetails:e})},onCheckInfo:me,errorMessage:de},"Form_".concat(t.id,"_payment")),(0,r.jsx)(v.Z,{disabled:!n,w:"100%",id:"Form_".concat(t.id,"waterMarkWithLogo"),title:"Watermark with logo",mb:4,info:"Enabling this adds your logo as a watermark to the invoice background.",type:v.Z.TYPES.checkbox,value:t.waterMarkWithLogo,onChange:e=>{o&&o({id:t.id,waterMarkWithLogo:e})}},"Form_".concat(t.id,"waterMarkWithLogo")),t.waterMarkWithLogo?(0,r.jsx)(v.Z,{disabled:!n,w:"100%",id:"Form_".concat(t.id,"grayScaleWaterMark"),title:"Grayscale watermark",mb:4,info:"Enabling this makes your logo watermark looks gray instead of colorful.",type:v.Z.TYPES.checkbox,value:t.grayScaleWaterMark,onChange:e=>{o&&o({id:t.id,grayScaleWaterMark:e})}},"Form_".concat(t.id,"grayScaleWaterMark")):null]}),(0,r.jsx)(f.x,{bg:"#dcdcdc",p:"0px",children:(0,r.jsx)(q.Z,{width:"100%",message:"Drag around to view the whole invoice",height:{base:500,md:728,lg:1024},pos:"relative",overflowX:"hidden",overflowY:"hidden",children:(0,r.jsx)(U,{isLoading:P,width:{base:728,lg:1024},height:{base:1031,lg:1448},companyName:t.companyName,companyAddress:t.companyAddress,customerName:t.customerName,customerAddress:t.customerAddress,date:t.date,invoiceNumber:t.invoiceNumber,currency:t.currency,items:(0,ve.h$)(t.items),vat:t.vat,paymentDetails:t.paymentDetails,logoUrl:G,watermarkWithLogo:t.waterMarkWithLogo,grayScaleWaterMark:t.grayScaleWaterMark,waterMarkUrl:t.is_freemium?L.image:null})})})]})]}),(0,r.jsxs)(d.g,{w:"100%",justifyContent:"flex-start",alignItems:"center",my:8,children:[n?(0,r.jsx)(w.Z,{status:_&&!Ze?"loading":"warning",fontStyle:_&&!Ze?"italic":"normal",disabled:_||!A,w:"100%",maxW:"400px",h:"70px",fontSize:"lg",onClick:async()=>{if(!T)return;N(!0);const e=[xe().checker(t.logo),J().checker(t.companyName),K().checker(t.companyAddress),te().checker(t.customerName),re().checker(t.customerAddress),oe().checker(t.invoiceNumber),Ne().checker(t.date),me().checker(t.paymentDetails),se().checker(t.vat),le().checker(t.items)];(await Promise.all(e)).includes(!1)?(N(!1),$(),j().fire({title:"Form Error",icon:"error",text:"You have some errors in your form. Please check the error message(s) at the input(s) and try again."})):(N(!1),T().then((e=>{N(!1),$(),M({description:n?"New Invoice successfully saved.":"Invoice successfully updated.",status:"success",duration:4e3,isClosable:!0}),De(!0)})).catch((e=>{N(!1),$(),((null===e||void 0===e?void 0:e.message)||"").length>0&&j().fire({icon:"error",title:n?"Invoice Creation Error":"Invoice Update Error",text:e.message})})))},rightIcon:_&&!Ze?(0,r.jsx)(k.Z,{size:"1rem",color:"#fff",type:k.Z.TYPES.threeDots}):null,children:_&&!Ze?"Please wait...":"Create Invoice"}):null,(0,r.jsx)(V.Z,{showDownloadFormatOptions:Ae,setShowDownloadFormatOptions:De,status:_?"loading":"warning",outlined:!0,fontStyle:_?"italic":"normal",disabled:_,w:"100%",maxW:"400px",h:"70px",fontSize:"lg",downloadFormats:[{title:"Download as PDF",format:"pdf"},{title:"Download as JPEG",format:"jpeg"},{title:"Download as PNG",format:"png"}],onDownloadButtonClick:()=>!n||(j().fire({icon:"error",title:"Download error",text:"You're yet to create the Invoice. Create Invoice first, then download."}),!1),onFormatSelected:e=>{(async(e,t)=>{if(P)return;const n=[xe().checker(e.logo,e)],r=await Promise.all(n);if(console.log("download:errorsCheck => ",r),r.includes(!1))return $(),void j().fire({title:"Download Error",text:"The company logo is missing on this browser. Please re-upload and try again.",icon:"error"});F(!0),U.downloadSvg({width:820,height:1250,companyName:e.companyName,companyAddress:e.companyAddress,customerName:e.customerName,customerAddress:e.customerAddress,date:e.date,invoiceNumber:e.invoiceNumber,currency:e.currency,items:(0,ve.h$)(e.items),vat:e.vat,paymentDetails:e.paymentDetails,logoUrl:(0,S.VT)(Z,e.id,"logo"),watermarkWithLogo:e.waterMarkWithLogo,grayScaleWaterMark:e.grayScaleWaterMark,waterMarkUrl:e.is_freemium?L.downloadImage:null}).then((n=>{M({description:"Your invoice will download shortly.",status:"info",duration:4e3,isClosable:!0}),(0,O.T)(n,t,"".concat((0,S.yZ)("".concat(e.companyName,"_").concat(e.customerName)),"-").concat((new Date).toISOString(),"-invoice-").concat(e.invoiceNumber)).then((e=>{F(!1),W(!0),$(),setTimeout((()=>{W(!1)}),8e3)})).catch((e=>{F(!1),$(),j().fire({icon:"error",title:"Download Error",text:e.message})}))})).catch((e=>{F(!1),$(),j().fire({icon:"error",title:"Download Error",text:e.message})}))})(t,e.format)},rightIcon:(0,r.jsx)(I.ZJh,{}),children:_?"Please wait...":"Download Invoice"}),z?(0,r.jsx)(R.Z,{status:"success",children:"Check your download folder for the downloaded Invoice."}):null,t.is_freemium&&!n?(0,r.jsx)(w.Z,{status:_&&Ze?"loading":"error",fontStyle:_&&Ze?"italic":"normal",disabled:_,w:"100%",maxW:"400px",h:"70px",fontSize:"lg",onClick:()=>{(e=>{if(T){N(!0);var t=e?JSON.parse(JSON.stringify(e)):{};t.id&&delete t.id,e.is_freemium||1!=Object.keys(t).length||Me(!0),T(!1,e).then((e=>{N(!1),j().fire({icon:"success",title:"Success",text:Ze?"Watermark successfully removed.":"Invoice successfully updated."}),Me(!1)})).catch((e=>{N(!1),Me(!1),((null===e||void 0===e?void 0:e.message)||"").length>0&&j().fire({icon:"error",title:n?"Shipping Creation Error":"Shipping Update Error",text:e.message})}))}})({id:t.id,is_freemium:!1})},rightIcon:_&&Ze?(0,r.jsx)(k.Z,{size:"1rem",color:"#fff",type:k.Z.TYPES.threeDots}):(0,r.jsx)(I.arg,{}),children:_&&Ze?"Please wait...":"Remove Watermark"}):null]})]})})})]})})};const Ae=()=>{const e="#".concat(Math.round(1e7*Math.random())),t=(0,S.u2)("AE","033",16,21);return{id:a.XA,authorId:"uid",waterMarkWithLogo:!0,grayScaleWaterMark:!0,invoiceNumber:e,date:(0,D.SG)(new Date),currency:"US_USD_$",vat:15,paymentDetails:"Payment Method: Wire Transfer\nRecipient Name: Parkroad International Motors\nBank Name: Emirates National Bank of Dubai\nSwift Code: EBILAEADDMB\nIBAN: ".concat(t,"\nAmount: $").concat(360,".00\nMemo: Payment for invoice ").concat(e),is_freemium:!0}},De={newData:"New Invoice",noDataError:"No Invoice selected",newTitle:"Invoice Type",updateTitle:"Update Cost",updateMessage:"The update will cost you {PRICE}.",freeTitle:"Test Invoice(Free).",freeMessage:"The downloaded Invoice will have watermark.",paidTitle:"Clean Invoice({PRICE})",paidMessage:"The downloaded Invoice will be clean with no watermark.",signInMessage:"Please sign in to save your Invoice.",signUpMessage:"Please sign up to save your Invoice.",createButtonText:"Create Invoice",noChatToListMessage:"Your Invoice will show here",deleteWarning:"Are you sure you want to permanently delete this already saved invoice?"};var Ze=n(9555),Me=n(3348),Pe=n(3183);var Fe=()=>{const e=a.Tk.invoice.collectionRuleName,t=a.Tk.invoice.toolVersionCode,n=(0,Ze.Z)(20),{getCurrentTimelineData:s}=n,c=["logo"],l=["is_freemium"],d=(0,Me.Z)(e,50,Ae,l,c),{selectedIsNew:m,selectedData:h}=d,u=(0,Pe.Z)({collectionName:e,fileFields:c,toolVersionCode:t,historyProps:n,dataSourceProps:d,publishTexts:De,updatableFields:l}),{savingData:p,setSavingData:x,handleUpdateData:g,handlePublishData:f}=u,y=(0,i.useMemo)((()=>(0,r.jsx)(Ne,{collectionName:e,isNew:m(),data:h,saving:p,setSaving:x,hasPendingSave:s((null===h||void 0===h?void 0:h.id)||"none").totalUpdates>1||m(),onUpdateData:g,onPublishData:f})),[m,h,p,x,s,g,f,e]);return(0,r.jsx)(o.Z,{tool:a.Tk.invoice,form:y,historyProps:n,dataSourceProps:d,dataHandlerProps:u,publishTexts:De,getItemName:e=>e.companyName||"No Company Name",getItemDescription:e=>e.customerName,getItemBadge:e=>{const t=e;return(0,S.bh)(t.invoiceNumber||"...",12)},onOverWriteCopiedData:e=>({...e,logo:null,invoiceNumber:"#".concat(Math.round(1e7*Math.random())),items:(0,ve.h$)(e.items),is_freemium:!0})})}},7878:function(e,t){"use strict";t.Z=function(e,t){void 0===t&&(t={direction:"both"});var n=t.direction,r={scrollTop:0,scrollLeft:0,mouseX:0,mouseY:0},a=function(t){if(e.current){var a=t.clientX-r.mouseX,o=t.clientY-r.mouseY;"horizontal"!==n&&(e.current.scrollTop=r.scrollTop-o),"vertical"!==n&&(e.current.scrollLeft=r.scrollLeft-a)}},o=function t(){e.current&&(e.current.style.cursor="grab"),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",t)};return{onMouseDown:function(t){e.current&&(r={scrollLeft:e.current.scrollLeft,scrollTop:e.current.scrollTop,mouseX:t.clientX,mouseY:t.clientY},e.current.style.cursor="grabbing",e.current.style.userSelect="none",document.addEventListener("mousemove",a),document.addEventListener("mouseup",o))}}}}},function(e){e.O(0,[847,201,394,808,731,814,238,590,986,774,888,179],(function(){return t=3373,e(e.s=t);var t}));var t=e.O();_N_E=t}]);