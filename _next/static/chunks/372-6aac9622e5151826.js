"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[372],{94345:function(e,t,a){var n=a(85893),r=a(35541),i=a(19778),s=a(14581),o=a(64859),l=a(71293),c=a(34292),d=a(57747),h=a(54346),p=a(14253),u=a(55154),m=a(96918);t.Z=e=>{let{bg:t,color:a,children:g,placement:x,onClose:f,isOpen:v,isClosable:w,title:b,footer:k,hideModeSwitch:j,noHeader:y,w:C,width:z,maxW:S,maxWidth:I,h:D,height:T,maxH:F,maxHeight:M,dontCloseOnOverlayClick:O,...Z}=e;return(0,n.jsxs)(r.u_,{closeOnOverlayClick:!O,onClose:f||(()=>{}),isOpen:v,isCentered:!0,children:[(0,n.jsx)(i.Z,{}),(0,n.jsxs)(s.h,{bg:t||(0,m.Z)("cardBg.light","cardBg.dark"),color:a,minH:D||T||"50vh",maxH:F||M||"70vh",w:C||z||{base:"95%",md:"650px"},maxW:S||I,borderRadius:"16px !important",children:[y?null:(0,n.jsxs)(o.x,{borderBottomWidth:"1px",w:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,n.jsx)(l.x,{as:"div",fontSize:{base:"1.1rem",md:"1.3rem"},textTransform:"capitalize",children:b}),(0,n.jsx)(c.U,{children:f&&(w||void 0===w)?(0,n.jsx)(d.xu,{onClick:f,cursor:"pointer",display:"block",children:(0,n.jsx)(u.aHS,{size:"24px"})}):null})]}),(0,n.jsx)(h.f,{...Z,children:g}),k?(0,n.jsx)(p.m,{children:k}):null]})]})}},35052:function(e,t,a){var n=a(85893),r=a(67294),i=a(94345),s=a(85461),o=a(55154),l=a(48783),c=a(71293),d=a(34292),h=a(6089),p=a(77181);t.Z=e=>{let{onClose:t,onImage:a,maxFileSize:u,isOtherFiles:m,onThumb:g,title:x,message:f,hoverMessage:v,ruleMessage:w,useImageText:b,accept:k}=e;const[j,y]=(0,r.useState)(!1),[C,z]=(0,r.useState)(!1),[S,I]=(0,r.useState)(null),[D,T]=(0,r.useState)(),[F,M]=(0,r.useState)();return(0,r.useEffect)((()=>{D&&S&&g?g(D,S).then((e=>{M(e)})).catch((e=>{console.error("handleUseImage: ",e.message),M(void 0)})):M(S)}),[S]),(0,n.jsx)(i.Z,{title:x,isOpen:!0,onClose:()=>t(),children:(0,n.jsxs)(l.g,{p:"0.5rem",id:"upload-area",justifyContent:"center",alignItems:"center",mb:4,width:"100%",height:"300px",cursor:"pointer",border:"4px dashed ".concat(j?"#dd6b20":"#ccc"),onDragEnter:e=>{e.preventDefault(),y(!0)},onDragOver:e=>{e.preventDefault()},onDragLeave:e=>{e.preventDefault(),y(!1)},onDrop:async e=>{if(C)return;e.preventDefault(),y(!1);const t=e.dataTransfer.files;if(t.length>0){const e=new FileReader,a=t[0];e.onload=async e=>{if(u&&u>0&&!m){z(!0);const e=await(0,p.t)(a,u);I(e.base64),T(e.file),z(!1)}else{var t;const n=null===(t=e.target)||void 0===t?void 0:t.result;I(n),T(a)}},e.readAsDataURL(a)}},children:[(0,n.jsx)(o.DUB,{size:"2rem"}),(0,n.jsxs)(l.g,{alignItems:"center",children:[(0,n.jsx)(c.x,{as:"div",fontSize:"12px",children:j?v:f}),(0,n.jsx)(c.x,{as:"div",fontSize:"14px",children:"OR"}),(0,n.jsx)(s.Z,{status:"info",mb:"1rem",onClick:()=>{if(C)return;const e=document.createElement("input");e.type="file",e.accept=k||"image/*",e.click(),e.addEventListener("change",(async e=>{const t=e.target.files;if(t&&t.length>0){const e=new FileReader,a=t[0];e.onload=async e=>{if(u&&u>0&&!m){z(!0);const e=await(0,p.t)(a,u);I(e.base64),T(e.file),z(!1)}else{var t;const n=null===(t=e.target)||void 0===t?void 0:t.result;I(n),T(a)}},e.readAsDataURL(a)}}))},display:C?"none":"block",children:"Click to Upload"}),(0,n.jsxs)(c.x,{fontSize:"12px",children:["(",w,")"]}),C?(0,n.jsx)(c.x,{fontSize:"12px",fontStyle:"italic",color:"#3182ce",children:"Processing image. Please wait..."}):null,(0,n.jsx)(d.U,{justifyContent:"center",alignItems:"flex-end",flexWrap:"wrap",children:S&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.E,{src:F||"",bg:"#cfcfcf",width:"auto",height:"70px",border:"4px ridge #dd6b20"}),(0,n.jsx)(s.Z,{status:"warning",h:"70px",onClick:()=>{a(D,S,F)},children:b})]})})]})]})})}},86201:function(e,t,a){var n=a(85893),r=a(51857),i=a.n(r),s=a(57747),o=a(85970),l=a(34292),c=a(5418),d=a(6089),h=a(71293),p=a(67294),u=a(30351),m=a(36238),g=a(35052),x=a(49626),f=a(85461),v=a(53754);t.Z=e=>{let{onThumb:t,accept:a,title:r,thumbnail:w,onChange:b,disableCrop:k,disabled:j,info:y,helperText:C,errorMessage:z,message:S,hoverMessage:I,ruleMessage:D,useImageText:T,maxFileSize:F,isOtherFiles:M,showAsButton:O,textTransform:Z,labelEndIcon:E,...U}=e;const[R,P]=(0,p.useState)(!1),[B,H]=(0,p.useState)(!1);return(0,n.jsxs)(s.xu,{...U,children:[O?(0,n.jsx)(f.Z,{status:"success",onClick:e=>{e.preventDefault(),j||B||P(!0)},children:r}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.NI,{opacity:B||j?.4:1,cursor:B||j?"not-allowed":"pointer",children:[(0,n.jsxs)(l.U,{w:"100%",justifyContent:"space-between",alignItems:"center",children:[!r||(0,v.N4)(y)||j?(0,n.jsx)(c.l,{textTransform:Z||"capitalize",mb:"0px",children:r}):(0,n.jsx)(x.Z,{as:c.l,info:y,textTransform:Z||"capitalize",children:r}),E||null]}),(0,n.jsxs)(l.U,{className:"image-selector-button",onClick:e=>{e.preventDefault(),j||B||P(!0)},children:[(0,n.jsx)(s.xu,{width:"auto",height:"40px",bg:"#dfdfdf",children:!B&&w?(0,n.jsx)(d.E,{src:w,width:"auto",h:"40px",objectFit:"cover"}):null}),(0,n.jsx)(h.x,{as:"div",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontStyle:B?"italic":"normal",children:B?"Please wait...":w?"Click to change":"Click to upload"})]})]}),(0,n.jsx)(m.Z,{type:m.Z.TYPES.none,helperText:C,errorMessage:z})]}),R?(0,n.jsx)(g.Z,{title:r,message:S,onThumb:t,hoverMessage:I,ruleMessage:D,useImageText:T,maxFileSize:F,onImage:(e,t,a)=>{((e,t,a)=>{P(!1),k||M?b(e,t,a):(H(!0),(0,u.xJ)(t).then((t=>{b(e,t,a),H(!1)})).catch((e=>{H(!1)})))})(e,t,a)},onClose:()=>{P(!1)},isOtherFiles:M,accept:a}):null,(0,n.jsx)(i(),{id:"95178590041dfe1a",children:".image-selector-button{width:100%;min-width:0px;outline:2px solid transparent;outline-offset:2px;position:relative;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;-webkit-transition-property:var(--chakra-transition-property-common);-moz-transition-timing-function:var(--chakra-transition-property-common);-o-transition-timing-function:var(--chakra-transition-property-common);transition-property:var(--chakra-transition-property-common);-webkit-transition-duration:var(--chakra-transition-duration-normal);-moz-transition-duration:var(--chakra-transition-duration-normal);-o-transition-duration:var(--chakra-transition-duration-normal);transition-duration:var(--chakra-transition-duration-normal);font-size:var(--chakra-fontSizes-md);-webkit-padding-start:var(--chakra-space-4);-moz-padding-start:var(--chakra-space-4);padding-inline-start:var(--chakra-space-4);-webkit-padding-end:var(--chakra-space-10);-moz-padding-end:var(--chakra-space-10);padding-inline-end:var(--chakra-space-10);height:var(--chakra-sizes-10);-webkit-border-radius:var(--chakra-radii-md);-moz-border-radius:var(--chakra-radii-md);border-radius:var(--chakra-radii-md);border:1px solid;border-color:inherit;background:inherit}"})]})}},77181:function(e,t,a){a.d(t,{j:function(){return r},t:function(){return n}});const n=async(e,t)=>new Promise(((a,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=async n=>{var r;const i=new Image;i.src=null===(r=n.target)||void 0===r?void 0:r.result,i.onload=()=>{const n=document.createElement("canvas"),r=n.getContext("2d");n.width=i.width,n.height=i.height,r.drawImage(i,0,0);const s=r.getImageData(0,0,n.width,n.height).data.length/(n.width*n.height),o=t/s,l=Math.sqrt(o);let c,d;i.width>=i.height?(c=l,d=i.height*(l/i.width)):(d=l,c=i.width*(l/i.height)),n.width=c,n.height=d,r.drawImage(i,0,0,c,d),n.toBlob((t=>{if(t){const r=new File([t],e.name,{type:e.type});a({base64:n.toDataURL(),file:r})}}),e.type)}},r.onerror=e=>n(e)}));function r(e){return new Promise(((t,a)=>{const n=new Image;n.onload=()=>{const e=document.createElement("canvas"),a=e.getContext("2d");e.width=n.width,e.height=n.height,a.drawImage(n,0,0);const r=a.getImageData(0,0,e.width,e.height).data,i=Math.floor(.3*n.height);let s=[];for(let t=n.height-i;t<n.height;t++)for(let a=0;a<n.width;a++){const n=4*(t*e.width+a),[i,o,l]=[r[n],r[n+1],r[n+2]];0===i&&o>=128&&0===l&&s.push({x:a,y:t})}if(s.length<2)return t(0);const o=s[0],l=s[s.length-1],c=Math.atan2(l.y-o.y,l.x-o.x)*(180/Math.PI);t(c+180)},n.onerror=e=>a(e),n.src=e}))}}}]);