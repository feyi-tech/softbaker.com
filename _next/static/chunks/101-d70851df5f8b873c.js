(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[101],{39661:function(e,t,i){"use strict";i.d(t,{i:function(){return n}});const n=e=>e||"other_tools_data"},63183:function(e,t,i){"use strict";var n=i(67294),o=i(11802),r=i(33775),a=i(86455),s=i.n(a),l=i(53754),c=i(39661);t.Z=e=>{let{toolId:t,collectionName:i,dynamicToolId:a,historyProps:d,dataSourceProps:u,publishTexts:h,fileFields:g=[],updatableFields:p=[],actionOnlyFields:m=[]}=e;const{user:f,signIn:x,showWallet:v,balanceInUsd:w,unconfirmedDepositsCount:y,balancePendingInUsd:b,getDownloadType:j,deposit:S}=(0,r.Pd)(),[C,T]=(0,n.useState)(),{addHistory:k,clearHistory:D}=d,{selectedIsNew:I,selectedData:E,setSelectedData:A,createData:_,editData:B}=u,N=(e,i,n,r,a,l)=>{const c=I();j({renewSubscription:r,toolId:t,title:c||(null===E||void 0===E?void 0:E.is_freemium)?h.newTitle:h.updateTitle,removeFreemiumBeforeUpdate:!c&&!0===(null===E||void 0===E?void 0:E.is_freemium)&&!1===(null===a||void 0===a?void 0:a.is_freemium),updateMessage:c?void 0:h.updateMessage,freeTitle:h.freeTitle,freeMessage:h.freeMessage,paidTitle:h.paidTitle,paidMessage:h.paidMessage,isFreemium:null===E||void 0===E?void 0:E.is_freemium}).then((t=>{const d=c?t.is_freemium:(null===E||void 0===E?void 0:E.is_freemium)||!1;if(t.cost>w){if(T(!1),y>0)return s().fire({icon:"info",title:"Payment Error",text:"Your ".concat(y>1?"deposits":"deposit"," of approximately $").concat(b," is currently undergoing confirmations. Please try again later in 5 - 10 minutes after your ").concat(y>1?"deposits have":"deposit has"," been confirmed."),confirmButtonText:"OK"}).then((()=>{v(10)})),n(new Error(""));s().fire({icon:"error",title:"Payment Error",text:"You have insufficient balance! $".concat(t.cost," is needed. Fund your wallet with at least $").concat(t.cost,"."),showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Fund Wallet",cancelButtonText:"Cancel"}).then((e=>{e.isConfirmed&&S(t.cost,h.signInMessage,h.signUpMessage).then((()=>{s().fire({icon:"success",title:"Payment Successfull",text:"Your deposit was detected and will be confirmed soon.",showConfirmButton:!0,confirmButtonText:"OK"}),n(new Error(""))})).catch((e=>{s().fire({icon:"error",title:"Payment Error",text:e.message}),n(new Error(""))}))}))}else!function(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;T(!0),I()&&E?_({...E,...s||{},is_freemium:e},t).then((e=>{D(o.XA),k(e.id,e),i(e)})).catch((e=>{n(e)})):E?B({...E,...s||{},is_freemium:e,renewSubscription:!0===r},a).then((e=>{D(e.id),k(e.id,e),A(e),i(e)})).catch((e=>{n(e)})):n(new Error(h.noDataError))}(d,e,i,n,r,a,l)})).catch((e=>{n(e)}))};(0,n.useEffect)((()=>{if(f&&(0,l.Ze)("getType")){let t,i;try{t=(0,l.jF)("getSaveOptions")()}catch(e){}try{i=(0,l.jF)("otherData")()}catch(e){}N(f,(0,l.jF)("getType"),(0,l.Y6)("getType"),null===t||void 0===t?void 0:t.renewSubscription,null===t||void 0===t?void 0:t.serverOnlySaveData,i)}}),[f]);return{savingData:C,setSavingData:T,handleUpdateData:e=>{for(const d of Object.keys(e))if(g.includes(d)&&e[d])if(Array.isArray(e[d])){(0,l.GD)((0,l.$m)((0,c.i)(i),o.XA,"".concat(d,"_")));const n=[];for(var t=0;t<e[d].length;t++)e[d][t].length>0?((0,l.rp)((0,c.i)(i),e.id,"".concat(d,"_").concat(t),e[d][t]),n.push(d)):n.push("");p.includes(d)||(E||{}).id==o.XA?e[d]=n:E&&(e[d]=E[d])}else e[d]?((0,l.rp)((0,c.i)(i),e.id,d,e[d]),p.includes(d)||(E||{}).id==o.XA?e[d]=d:E&&(e[d]=E[d])):p.includes(d)||(E||{}).id==o.XA?e[d]="":E&&(e[d]=E[d]);else!p.includes(d)&&e[d]&&E&&(E||{}).id!=o.XA&&(e[d]=E[d]);const n=[],r=Object.keys(e);for(const i of r)m.includes(i)&&(n.push(i),delete e[i]);try{localStorage.setItem((0,l.Ci)((0,c.i)(i),o.XA),JSON.stringify({data:n,expiry:Date.now()+1e3}))}catch(s){localStorage.clear(),localStorage.setItem((0,l.Ci)((0,c.i)(i),o.XA),JSON.stringify({data:n,expiry:Date.now()+1e3}))}const a={...E||{},...e};k(a.id,a),A(a)},handlePublishData:(e,t,i)=>new Promise(((n,o)=>{f?N(f,n,o,e,t,i):((0,l.gz)("getType",n,o),(0,l.gz)("getSaveOptions",(()=>({renewSubscription:e,serverOnlySaveData:t})),(()=>{})),(0,l.gz)("otherData",(()=>i),(()=>{})),x(h.signInMessage,h.signUpMessage).then((()=>{})).catch((e=>{(0,l.Eu)("getType",e),o(e)})))}))}}},53348:function(e,t,i){"use strict";var n=i(36100),o=i(67294),r=i(33775),a=i(11802),s=i(53754),l=i(39661),c=i(23596);t.Z=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],h=arguments.length>6?arguments[6]:void 0,g=arguments.length>7?arguments[7]:void 0;const{user:p,authLoading:m,db:f,auth:x,createDoc:v,updateDoc:w,uploadFile:y}=(0,r.Pd)(),[b,j]=(0,o.useState)(),[S,C]=(0,o.useState)([]),[T,k]=(0,o.useState)({}),[D,I]=(0,o.useState)(!0),[E,A]=(0,o.useState)(""),[_,B]=(0,o.useState)(),[N,P]=(0,o.useState)({}),O=(0,o.useCallback)((()=>(null===_||void 0===_?void 0:_.id)==a.XA),[_]);(0,o.useEffect)((()=>{O()&&j(_),_&&!N&&P(_)}),[_]),(0,o.useEffect)((()=>{}),[b]);const U=e=>{e.message?A(e.message):A("An error occurred. Please try again later or contact support.")};(0,o.useEffect)((()=>{if(!f)return;if(!(f instanceof n.gg))return;if(!p||!h&&!g)return C([]),k({}),m||I(!1),void(window.unsubscribeDocs&&window.unsubscribeDocs());I(!0);const t=(0,n.hJ)(f,h||"other_tools_data"),i=p.uid,o=h?"other_tools"==h?(0,n.IO)(t,(0,n.ar)("authorId","==",i),(0,n.ar)("is_static","==",!1),(0,n.Xo)("updatedAt","desc"),(0,n.b9)(e)):(0,n.IO)(t,(0,n.ar)("authorId","==",i),(0,n.Xo)("updatedAt","desc"),(0,n.b9)(e)):(0,n.IO)(t,(0,n.ar)("authorId","==",i),(0,n.ar)("toolId","==",g),(0,n.Xo)("updatedAt","desc"),(0,n.b9)(e)),r=(0,n.cf)(o,(e=>{const t=[],i={};var n=0;e.forEach((e=>{const o={...e.data(),id:e.id};t.push(o),i[o.id]=n,n++})),C(t),k(i),I(!1)}),(e=>{U(e),I(!1)}));return window.unsubscribeDocs=r,()=>r()}),[f,p,x,m,h,g]),(0,o.useEffect)((()=>{b&&Object.keys(T).includes(b.id)?(O()&&B(S[T[b.id]]),j(null)):_&&Object.keys(T).includes(_.id)&&B(S[T[_.id]])}),[T,b]);const Z=e=>((0,s.GD)((0,s.GX)((0,l.i)(h),a.XA)),new Promise(((i,n)=>{if(!f)return n(new Error("Storage awaiting initialization"));let o;!b||e?(o={...e||t(),id:a.XA},j(o)):o={...b},e&&(B(null),B(o)),i(o)}))),M=e=>new Promise(((t,i)=>{if(b){let i={...b,...e};j(i),t(i)}else Z().then((i=>{let n={...i,...e,id:i.id};j(n),t(n)})).catch((e=>{i(e)}))})),z=async(e,t)=>new Promise(((i,n)=>{if(0==u.length)i(e);else{const l=[];for(let i=0;i<u.length;i++){const n=e[u[i]];if(n&&n.file&&n.pathFormatNoExt){var o=n.file.name.split("."),r=o[o.length-1];const e="".concat(n.pathFormatNoExt.replace(a.F3,(0,s.lY)(8))).toLowerCase(),d=("".concat(e,".").concat(r).toLowerCase(),(0,c.Ll)(e,n.base64Url));l.push({id:u[i],file:d.image,fileName:"".concat(e,".").concat(r),dir:"users/".concat(t.uid)})}else l.push({id:u[i]})}if(l.length>0){if(!t)return n(new Error("Please sign in"));(0,c.n5)(t,l,[],!1).then((t=>{for(var n=0;n<t.length;n++)e[t[n].id]=t[n].url;i(e)})).catch((e=>{n(e)}))}}})),J=(e,t)=>new Promise((async(i,o)=>{if(!f)return o(new Error("Storage awaiting initialization"));if(!t)return o(new Error("Please sign in first."));if(!e)return o(new Error("No new data to submit"));if(!h&&!g)return o(new Error("No collection name and dynamic tool id too."));const r=h||"other_tools_data",c=(0,n.JU)((0,n.hJ)(f,r)).id.toUpperCase(),u={...e,authorId:"uid",is_freemium:void 0!==e.is_freemium&&e.is_freemium,createdAt:"current_time",updatedAt:"current_time"};delete u.id;const p=await z(u,t);v(c,p,t,h,g).then((()=>{const e={...p,id:c,authorId:t.uid,createdAt:new Date,updatedAt:new Date};if(O()&&B(e),j(e),d.length>0){const t=[];for(const e of d)if(Array.isArray(u[e]))for(var n=0;n<u[e].length;n++)u[e][n]&&u[e][n].length>0&&t.push((0,s.xY)((0,l.i)(h),a.XA,c,"".concat(e,"_").concat(n)));else u[e]&&u[e].length>0&&t.push((0,s.xY)((0,l.i)(h),a.XA,c,e));Promise.all(t).then((()=>{i(e)})).catch((t=>{i(e)}))}else i(e)})).catch((e=>{console.error("Error creating data:",e),o(new Error(e.error||e.message))}))})),F=(e,t)=>{const n=e;return new Promise(((o,r)=>{if(!f)return r(new Error("Storage awaiting initialization"));const c={};for(const e of i)N[e]!=n[e]&&(c[e]=n[e]);const d=localStorage.getItem((0,s.Ci)((0,l.i)(h),a.XA));var u=[];if(d){const e=JSON.parse(d);e.expiry>=Date.now()&&(u=e.data),localStorage.removeItem((0,s.Ci)((0,l.i)(h),a.XA))}for(const e of u)c[e]=!0;if(n.renewSubscription&&(c.renewSubscription=!0),0==Object.keys(c).length&&!t)return o(e);c.is_freemium=e.is_freemium,h?c.updatedAt="current_time":(delete c.id,(null===t||void 0===t?void 0:t.id)&&delete t.id),P(e),w(e.id,{...c,...t||{}},h,g).then((()=>{o({...e,...t||{},updatedAt:new Date})})).catch((e=>{r(new Error(e.error||e.message))}))}))},L=e=>{if(d.length>0){const i=[];for(const n of d)if(Array.isArray(e[n]))for(var t=0;t<e[n].length;t++)e[n][t]&&e[n][t].length>0&&i.push((0,s.G$)((0,l.i)(h),e.id||a.XA,"".concat(n,"_").concat(t)));else e[n]&&e[n].length>0&&i.push((0,s.G$)((0,l.i)(h),e.id||a.XA,n))}},X=e=>new Promise(((e,t)=>{e()})),W=e=>new Promise((async(t,i)=>{try{L(e),await X(e),t()}catch(n){i(n)}})),Y=e=>new Promise(((t,i)=>{if(e.id==(null===b||void 0===b?void 0:b.id))return j(null),B(null),t();if(!f)return i(new Error("Storage awaiting initialization"));const o=(0,n.JU)(f,"".concat(h||"other_tools_data","/").concat(e.id));W(e).then((()=>{(0,n.oe)(o).then((()=>{t()})).catch((e=>{console.error("Error updating data:",e),U(e),i(e)}))})).catch((e=>{console.error("Error updating data:",e),U(e),i(e)}))}));return{dataList:S,newData:b,setNewData:j,selectedIsNew:O,loadingData:D,dataError:E,selectedData:_,setSelectedData:B,initData:Z,updateNewData:M,createData:J,editData:F,deleteData:Y}}},99555:function(e,t,i){"use strict";var n=i(67294);t.Z=e=>{const[t,i]=(0,n.useState)({});return{addHistory:(n,o)=>{try{const a=t[n];if(!a||JSON.stringify(a.timeline[a.timeline.length-1])!=JSON.stringify(o)){var r;const s=[...null!==(r=null===a||void 0===a?void 0:a.timeline)&&void 0!==r?r:[],o].slice(-e),l={...t,[n]:{currentIndex:s.length-1,totalUpdates:((null===a||void 0===a?void 0:a.totalUpdates)||0)+1,timeline:s}};i(l)}}catch(a){console.error("Error adding history:",a)}},clearHistory:e=>{try{delete t[e],i(t)}catch(n){console.error("Error clearing history:",n)}},clearAllHistory:()=>{try{i({})}catch(e){console.error("Error clearing history:",e)}},undo:e=>{const n=t[e];if((null===n||void 0===n?void 0:n.currentIndex)>0){const r=n.currentIndex-1,a=n.timeline[r];try{return i({...t,[e]:{currentIndex:r,totalUpdates:n.totalUpdates,timeline:n.timeline}}),a}catch(o){console.error("Error undoing history:",o)}}},redo:e=>{const n=t[e];if((null===n||void 0===n?void 0:n.currentIndex)<n.timeline.length-1){const r=n.currentIndex+1,a=n.timeline[r];try{return i({...t,[e]:{currentIndex:r,totalUpdates:n.totalUpdates,timeline:n.timeline}}),a}catch(o){console.error("Error redoing history:",o)}}},getCurrentTimeline:e=>{const i=t[e];if((null===i||void 0===i?void 0:i.currentIndex)>-1)return i.timeline[i.currentIndex]},getCurrentTimelineData:e=>{const i=t[e];if(i){const e=i.totalUpdates-i.timeline.length+(i.currentIndex+1);return{hasUndo:i.currentIndex>0,hasRedo:i.currentIndex<i.timeline.length-1,totalUpdates:e}}return{hasUndo:!1,hasRedo:!1,totalUpdates:0}}}}},61401:function(e,t,i){"use strict";var n=i(86455),o=i.n(n),r=i(11802);t.Z=async e=>{if(!e)return void o().fire({icon:"error",title:"Authentication required",text:"You're not signed in"});const{value:t}=await o().fire({title:"Enter the user email",input:"email",inputLabel:"Email address",inputPlaceholder:"Enter the user email address",showCancelButton:!0,confirmButtonText:"Submit",preConfirm:e=>(e||o().showValidationMessage("Please enter the user email address"),e)});if(t){o().fire({title:"Syncing balance...",text:"Please wait",allowOutsideClick:!1,didOpen:()=>{o().showLoading()}});try{const i=await e.getIdToken(),n=await fetch("".concat(r.Lu,"/update_balance"),{method:"POST",headers:{Authorization:i,"Content-Type":"application/json"},body:JSON.stringify({coins:["bnb"],recipientEmail:t})});if(!n.ok)throw new Error("Failed to sync user balance");const a=await n.json();o().close(),o().fire({icon:"success",title:"Success",text:a.message||"User balance synced successfully!"})}catch(i){o().close(),o().fire({icon:"error",title:"Error",text:i.message||"An error occurred while syncing user balance"})}}}},65380:function(e,t,i){"use strict";i.d(t,{z:function(){return n}});const n=e=>{switch(e){case"error":return"#e53e3e";case"info":case"loading":default:return"#3182ce";case"warning":return"#dd6b20";case"success":return"#38a169"}}},73386:function(e,t,i){"use strict";i.d(t,{Z:function(){return y}});var n=i(85893),o=i(45161),r=i(93717),a=i(34292),s=i(71293),l=i(67918),c=i(85461),d=i(65380),u=i(55154),h=i(33775),g=i(38118),p=i(67294),m=i(7963),f=i(53754);var x=e=>{const t=(0,m.p)();(0,p.useEffect)((()=>{const i=i=>{if("PrintScreen"===i.key||i.ctrlKey&&"p"===i.key)if((()=>{const t=document.querySelectorAll(e);return t[0]&&"hidden"!==t[0].style.visibility})()){i.preventDefault(),(0,f.K1)(".");try{i.cancelBubble=!0,i.stopImmediatePropagation()}catch(n){}document.querySelectorAll(e).forEach((e=>{e.style.visibility="hidden"})),t({description:"Screenshot not taken. Try again.",status:"error",duration:4e3,isClosable:!0})}else setTimeout((()=>{document.querySelectorAll(e).forEach((e=>{e.style.visibility="visible"}))}),200)};return window.addEventListener("keyup",i),()=>{window.removeEventListener("keyup",i)}}),[e])};var v=e=>{let{...t}=e;return null},w=i(27707);var y=e=>{let{tool:t,maxHeaderWidth:i,hideContents:p,children:m}=e;const f=(0,o.ff)("/res/images/patterns/herringbone.png","/res/images/patterns/herringbone-dark.png"),{group_link:y,balancePendingInUsd:b}=(0,h.Pd)(),{showTutorial:j}=(0,w.Z)();return x(".sp-view"),t?(0,n.jsx)(r.k,{id:"form-container",w:"100%",height:"100%",overflowY:"auto",justifyContent:"center",mt:"0px !important",backgroundImage:"url(".concat(f,")"),bgRepeat:"repeat",bgSize:"auto",bgPosition:"center",position:"relative",children:(0,n.jsxs)(r.k,{w:"100%",pos:"absolute",justifyContent:"center",h:"auto",flexDirection:"column",px:{base:"1rem",md:"2.375rem"},pt:{base:"2rem",md:"2.375rem"},pb:"15rem !important",children:[p?null:(0,n.jsxs)(l.Z,{w:"100%",maxW:i,h:"auto",mb:"0.5rem",mx:"auto",children:[(0,n.jsxs)(a.U,{flexWrap:"wrap",justifyContent:"space-between",children:[t.mobileVideoUrl||t.desktopVideoUrl||t.youtube?(0,n.jsx)(c.Z,{onClick:()=>{j(t.id)},bg:(0,d.z)("info"),rightIcon:(0,n.jsx)(u.KoQ,{}),children:"Tutorial"}):null,(0,n.jsx)(c.Z,{as:"a",href:y,target:"_blank",bg:"#075E54",rightIcon:(0,n.jsx)(u.xpo,{}),children:"Join Group"})]}),b>0?(0,n.jsxs)(s.x,{color:"green.500",mt:"0.5rem",as:"div",fontSize:"12px",alignSelf:"flex-start",fontStyle:"italic",fontWeight:"bold",children:[(0,n.jsx)(u.Gi7,{style:{display:"inline"}}),"\xa0Your recent deposit of around $",(Math.floor(b||2523.23)/100).toFixed(2)," worth of BNB is currently being confirmed, and will be credited to your balance within 2 minutes."]}):null]}),(0,n.jsx)(v,{my:4,mx:"auto"}),m,(0,n.jsx)(v,{my:4,mx:"auto"})]})}):(0,n.jsx)(g.Z,{title:"Loading form..."})}},5397:function(e,t,i){"use strict";i.d(t,{Z:function(){return we}});var n=i(85893),o=i(11802),r=i(51908),a=i(67294),s=i(7963),l=i(45161),c=i(14225),d=i(36948),u=i(71293),h=i(48783),g=i(34292),p=i(55154),m=i(98303),f=i(93717),x=i(57747),v=i(96918);var w=e=>{let{id:t,sender:i,content:o,selected:r,onClick:a}=e;return(0,n.jsxs)(x.xu,{p:2,bg:r?(0,v.Z)("cardBg.light","cardBg.dark"):"transparent",_hover:{bg:(0,v.Z)("cardBg.light","cardBg.dark"),cursor:"pointer"},onClick:a,children:[(0,n.jsx)(u.x,{as:"div",fontWeight:r?"bold":"normal",children:i}),(0,n.jsx)(u.x,{as:"div",color:"gray.500",children:o})]},t)},y=i(51857),b=i.n(y),j=i(20967),S=i(89993),C=i(6089),T=i(22757),k=i(24880),D=i(66712),I=i(91170),E=i(4040),A=i(78230),_=i(65380),B=i(56691),N=i(31167);var P=e=>{let{title:t,subTitle:i,logoUrl:o,onBackClicked:r,onMenuItemClicked:s,onMenuOptionState:l,onMenuOptionBadge:c,menu:w,bg:y,background:P,color:O,height:U,titleStyle:Z,...M}=e;const[z,J]=(0,a.useState)([]),[F,L]=(0,a.useState)([]),{isOpen:X,onOpen:W,onClose:Y,onToggle:H}=(0,j.q)(),R=(0,m.S)({base:!0,md:!1}),q=(0,v.Z)("cardBg.light","cardBg.dark"),G=(0,v.Z)("cardBgHover.light","cardBgHover.dark");(0,a.useEffect)((()=>{const e=[],t=[];if(w&&w.length>0){for(var i=0;i<w.length;i++){const n=w[i];R&&n.onlyDesktop||!R&&n.onlyMobile||(V(n,w.length,i)?e.push(n):t.push(n))}J(e),L(t)}}),[w,R]);const V=(e,t,i)=>e.showAlways||e.showIfRoom&&i!==t-1;return(0,n.jsxs)(f.k,{display:"flex !important",h:U||"40px",px:2,...M,justify:"space-between",align:"center",mb:0,bg:y||P||"transparent",children:[(0,n.jsxs)(f.k,{align:"center",display:"flex !important",children:[r?(0,n.jsx)(S.h,{"aria-label":"Toggle Sidebar",icon:(0,n.jsx)(d.J,{as:p.bUI}),onClick:r,variant:"ghost",size:"sm",mr:2}):null,o?(0,n.jsx)(N.Z,{as:w&&w.length>0?x.xu:N.Z,href:"/",onClick:H,children:(0,n.jsx)(C.E,{src:o,alt:t||"",width:"21px",height:"21px",mr:2})}):null,(0,n.jsxs)(h.g,{justifyContent:"flex-start",alignItems:"flex-start",gap:"0 !important",onClick:H,cursor:"pointer",children:[(0,n.jsx)(T.X,{size:"sm",color:O,mb:"0px !important",...Z||{},children:t}),i?(0,n.jsx)(u.x,{as:"div",fontSize:"11px",fontWeight:"600",color:O,m:"0px !important",children:i}):null]})]}),w&&w.length>0?(0,n.jsxs)(f.k,{align:"center",display:"flex !important",children:[z.map(((e,t)=>{var i,o,r,a;return l&&"hide"!=l(e.id)?(0,n.jsxs)(x.xu,{position:"relative",display:"inline-block !important",opacity:["disable","loading"].includes(l(e.id))?"".concat(.2," !important"):1,className:["disable","loading"].includes(l(e.id))?"cursor-not-allowed-deep":"",onClick:()=>{s&&!["disable","loading"].includes(l(e.id))&&s(e.id)},children:[(0,n.jsxs)(x.xu,{pos:"relative",ml:2,children:[(0,n.jsx)(S.h,{title:e.title,"aria-label":e.title,icon:e.icon,colorScheme:O,variant:"ghost",size:"sm"},e.id),"loading"==l(e.id)?(0,n.jsx)(g.U,{justifyContent:"center",alignItems:"center",w:"100%",h:"100%",opacity:"1",fontSize:"xs",position:"absolute",top:"0",left:"0",m:"0px !important",p:"0px !important",children:(0,n.jsx)(B.Z,{type:B.Z.TYPES.tailSpin,color:(0,_.z)(c?null===(i=c(e.id))||void 0===i?void 0:i.status:null),width:"1.3rem",height:"1.3rem"})}):null]}),c&&((null===(o=c(e.id))||void 0===o?void 0:o.counts)||0)>0?(0,n.jsx)(k.C,{rounded:"7px",background:"".concat((0,_.z)(null===(r=c(e.id))||void 0===r?void 0:r.status)," !important"),color:"#fff",fontSize:"xs",position:"absolute",top:"5px",right:"5px",transform:"translate(50%, -50%)",children:(null===(a=c(e.id))||void 0===a?void 0:a.counts)||0}):null]},"menu_item_".concat(e.id)):null})),F.length>0?(0,n.jsxs)(D.v,{isOpen:X,onClose:Y,children:[(0,n.jsx)(I.j,{onClick:H,as:S.h,color:O,"aria-label":"Menu",icon:(0,n.jsx)(d.J,{as:X?p.aHS:p.EAB}),variant:"ghost",size:"sm"}),(0,n.jsx)(E.q,{bg:q,id:"header",zIndex:"10",children:F.map(((e,t)=>{var i,o,r,a;return l&&"hide"!=l(e.id)?(0,n.jsx)(A.s,{title:e.title,"aria-label":e.title,opacity:["disable","loading"].includes(l(e.id))?"".concat(.2," !important"):1,className:["disable","loading"].includes(l(e.id))?"cursor-not-allowed-deep":"",bg:q,_hover:{bg:G},onClick:()=>{s&&"disable"!=l(e.id)&&s(e.id)},children:(0,n.jsxs)(g.U,{justifyContent:"space-between",alignItems:"center",w:"100%",children:[(0,n.jsxs)(g.U,{justifyContent:"flex-start",alignItems:"center",children:[e.icon?(0,n.jsx)(S.h,{as:"div","aria-label":e.title,icon:e.icon,variant:"ghost",size:"sm"}):null,(0,n.jsx)(u.x,{as:"div",mb:"0 !important",ml:e.icon?2:0,color:O,children:e.title}),c&&((null===(i=c(e.id))||void 0===i?void 0:i.counts)||0)>0?(0,n.jsx)(k.C,{rounded:"7px",background:"".concat((0,_.z)(null===(o=c(e.id))||void 0===o?void 0:o.status)," !important"),color:"#fff",fontSize:"xs",transform:"translate(50%, -50%)",children:(null===(r=c(e.id))||void 0===r?void 0:r.counts)||0}):null]}),"loading"==l(e.id)?(0,n.jsx)(g.U,{justifyContent:"center",alignItems:"center",justifySelf:"flex-end",opacity:"1",cursor:"not-allowed !important",fontSize:"xs",m:"0px !important",p:"0px !important",children:(0,n.jsx)(B.Z,{type:B.Z.TYPES.tailSpin,color:(0,_.z)(c?null===(a=c(e.id))||void 0===a?void 0:a.status:null),width:"1.3rem",height:"1.3rem"})}):null]})},e.id):null}))})]}):null,(0,n.jsx)(b(),{id:"7c57b7a8495bd74",children:".cursor-not-allowed-deep.jsx-7c57b7a8495bd74{cursor:not-allowed}.cursor-not-allowed-deep.jsx-7c57b7a8495bd74 *.jsx-7c57b7a8495bd74{cursor:not-allowed}"})]}):null]})};var O=()=>{const e=(0,m.S)({base:!0,md:!1});return(0,n.jsx)(f.k,{w:"100%",h:"100%",px:2,bg:e?"white":"gray.50",p:4,flex:1,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:e?"lg":"none",rounded:e?"md":"none",children:(0,n.jsx)(u.x,{as:"div",children:"Select a message to view"})})};var U=e=>{let{title:t,subTitle:i,chats:o,isLoadingChats:r,logoUrl:a,menu:s,singleChatMenu:l,onMenuItemClicked:c,noChatSelectedContent:d,children:u,headerBg:h,headerColor:p,headerHeight:y,mobileActionButton:b,noChatToListView:j,onChatTitle:S,renderChatItem:C,onMenuOptionState:T,onMenuOptionBadge:k,selectedMessage:D,setSelectedMessage:I}=e;const E=(0,m.S)({base:!0,md:!1}),A=(0,v.Z)("dividerColor.light","dividerColor.dark"),_=(0,v.Z)("cardBgHover.light","cardBgHover.dark"),N=(0,v.Z)("loadingColor.light","loadingColor.dark");return(0,n.jsxs)(f.k,{h:"100vh",maxH:"100vh",overflowY:"hidden",w:"100%",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",children:[E&&D?null:(0,n.jsxs)(x.xu,{overflowY:"hidden",display:"flex !important",flexDirection:"column",width:{base:"100%",md:"300px"},borderRightWidth:{base:"0px",md:"1px"},boxShadow:"lg",borderColor:A,bg:_,children:[(0,n.jsx)(P,{w:"100%",height:y||"50px",borderRight:"1px",borderColor:A,title:t,subTitle:i,logoUrl:a,menu:s,bg:h||void 0,color:p||void 0,onMenuItemClicked:c,onMenuOptionState:T,onMenuOptionBadge:k}),(0,n.jsxs)(x.xu,{px:2,pt:"0.5rem",w:"100%",h:"calc(100% - ".concat(y||"50px",")"),pos:"relative",overflowY:"auto",children:[0==o.length?j:(0,n.jsxs)(n.Fragment,{children:[o.map((e=>C?(0,n.jsxs)(x.xu,{children:[C(e),(0,n.jsx)(x.xu,{bg:A,height:"1px",width:"100%"})]},e.id):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w,{...e,selected:(null===D||void 0===D?void 0:D.id)===e.id,onClick:()=>I(e)},e.id),(0,n.jsx)(x.xu,{bg:A,height:"1px",width:"100%"})]}))),(0,n.jsx)(x.xu,{h:"80px"})]}),r?(0,n.jsx)(g.U,{w:"100%",p:"15px",justifyContent:"center",alignItems:"center",children:(0,n.jsx)(B.Z,{type:B.Z.TYPES.threeDots,width:"2rem",height:"2rem",color:N})}):null]})]}),!E||D?(0,n.jsxs)(x.xu,{pos:"relative",width:{base:"100%",md:"calc(100% - 300px)"},children:[D?(0,n.jsx)(P,{title:S&&D?S(D):null,subTitle:E?i:null,onBackClicked:()=>{I(null)},menu:l,bg:h||void 0,color:p||void 0,w:"100%",height:y||"50px",onMenuItemClicked:c,onMenuOptionState:T,onMenuOptionBadge:k,titleStyle:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:{base:"130px",md:"250px",lg:"300px"}}}):null,(0,n.jsx)(x.xu,{w:"100%",h:"calc(100% - ".concat(D?y||"50px":"0px",")"),overflow:"hidden",children:D?u:d||(0,n.jsx)(O,{})})]}):null,!D&&E&&b?b:null]})},Z=i(86455),M=i.n(Z),z=i(11163);var J=e=>{let{title:t,description:i,icon:o,onActionButtonClicked:r}=e;const s=(0,m.S)({base:!0,md:!1}),l=(0,a.useMemo)((()=>r?(0,n.jsxs)(c.z,{size:"lg",borderRadius:"full",colorScheme:"teal",zIndex:"sticky",onClick:()=>{r()},children:[(0,n.jsx)(d.J,{as:p.wEH,mr:2}),(0,n.jsx)(u.x,{as:"div",mb:"0 !important",children:"Create Now"})]}):null),[r]);return(0,n.jsxs)(h.g,{w:"100%",h:"100%",px:2,bg:(0,v.Z)("cardBg.light","cardBg.dark"),p:4,flex:1,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:s?"lg":"none",rounded:s?"md":"none",children:[(0,n.jsx)(x.xu,{w:{base:"5rem",md:"10rem"},children:o}),(0,n.jsx)(u.x,{as:"div",fontSize:"3rem",children:t}),(0,n.jsx)(u.x,{as:"div",textAlign:"center",maxW:"600px",children:i}),l]})};var F=e=>{let{selected:t,onClick:i,itemName:o,itemTime:r,itemDescription:a,itemBadge:s}=e;return(0,n.jsxs)(x.xu,{w:"100%",overflow:"hidden",p:2,bg:t?(0,v.Z)("cardBg.light","cardBg.dark"):"transparent",_hover:{bg:(0,v.Z)("cardBg.light","cardBg.dark"),cursor:"pointer"},display:"flex",flexDirection:"column",onClick:i,children:[(0,n.jsx)(u.x,{as:"div",mb:"0px !important",fontWeight:t?"bold":"normal",children:o}),(0,n.jsxs)(x.xu,{children:[(0,n.jsx)(u.x,{as:"div",mb:"0px !important",color:"gray.500",noOfLines:{base:1,md:2},children:a}),(0,n.jsxs)(g.U,{justifyContent:"space-between",children:[(0,n.jsx)(k.C,{children:s}),(0,n.jsx)(u.x,{as:"div",mb:"0px !important",color:"gray.500",fontStyle:"italic",children:r})]})]})]})},L=i(53754),X=i(33775),W=i(69688),Y=i(92709),H=i(61401),R=i(27707);const q=1,G=2,V=3,$=4,K=5,Q=6,ee=7,te=8,ie=9,ne=10,oe=11,re=12,ae=13,se=14,le=15,ce=16,de=17,ue=18,he=20,ge=[{id:q,title:"Create New",icon:(0,n.jsx)(p.wEH,{}),showAlways:!0,onlyDesktop:!0},{id:G,title:"Track/Fund Wallet",icon:(0,n.jsx)(p.OZg,{}),showAlways:!0},{id:V,title:"Softbaker Home",icon:(0,n.jsx)(p.xng,{})},{id:K,title:"Tutorial",icon:(0,n.jsx)(p.KoQ,{})},{id:ae,title:"Softbaker Tools",icon:(0,n.jsx)(p.CP_,{})},{id:$,title:"Contact US",icon:(0,n.jsx)(p.SRX,{})},{id:ce,title:"Join Whatsapp Group",icon:(0,n.jsx)(p.xpo,{})},{id:re,title:"Sign In",icon:(0,n.jsx)(p.IPB,{})},{id:Q,title:"Sign Out",icon:(0,n.jsx)(p.fHX,{})},{id:se,title:"Switch Theme",icon:(0,n.jsx)(p.TLr,{})},{id:le,title:"Switch Theme",icon:(0,n.jsx)(p.Mei,{})},{id:ue,title:"Tool Editor",icon:(0,n.jsx)(p._TT,{}),showAlways:!1},{id:he,title:"Sync User Balance",icon:(0,n.jsx)(p.lbL,{}),showAlways:!1}],pe=[{id:de,title:"Fund Wallet",icon:(0,n.jsx)(p.Dfw,{}),showAlways:!1},{id:oe,title:"Save Update",icon:(0,n.jsx)(p.TvB,{}),showAlways:!0},{id:ie,title:"Undo",icon:(0,n.jsx)(p.wXW,{}),showAlways:!0},{id:ne,title:"Redo",icon:(0,n.jsx)(p.WLu,{}),showAlways:!0},{id:ee,title:"Copy as New",icon:(0,n.jsx)(p.esY,{}),showAlways:!1},{id:te,title:"Delete",icon:(0,n.jsx)(p.Xm5,{}),showAlways:!1}];var me=e=>{let{tool:t,form:i,historyProps:r,dataSourceProps:m,savingData:f,setSavingData:x,publishTexts:w,handlePublishData:y,getItemName:b,getItemTime:j,getItemDescription:S,getItemBadge:C,onOverWriteCopiedData:T}=e;const k=(0,s.p)(),D=(0,z.useRouter)(),{colorMode:I,toggleColorMode:E}=(0,l.If)(),{auth:A,user:_,signIn:B,signOut:N,showWallet:P,deposit:O,balanceInUsd:Z,contact_link:me,group_link:fe}=(0,X.Pd)(),{showTools:xe,showTutorial:ve}=(0,R.Z)(),{getTool:we}=(0,X.b5)(),ye=(0,W.Z)(),{addHistory:be,clearHistory:je,clearAllHistory:Se,undo:Ce,redo:Te,getCurrentTimeline:ke,getCurrentTimelineData:De}=r,{dataList:Ie,newData:Ee,selectedIsNew:Ae,setNewData:_e,loadingData:Be,dataError:Ne,selectedData:Pe,setSelectedData:Oe,initData:Ue,updateNewData:Ze,deleteData:Me}=m;(0,a.useEffect)((()=>{Ne&&k({description:Ne,status:"error",duration:4e3,isClosable:!0})}),[Ne]);const ze=()=>{Ue().then((e=>{Oe(null),Oe(e)})).catch((e=>{M().fire({icon:"error",text:e.message})}))},Je=(0,a.useMemo)((()=>(0,n.jsxs)(c.z,{pos:"fixed",bottom:4,right:4,size:"lg",borderRadius:"full",colorScheme:"teal",zIndex:"sticky",onClick:()=>{ze()},children:[(0,n.jsx)(d.J,{as:p.wEH,mr:2}),(0,n.jsx)(u.x,{as:"div",mb:"0 !important",children:w.createButtonText})]})),[ze]),Fe=(0,v.Z)("cardBg.light","cardBg.dark"),Le=(0,a.useMemo)((()=>(0,n.jsxs)(h.g,{w:"100%",h:"auto",px:2,bg:Fe,p:4,flex:1,display:"flex",alignItems:"center",justifyContent:"center",children:[(0,n.jsx)(g.U,{w:{base:"5rem",md:"10rem"},justifyContent:"center",alignItems:"flex-start",children:(0,n.jsx)(p.AFA,{size:"3rem"})}),(0,n.jsx)(u.x,{as:"div",textAlign:"center",children:w.noChatToListMessage})]})),[ze,Fe]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(U,{isLoadingChats:Be,title:t.name,logoUrl:"/logo.png",subTitle:_?(0,n.jsxs)(u.x,{as:"div",p:"0px !important",m:"0px !important",fontWeight:"bold",children:["Balance: ",(0,n.jsxs)(u.x,{as:"div",color:"green.500",p:"0px !important",m:"0px !important",display:"inline",children:["$",(0,L.xz)(Z)]})]}):null,headerBg:(0,v.Z)("navbarBg.light","navbarBg.dark"),headerHeight:"55px",menu:ge,singleChatMenu:pe,onMenuItemClicked:e=>{if(e!=ue)if(e!=he)if(e!=q)if(e!=G)if(e!=de)if(e!=V)if(e!=ae)if(e!=K)if(e!=$)if(e!=ce)if(e!=re)if(e!=Q)if(e!=se&&e!=le){if(e==ee&&Pe){const e=T({...Pe});Ze(e).then((e=>{Oe(e);ke(o.XA)||(e.id=o.XA,be(e.id,e))})).catch((e=>{M().fire({icon:"error",text:e.message})}))}if(e==oe&&y().then((()=>{x(!1),k({description:"Successfully saved.",status:"success",duration:4e3,isClosable:!0})})).catch((e=>{x(!1),((null===e||void 0===e?void 0:e.message)||"").length>0&&M().fire({icon:"error",title:"Failed to save. Try again later.",text:e.message})})),e==ie&&Pe){const e=Ce(Pe.id);Oe(e)}if(e==ne&&Pe){const e=Te(Pe.id);Oe(e)}if(e==te){if(!Pe)return;Ae()?(je(Pe.id),Me(Pe).catch((e=>{M().fire({icon:"error",text:e.message})}))):M().fire({icon:"warning",text:w.deleteWarning,cancelButtonText:"No",confirmButtonText:"Yes",showCancelButton:!0}).then((e=>{e.isConfirmed&&(je(Pe.id),Me(Pe).then((()=>{Oe(null)})).catch((e=>{M().fire({icon:"error",text:e.message})})))}))}}else E();else A&&M().fire({icon:"warning",text:"Are you sure you want to sign out?",confirmButtonText:"Yes",cancelButtonText:"No",showCancelButton:!0}).then((e=>{e.isConfirmed&&N().then((()=>{Se(),_e(null),Oe(null),k({description:"You're now signed out",status:"success",duration:4e3,isClosable:!0})})).catch((()=>{k({description:"Failed to signout",status:"error",duration:4e3,isClosable:!0})}))}));else B(w.signInMessage,w.signUpMessage).then((e=>{})).catch((e=>{((null===e||void 0===e?void 0:e.message)||"").length>0&&M().fire({icon:"error",title:"Authentication Error",text:e.message})}));else fe&&(location.href=fe);else me&&(location.href=me);else{const e=we(t.id);(null===e||void 0===e?void 0:e.youtube)||(null===e||void 0===e?void 0:e.mobileVideoUrl)||(null===e||void 0===e?void 0:e.desktopVideoUrl)?ve(t.id):M().fire({icon:"info",title:"No Tutorial Yet",text:"No tutorial has been uploaded yet for this tool. This tool is easy to use though. Just try it out."})}else xe(t.id);else D.push("/");else O(o.Jo,null,null);else P(o.Jo);else ze();else(async()=>{(0,H.Z)(_).then((e=>{})).catch((e=>{}))})();else D.push("/tool-editor")},noChatToListView:Le,noChatSelectedContent:(0,n.jsx)(J,{title:t.name,description:t.description||"",icon:t.icon&&"string"===typeof t.icon?Y.Z[t.icon]?Y.Z[t.icon].element({size:"100%"}):(0,n.jsx)(p.sYB,{size:"100%"}):t.icon,dataSize:Ie.length,isLoading:Be,onActionButtonClicked:ze}),onChatTitle:e=>{let t;try{t=b(e)}catch(i){}return Ae()&&!t?"New...":t},renderChatItem:e=>(0,n.jsx)(F,{...Pe&&Pe.id==e.id?Pe:e,selected:(null===Pe||void 0===Pe?void 0:Pe.id)==e.id,onClick:()=>{const t=ke(e.id);t?Oe(t):(Oe(e),be(e.id,e))},itemBadge:C(e),itemDescription:S(e),itemName:b(e),itemTime:j(e)}),onMenuOptionState:e=>{if(e==ee&&Ae())return"hide";const t=De((null===Pe||void 0===Pe?void 0:Pe.id)||"none");if(e==oe){if(Ae())return"hide";if(f)return"loading";if(t.totalUpdates<2||f)return"disable"}return(e!=ie||t.hasUndo)&&(e!=ne||t.hasRedo)?e==re&&_?"hide":(e!=Q||_)&&(e!=$||me)&&(e!=ce||fe)&&(e!=G||_)&&(e!=de||_)?e==se&&"dark"===I||e==le&&"light"===I?"hide":(e!=ue||ye.isToolsEditor)&&(e!=he||ye.isToolsEditor)?"show":"hide":"hide":"disable"},onMenuOptionBadge:e=>{const t=De((null===Pe||void 0===Pe?void 0:Pe.id)||"none");if(!Ae()&&e==oe&&t.totalUpdates>1){return{counts:t.totalUpdates-1,status:"info"}}return null},chats:[...Ee?[Ee]:[],...Ie],selectedMessage:Pe,setSelectedMessage:e=>{Oe(e)},mobileActionButton:Je,children:i})})},fe=i(5555),xe=i(38118);const ve=e=>{if(e.id==o.XA)return"NEW";{const t=(0,fe.Ft)(e.updatedAt);return(null===t||void 0===t?void 0:t.toDateString)?t.toDateString():(0,n.jsx)(B.Z,{type:B.Z.TYPES.threeDots,width:"1rem",height:"1rem",color:"grey"})}};var we=e=>{let{historyProps:t,dataSourceProps:i,dataHandlerProps:a,tool:s,form:l,publishTexts:c,getItemName:d,getItemBadge:u,getItemDescription:h,onOverWriteCopiedData:g}=e;const{savingData:p,setSavingData:m,handleUpdateData:f,handlePublishData:x}=a;return s?(0,n.jsx)(r.Z,{title:s.name,description:s.description,image:"".concat(o.Le,"/logo.png"),bareBoneOnly:!0,children:(0,n.jsx)(me,{tool:s,form:l,publishTexts:c,historyProps:t,dataSourceProps:i,savingData:p,setSavingData:m,handleUpdateData:f,handlePublishData:x,getItemBadge:u,getItemDescription:h,getItemTime:ve,getItemName:d,onOverWriteCopiedData:g})}):(0,n.jsx)(xe.Z,{title:"Loading tool..."})}},23596:function(e,t,i){"use strict";i.d(t,{Ll:function(){return a},n5:function(){return c},t9:function(){return d}});var n=i(36024),o=i(25723),r=i(53754);i(48764).Buffer;function a(e,t){const[i,o]=t.split(","),r=i.match(/data:(.*?);base64/);if(!r)throw new Error("Invalid base64 data format");const a=r[1],s=atob(o),l=s.length,c=new Uint8Array(l);for(let n=0;n<l;n++)c[n]=s.charCodeAt(n);const d=new Blob([c],{type:a}),u="".concat((0,n.vq)(e),".").concat(a.split("/")[1]);return{id:e,image:new File([d],u,{type:a})}}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data.json";const i=JSON.stringify(e,null,2),n=new Blob([i],{type:"application/json"}),o=new File([n],t,{type:"application/json"});return o}function l(e,t){return!(!e||!t)&&((0,n.Ri)(e)&&(0,n.zD)(e).toLowerCase()===(0,n.zD)(t).toLowerCase())}const c=async(e,t,i,n,a)=>{const s=await(0,o.dq)(e,t,"https://r2.softbaker.com/"),l=[...i],d=[],u=[],h=[];return s.forEach((e=>{(0,r.N4)(e.error)?(l.push(e),d.push(e.id)):(a&&a("Failed to upload file with error, ".concat(e.error||"",". Would be retried later."),e.id,!0),u.push(e))})),t.forEach((e=>{d.includes(e.id)||h.push(e)})),h.length>0?n?(a&&a("Failed files upload retry stopped for ".concat(h.length," files.")),[...l,...u]):(a&&a("Sleeping for 5 seconds to retry ".concat(h.length," failed file uploads. Make sure you're connected to the internet....")),await(0,o._v)(5e3),a&&a("Resuming program to retry the ".concat(h.length," failed file uploads. Make sure you're connected to the internet...")),c(e,h,l,h.length==t.length,a)):l},d=(e,t,i,d,u,h,g,p,m,f)=>{console.log("uploadTemplates: ","toolId",t,"templates",i,"template",d,"templateData",u,"oldTemplate",h,"oldTemplateData",g,"oldTemplatesUrl",p);const x=(e,t)=>{f&&f(e,t)},v=e=>{x(e,0)};return new Promise((async(f,w)=>{try{x("Template assets upload started...");const T=[];if(d.id||T.push("ID is missing in the template"),d.name||T.push("Please provide the template's name"),d.logo||T.push("Please provide the template's logo"),T.length>0)return w(new Error(T.join("\n")));const k=d.id;if((null===h||void 0===h?void 0:h.logo)&&(0,n.Ri)(h.logo)&&(0,n.zI)(d.logo)){const e=h.logo,t=await(0,n.tY)(e,!0);t&&(0,n.pu)(t,d.logo)&&(d.logo=h.logo)}x("Stacking template images and logo to upload...");const D=[];for(const[e,i]of Object.entries(u.images))if((0,n.zI)(i)){const{image:r}=a(e,i);D.push({id:e,file:r,fileName:"templates-".concat(t,"-").concat(k,"-").concat((0,n.vq)(e),"-image.").concat((0,o.tD)(r.name).ext),dir:"templates"})}const I="templates-".concat(t,"-").concat(k,"-logo");if((0,n.zI)(d.logo)){const e=a(I,d.logo);D.push({id:I,file:e.image,fileName:"".concat(I,".").concat((0,o.tD)(e.image.name).ext),dir:"templates"})}x("Uploading template images and logo...");const E=await c(e,D,[],!1,v),A={};var y=null,b=null;x("Linking template images IDs and logo to the uploaded images..."),E.forEach((e=>{(0,r.N4)(e.error)?e.id!=I?A[e.id]=e.url:y=e.url:(b=new Error(e.error),x('The image, "'.concat(e.id,"\" failed to upload. Please make sure you're connected to the internet.")))}));for(const[e,t]of Object.entries(A))g&&(0,n.gJ)(e,g.images)&&l((0,n.gJ)(e,g.images),t)?u.images[e]=(0,n._P)((0,n.gJ)(e,g.images)):u.images[e]=t;if(y&&((null===h||void 0===h?void 0:h.logo)&&l(h.logo,y)?d.logo=(0,n._P)(h.logo):d.logo=y),m&&m(d,u),b)return w(b);var j=null;if(x("Checking if any changes need to be written to the template data file..."),u.svg!=(null===g||void 0===g?void 0:g.svg)||JSON.stringify(u.fields||{})!=JSON.stringify((null===g||void 0===g?void 0:g.fields)||{})||JSON.stringify(u.images||{})!=JSON.stringify((null===g||void 0===g?void 0:g.images)||{})||JSON.stringify(u.masks||{})!=JSON.stringify((null===g||void 0===g?void 0:g.masks)||{})||JSON.stringify(u.cssActions||{})!=JSON.stringify((null===g||void 0===g?void 0:g.cssActions)||{})){x("Uploading the template data file with the changes made...");const i=s(u),n="templates-".concat(t,"-").concat(k,"-data");if(j=await c(e,[{id:n,file:i,fileName:"".concat(n,".").concat((0,o.tD)(i.name).ext),dir:"templates"}],[],!1,v),!(0,r.N4)(j[0].error))return w(new Error(j[0].error))}var S=null;if(d.name!==(null===h||void 0===h?void 0:h.name)||d.logo!==(null===h||void 0===h?void 0:h.logo)||d.is_default!==(null===h||void 0===h?void 0:h.is_default)||d.split_on_download!==(null===h||void 0===h?void 0:h.split_on_download)||d.split_on_download_hr!==(null===h||void 0===h?void 0:h.split_on_download_hr)||j){j&&((null===h||void 0===h?void 0:h.data_url)&&l(h.data_url,j[0].url)?d.data_url=(0,n._P)(h.data_url):d.data_url=j[0].url,m&&m(d,u)),x("Updating the the tool's template list data file with the new template's data...");const a=s({...i,[k]:d}),g="templates-".concat(t);if(S=await c(e,[{id:g,file:a,fileName:"".concat(g,".").concat((0,o.tD)(a.name).ext),dir:"templates"}],[],!1,v),!(0,r.N4)(S[0].error))return w(new Error(S[0].error))}var C=S?S[0].url:null;p&&C&&l(p,C)?(C=(0,n._P)(p),x("Template updated with no error \u2714\u2714"),f(C)):p?(x("No changes found in the template."),f(null)):(x("Template created with no error \u2714\u2714"),f(C))}catch(T){w(T)}}))}},80419:function(e,t,i){"use strict";var n=i(85893),o=i(67294),r=i(7963),a=i(53978),s=i(71293),l=i(57747),c=i(55154);const d={text:0,address:1,refCode:2,link:3,shillText:4,refLink:5,phone:6},u=e=>{let t;switch(e){case d.address:t="Address copied";break;case d.refCode:t="Referral code copy copied";break;case d.refLink:t="Referral link copied";break;case d.shillText:t="Promotion text copied";break;case d.phone:t="Phone number copied copied";break;default:t="Text copied"}return t},h=e=>{let{as:t,textToCopy:i,children:d,type:h,copyType:g,maxChars:p,onCopyMessage:m,...f}=e;h=g||h;const x=(0,r.p)(),[v,w]=(0,o.useState)("Hello world"),{hasCopied:y,onCopy:b}=(0,a.V)(i||d||"");return(0,o.useEffect)((()=>{y&&x({description:m||u(h),duration:3e3,status:"success",isClosable:!0})}),[y]),(0,n.jsxs)(l.xu,{as:t||"span",cursor:"pointer",onClick:b,...f,children:[((e,t)=>{if(!t||e.length<=t)return e;var i=Math.round(t/2);return(0,n.jsxs)(s.x,{as:"span",children:[e.substring(0,i),"\u2026",e.slice(-1*(t-i))]})})(d||"",p||0)," ",d&&0!=d.length?(0,n.jsx)(l.xu,{as:"span",children:(0,n.jsx)(l.xu,{as:c.esY,display:"inline-block"})}):null]})};h.Types=d,t.Z=h},38118:function(e,t,i){"use strict";i.d(t,{Z:function(){return c}});var n=i(85893),o=i(56691),r=i(45161),a=i(73267);function s(){var e,t,i,s;const l=(0,r.ff)(null===a.Z||void 0===a.Z||null===(e=a.Z.colors)||void 0===e||null===(t=e.colorAccent)||void 0===t?void 0:t.light,null===a.Z||void 0===a.Z||null===(i=a.Z.colors)||void 0===i||null===(s=i.colorAccent)||void 0===s?void 0:s.dark);return(0,n.jsx)(o.Z,{type:o.Z.TYPES.ballTrinagle,color:l,height:50,width:50,visible:!0})}var l=i(57747);var c=e=>{let{title:t,message:i,...o}=e;return(0,n.jsxs)(l.xu,{className:"loading-view",minH:"100vh",w:"100%",pos:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",...o,children:[t?(0,n.jsx)("h1",{children:t}):null,i?(0,n.jsx)(l.xu,{fontStyle:"italic",children:i}):null,(0,n.jsx)(s,{})]})}},69688:function(e,t,i){"use strict";var n=i(67294),o=i(33775);const r="can_create_tools",a="can_edit_tools",s={uid:null,isAdmin:!1,isToolsEditor:!1,canCreateTools:!1,canEditTools:!1};t.Z=()=>{const{adminInfo:e,user:t,balanceInUsd:i}=(0,o.Pd)(),[l,c]=(0,n.useState)(JSON.parse(JSON.stringify(s)));return(0,n.useEffect)((()=>{if(null===e||void 0===e?void 0:e.permissions){const t=JSON.parse(JSON.stringify(s));t.uid=e.uid,t.isAdmin=!0,t.canCreateTools=e.permissions.includes(r),t.canEditTools=e.permissions.includes(a),t.isToolsEditor=t.canCreateTools||t.canEditTools,c(t)}else c({})}),[e]),l}},25723:function(e,t,i){"use strict";i.d(t,{_v:function(){return a},dq:function(){return s},tD:function(){return r}});var n=i(87066),o=i(11802);function r(e){const t=e.split("."),i=t.length>1&&t.pop()||"";return{name:t.join("."),ext:i}}const a=e=>new Promise((t=>setTimeout(t,e))),s=async function(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const l=[];for(const d of t){const{id:t,file:u,fileName:h,dir:g,onFileName:p}=d;if(!u){l.push({id:t,url:""});continue}const{name:m,ext:f}=r(u.name),x=p?p(m,f):h||u.name;try{const r=await e.getIdToken(),a=await n.Z.post("".concat(o.Lu,"/get-presigned-url"),{id:t,fileName:x,fileType:u.type,dir:g},{headers:{Authorization:r}}),{presignedUrl:s}=a.data;if(200===(await n.Z.put(s,u,{headers:{"Content-Type":u.type}})).status){const e=i?"".concat(i).concat(i.endsWith("/")?"":"/").concat(g||"").concat((g||"").endsWith("/")?"":"/").concat(x):s.split("?")[0];l.push({id:t,url:e})}else l.push({id:t,url:"",error:"Upload failed"})}catch(c){l.push({id:t,url:"",error:c.message})}await a(s)}return l}},5555:function(e,t,i){"use strict";i.d(t,{Ft:function(){return o},SG:function(){return r},og:function(){return s},xV:function(){return a}});var n=i(36100);const o=e=>{try{return e.toDate()}catch(t){return e}},r=e=>{try{return n.EK.fromDate(e)}catch(t){return e}};function a(e,t,i){return t.map((function(t){return"string"===typeof t||"number"===typeof t?t:new Intl.DateTimeFormat("en",t).format(e)})).join(i)}const s=e=>new Date(e).getTime()-6e4*(new Date).getTimezoneOffset()},43535:function(){},78311:function(){},20491:function(){},51437:function(){},54675:function(){},25832:function(){},51459:function(){},32256:function(){},16299:function(){},99927:function(){}}]);