"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[143],{30929:function(e,t,n){n.d(t,{j:function(){return a}});var o=n(11163),r=n(67294);const a={error:"ERROR",info:"INFO",warning:"WARNING",warn:"WARNING"};t.Z=()=>{const{pathname:e}=(0,o.useRouter)(),t=()=>{if(window.localStorage)try{const e=JSON.parse(localStorage.getItem("APP_LOGS")||"[]");if("undefined"!==typeof Blob){const t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),o=document.createElement("a");o.href=n,o.download="APP_LOGS_FILE.json",o.click(),URL.revokeObjectURL(n)}else{const t="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),n=document.createElement("a");n.href=t,n.download="APP_LOGS_FILE.json",n.click()}}catch(e){console.error("Failed to download logs",e)}};return(0,r.useEffect)((()=>{console.log("path",e),"/status/download-debug"===e&&t()}),[e]),{logger:(e,t)=>{if(window.localStorage){let o=[];try{o=JSON.parse(localStorage.getItem("APP_LOGS")||"[]")}catch(n){console.error("Failed to parse logs from localStorage",n)}o.push("".concat((new Date).toISOString()," => [").concat(t,"] ").concat(e));let r=JSON.stringify(o);for(;new Blob([r]).size>5120;)o.shift(),r=JSON.stringify(o);try{localStorage.setItem("APP_LOGS",r)}catch(n){console.error("Failed to save logs to localStorage",n)}}},downloadLogs:t}}},94345:function(e,t,n){var o=n(85893),r=n(35541),a=n(19778),i=n(14581),s=n(64859),c=n(71293),l=n(34292),d=n(57747),u=n(54346),g=n(14253),h=n(55154),f=n(96918);t.Z=e=>{let{bg:t,color:n,children:m,placement:p,onClose:w,isOpen:x,isClosable:S,title:v,footer:y,hideModeSwitch:j,noHeader:b,w:I,width:O,maxW:E,maxWidth:R,h:C,height:F,maxH:D,maxHeight:U,dontCloseOnOverlayClick:L,...z}=e;return(0,o.jsxs)(r.u_,{closeOnOverlayClick:!L,onClose:w||(()=>{}),isOpen:x,isCentered:!0,children:[(0,o.jsx)(a.Z,{}),(0,o.jsxs)(i.h,{bg:t||(0,f.Z)("cardBg.light","cardBg.dark"),color:n,minH:C||F||"50vh",maxH:D||U||"70vh",w:I||O||{base:"95%",md:"650px"},maxW:E||R,borderRadius:"16px !important",children:[b?null:(0,o.jsxs)(s.x,{borderBottomWidth:"1px",w:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,o.jsx)(c.x,{as:"div",fontSize:{base:"1.1rem",md:"1.3rem"},textTransform:"capitalize",children:v}),(0,o.jsx)(l.U,{children:w&&(S||void 0===S)?(0,o.jsx)(d.xu,{onClick:w,cursor:"pointer",display:"block",children:(0,o.jsx)(h.aHS,{size:"24px"})}):null})]}),(0,o.jsx)(u.f,{...z,children:m}),y?(0,o.jsx)(g.m,{children:y}):null]})]})}},41160:function(e,t,n){var o=n(85893),r=n(57747),a=n(71293),i=n(67294),s=n(87878),c=n(21344);t.Z=e=>{let{children:t,message:n,disableDrag:l,...d}=e;const u=(0,i.useRef)(null),[g,h]=(0,i.useState)(null),{onMouseDown:f}=(0,s.Z)(u);return(0,o.jsxs)(r.xu,{...d,overflow:"auto",ref:u,p:"2rem",onMouseDown:e=>{l||(f(e),(e=>{h(e.pageY)})(e))},onMouseUp:e=>{l||g&&((e,t)=>{if(!u.current||e==t)return;const n=u.current,o=Math.abs(t-e);if(0===n.scrollTop){const e=document.getElementById("form-container");e&&(e.scrollTop-=o)}if(n.scrollTop>=n.scrollHeight-n.clientHeight){const e=document.getElementById("form-container");e&&(e.scrollTop+=o)}})(g,e.pageY)},children:[t,(0,o.jsx)(c.Z,{as:"div",status:"info",fontWeight:"700",maxW:"80vw",children:(0,o.jsx)(a.x,{as:"span",children:n||"Drag around to view the whole document"})})]})}},35052:function(e,t,n){var o=n(85893),r=n(67294),a=n(94345),i=n(85461),s=n(55154),c=n(48783),l=n(71293),d=n(34292),u=n(6089),g=n(77181),h=n(57369),f=n(13653),m=n(30929);t.Z=e=>{let{galleryKey:t,onClose:n,onImage:p,maxFileSize:w,isOtherFiles:x,onThumb:S,title:v,message:y,hoverMessage:j,ruleMessage:b,useImageText:I,accept:O}=e;const{logger:E}=(0,m.Z)(),[R,C]=(0,r.useState)(!1),[F,D]=(0,r.useState)(!1),[U,L]=(0,r.useState)(null),[z,k]=(0,r.useState)();(0,r.useEffect)((()=>{if(t){const e=(0,h.fe)(t);if(e){L(e);const t=(0,f.g8)(e);e&&k(t)}}}),[t]);const[P,A]=(0,r.useState)();return(0,r.useEffect)((()=>{z&&U&&S?S(z,U).then((e=>{A(e)})).catch((e=>{console.error("handleUseImage: ",e.message),A(void 0)})):A(U)}),[U]),(0,o.jsx)(a.Z,{title:v,isOpen:!0,onClose:()=>n(),children:(0,o.jsxs)(c.g,{p:"0.5rem",id:"upload-area",justifyContent:"center",alignItems:"center",mb:4,width:"100%",height:"300px",cursor:"pointer",border:"4px dashed ".concat(R?"#dd6b20":"#ccc"),onDragEnter:e=>{e.preventDefault(),C(!0)},onDragOver:e=>{e.preventDefault()},onDragLeave:e=>{e.preventDefault(),C(!1)},onDrop:async e=>{if(F)return;e.preventDefault(),C(!1);const t=e.dataTransfer.files;if(t.length>0){const e=new FileReader,n=t[0];e.onload=async e=>{if(w&&w>0&&!x&&n.size>w){D(!0);const e=await(0,g.t)(n,w);L(e.base64),k(e.file),D(!1)}else{var t;const o=null===(t=e.target)||void 0===t?void 0:t.result;L(o),k(n)}},e.readAsDataURL(n)}},children:[(0,o.jsx)(s.DUB,{size:"2rem"}),(0,o.jsxs)(c.g,{alignItems:"center",children:[(0,o.jsx)(l.x,{as:"div",fontSize:"12px",children:R?j:y}),(0,o.jsx)(l.x,{as:"div",fontSize:"14px",children:"OR"}),(0,o.jsx)(i.Z,{status:"info",mb:"1rem",onClick:()=>{if(E("handleClickUpload.called:",m.j.info),F)return void E("handleClickUpload.aborted: processing in progress",m.j.warning);const e=document.createElement("input");e.type="file",e.accept=O||"image/*",e.style.display="none",document.body.appendChild(e),e.addEventListener("change",(async t=>{const n=t.target.files;if(document.body.removeChild(e),n&&n.length>0){const e=n[0];E("File selected: ".concat(JSON.stringify({name:e.name,size:e.size,type:e.type})),m.j.info);const t=new FileReader;t.onload=async t=>{var n;E("FileReader.onload fired:",m.j.info);const o=null===(n=t.target)||void 0===n?void 0:n.result;if(o)if(w&&w>0&&!x&&e.size>w){E("File size exceeds maxFileSize, resizing...",m.j.info),D(!0);const t=await(0,g.t)(e,w);E("Image resized.size: ".concat(t.base64.length),m.j.info),L(t.base64),k(t.file),D(!1)}else E("File within size limit, setting base64 image",m.j.warn),L(o),k(e);else E("FileReader result is empty or undefined",m.j.error)},t.onerror=e=>{E("FileReader.onerror fired: ".concat((null===e||void 0===e?void 0:e.message)||e),m.j.error)},t.readAsDataURL(e)}else E("No file selected or file input is empty",m.j.warn)})),e.click()},display:F?"none":"block",children:"Click to Upload"}),(0,o.jsxs)(l.x,{as:"div",fontSize:"12px",textAlign:"center",children:["(",b,")"]}),F?(0,o.jsx)(l.x,{as:"div",fontSize:"12px",fontStyle:"italic",color:"#3182ce",children:"Processing image. Please wait..."}):null,(0,o.jsx)(d.U,{justifyContent:"center",alignItems:"flex-end",flexWrap:"wrap",children:U&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.E,{src:P||"",bg:"#cfcfcf",width:"auto",height:"70px",border:"4px ridge #dd6b20"}),(0,o.jsx)(i.Z,{status:"warning",h:"70px",onClick:()=>{p(z,U,P)},disabled:F,fontStyle:F?"italic":"normal",children:F?"Please wait...":I})]})})]})]})})}},65367:function(e,t,n){n.d(t,{Ic:function(){return s},Q8:function(){return i},T3:function(){return c},U5:function(){return l},Vt:function(){return g},j1:function(){return u},xi:function(){return d}});var o=n(67294),r=n(30351),a=n(98303);const i=e=>"string"===typeof e&&e.startsWith("/")?"".concat(window.location.origin).concat(e):e,s=e=>new Promise((async(t,n)=>{if(!e)return t(null);if(window.FileReader){let r;if("string"===typeof e)try{r=await(await fetch(e)).blob()}catch(o){return void n(o)}const a=new FileReader;a.onloadend=function(){a.result?(a.result.toString(),t(a.result)):n(new Error("empty-filereader-result"))},a.onerror=function(e){n(e)},a.readAsDataURL(r||e)}else if("string"!==typeof e)n(new Error("file-reader-not-supported"));else{const o=new Image;o.crossOrigin="Anonymous",o.onload=function(){var e=document.createElement("canvas"),r=e.getContext("2d");if(r){e.height=o.naturalHeight,e.width=o.naturalWidth,r.drawImage(o,0,0);const n=e.toDataURL();t(n)}else n("no-canvas")},o.src=e}})),c=e=>{const[t,n]=(0,o.useState)(),[r,a]=(0,o.useState)(),[c,l]=(0,o.useState)();return(0,o.useEffect)((()=>{const t=i(e);t?(a(!0),s(t).then((e=>{e&&n(e.toString()),a(!1)})).catch((e=>{l(e.message),a(!1)}))):n(null)}),[e]),{base64Url:t,loading:r,error:c}},l=e=>{const[t,n]=(0,o.useState)(),[a,i]=(0,o.useState)(),[s,c]=(0,o.useState)();return(0,o.useEffect)((()=>{e&&(i(!0),(0,r.gP)(e).then((t=>{n({base64Url:e,width:t.width,height:t.height}),i(!1)})).catch((e=>{c(e.message),i(!1)})))}),[e]),{userImage:t,loading:a,error:s}},d=(e,t)=>{const[n,a]=(0,o.useState)(),[i,s]=(0,o.useState)(),[c,l]=(0,o.useState)();return(0,o.useEffect)((()=>{t&&(s(!0),(0,r.jl)(t,e).then((e=>{a(e),s(!1)})).catch((e=>{l(e.message),s(!1)})))}),[t]),{color:n,loading:i,error:c}},u=(e,t,n)=>{const[a,i]=(0,o.useState)(),[s,c]=(0,o.useState)(),[l,d]=(0,o.useState)();return(0,o.useEffect)((()=>{n&&(c(!0),(0,r.aD)(n,e,t).then((e=>{i(e),c(!1)})).catch((e=>{d(e.message),c(!1)})))}),[n]),{stamp:a,loading:s,error:l}},g=e=>{const[t,n]=(0,o.useState)(),[r,i]=(0,o.useState)();return{value:(0,a.S)(e||{}),loading:t,error:r}}},13653:function(e,t,n){function o(e){return new Promise(((t,n)=>{const o=new Image;o.onload=()=>{t({width:o.width,height:o.height})},o.onerror=e=>{n(new Error("Failed to load image: ".concat(e)))},o.src=e}))}async function r(e,t){return new Promise(((n,o)=>{const r=new Image;r.onload=()=>{const e=r.width/r.height,a=t/e,i=document.createElement("canvas");i.width=t,i.height=a;const s=i.getContext("2d");if(s){s.drawImage(r,0,0,t,a);const e=i.toDataURL("image/png");n(e)}else o(new Error("Failed to get canvas context"))},r.onerror=e=>{o(new Error("Failed to load image: ".concat(e)))},r.src=e}))}function a(e,t,n){var o;const[r,a]=e.split(",");if(n=n||(null===(o=r.match(/:(.*?);/))||void 0===o?void 0:o[1]),!t){const e=(null===n||void 0===n?void 0:n.split("/")[1])||"bin";t="file_".concat(Date.now(),".").concat(e)}const i=window.atob(a),s=i.length,c=new Uint8Array(s);for(let d=0;d<s;d++)c[d]=i.charCodeAt(d);const l=new Blob([c],{type:n});return new File([l],t,{type:n})}n.d(t,{g8:function(){return a},gu:function(){return r},pz:function(){return o}})},57369:function(e,t,n){n.d(t,{OL:function(){return a},fe:function(){return r},ht:function(){return o}});const o={faceshot:"SOFTBAKER_FACESHOT"},r=e=>localStorage.getItem(e),a=e=>{((e,t)=>{try{localStorage.setItem(e,t)}catch(n){try{localStorage.clear(),localStorage.setItem(e,t)}catch(n){}}})(o.faceshot,e)}},77181:function(e,t,n){n.d(t,{t:function(){return o}});const o=async(e,t)=>new Promise(((n,o)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=async o=>{var r;const a=new Image;a.src=null===(r=o.target)||void 0===r?void 0:r.result,a.onload=()=>{const o=document.createElement("canvas"),r=o.getContext("2d");o.width=a.width,o.height=a.height,r.drawImage(a,0,0);const i=r.getImageData(0,0,o.width,o.height).data.length/(o.width*o.height),s=t/i,c=Math.sqrt(s);let l,d;a.width>=a.height?(l=c,d=a.height*(c/a.width)):(d=c,l=a.width*(c/a.height)),o.width=l,o.height=d,r.drawImage(a,0,0,l,d),o.toBlob((t=>{if(t){const r=new File([t],e.name,{type:e.type});n({base64:o.toDataURL(),file:r})}}),e.type)}},r.onerror=e=>o(e)}))}}]);