"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[143],{94345:function(e,t,n){var r=n(85893),o=n(35541),a=n(19778),s=n(14581),i=n(64859),c=n(71293),l=n(34292),d=n(57747),u=n(54346),h=n(14253),g=n(55154),f=n(96918);t.Z=e=>{let{bg:t,color:n,children:m,placement:w,onClose:p,isOpen:x,isClosable:v,title:S,footer:y,hideModeSwitch:b,noHeader:j,w:E,width:C,maxW:D,maxWidth:I,h:U,height:R,maxH:F,maxHeight:k,dontCloseOnOverlayClick:O,...z}=e;return(0,r.jsxs)(o.u_,{closeOnOverlayClick:!O,onClose:p||(()=>{}),isOpen:x,isCentered:!0,children:[(0,r.jsx)(a.Z,{}),(0,r.jsxs)(s.h,{bg:t||(0,f.Z)("cardBg.light","cardBg.dark"),color:n,minH:U||R||"50vh",maxH:F||k||"70vh",w:E||C||{base:"95%",md:"650px"},maxW:D||I,borderRadius:"16px !important",children:[j?null:(0,r.jsxs)(i.x,{borderBottomWidth:"1px",w:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(c.x,{as:"div",fontSize:{base:"1.1rem",md:"1.3rem"},textTransform:"capitalize",children:S}),(0,r.jsx)(l.U,{children:p&&(v||void 0===v)?(0,r.jsx)(d.xu,{onClick:p,cursor:"pointer",display:"block",children:(0,r.jsx)(g.aHS,{size:"24px"})}):null})]}),(0,r.jsx)(u.f,{...z,children:m}),y?(0,r.jsx)(h.m,{children:y}):null]})]})}},41160:function(e,t,n){var r=n(85893),o=n(57747),a=n(71293),s=n(67294),i=n(87878),c=n(21344);t.Z=e=>{let{children:t,message:n,disableDrag:l,...d}=e;const u=(0,s.useRef)(null),[h,g]=(0,s.useState)(null),{onMouseDown:f}=(0,i.Z)(u);return(0,r.jsxs)(o.xu,{...d,overflow:"auto",ref:u,p:"2rem",onMouseDown:e=>{l||(f(e),(e=>{g(e.pageY)})(e))},onMouseUp:e=>{l||h&&((e,t)=>{if(!u.current||e==t)return;const n=u.current,r=Math.abs(t-e);if(0===n.scrollTop){const e=document.getElementById("form-container");e&&(e.scrollTop-=r)}if(n.scrollTop>=n.scrollHeight-n.clientHeight){const e=document.getElementById("form-container");e&&(e.scrollTop+=r)}})(h,e.pageY)},children:[t,(0,r.jsx)(c.Z,{as:"div",status:"info",fontWeight:"700",maxW:"80vw",children:(0,r.jsx)(a.x,{as:"span",children:n||"Drag around to view the whole document"})})]})}},35052:function(e,t,n){var r=n(85893),o=n(67294),a=n(94345),s=n(85461),i=n(55154),c=n(48783),l=n(71293),d=n(34292),u=n(6089),h=n(77181),g=n(57369),f=n(13653);t.Z=e=>{let{galleryKey:t,onClose:n,onImage:m,maxFileSize:w,isOtherFiles:p,onThumb:x,title:v,message:S,hoverMessage:y,ruleMessage:b,useImageText:j,accept:E}=e;const[C,D]=(0,o.useState)(!1),[I,U]=(0,o.useState)(!1),[R,F]=(0,o.useState)(null),[k,O]=(0,o.useState)();(0,o.useEffect)((()=>{if(t){const e=(0,g.fe)(t);if(e){F(e);const t=(0,f.g8)(e);e&&O(t)}}}),[t]);const[z,T]=(0,o.useState)();return(0,o.useEffect)((()=>{k&&R&&x?x(k,R).then((e=>{T(e)})).catch((e=>{console.error("handleUseImage: ",e.message),T(void 0)})):T(R)}),[R]),(0,r.jsx)(a.Z,{title:v,isOpen:!0,onClose:()=>n(),children:(0,r.jsxs)(c.g,{p:"0.5rem",id:"upload-area",justifyContent:"center",alignItems:"center",mb:4,width:"100%",height:"300px",cursor:"pointer",border:"4px dashed ".concat(C?"#dd6b20":"#ccc"),onDragEnter:e=>{e.preventDefault(),D(!0)},onDragOver:e=>{e.preventDefault()},onDragLeave:e=>{e.preventDefault(),D(!1)},onDrop:async e=>{if(I)return;e.preventDefault(),D(!1);const t=e.dataTransfer.files;if(t.length>0){const e=new FileReader,n=t[0];e.onload=async e=>{if(w&&w>0&&!p&&n.size>w){U(!0);const e=await(0,h.t)(n,w);F(e.base64),O(e.file),U(!1)}else{var t;const r=null===(t=e.target)||void 0===t?void 0:t.result;F(r),O(n)}},e.readAsDataURL(n)}},children:[(0,r.jsx)(i.DUB,{size:"2rem"}),(0,r.jsxs)(c.g,{alignItems:"center",children:[(0,r.jsx)(l.x,{as:"div",fontSize:"12px",children:C?y:S}),(0,r.jsx)(l.x,{as:"div",fontSize:"14px",children:"OR"}),(0,r.jsx)(s.Z,{status:"info",mb:"1rem",onClick:()=>{if(I)return;const e=document.createElement("input");e.type="file",e.accept=E||"image/*",e.click(),e.addEventListener("change",(async e=>{const t=e.target.files;if(t&&t.length>0){const e=new FileReader,n=t[0];e.onload=async e=>{if(w&&w>0&&!p&&n.size>w){U(!0);const e=await(0,h.t)(n,w);F(e.base64),O(e.file),U(!1)}else{var t;const r=null===(t=e.target)||void 0===t?void 0:t.result;F(r),O(n)}},e.readAsDataURL(n)}}))},display:I?"none":"block",children:"Click to Upload"}),(0,r.jsxs)(l.x,{fontSize:"12px",children:["(",b,")"]}),I?(0,r.jsx)(l.x,{fontSize:"12px",fontStyle:"italic",color:"#3182ce",children:"Processing image. Please wait..."}):null,(0,r.jsx)(d.U,{justifyContent:"center",alignItems:"flex-end",flexWrap:"wrap",children:R&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.E,{src:z||"",bg:"#cfcfcf",width:"auto",height:"70px",border:"4px ridge #dd6b20"}),(0,r.jsx)(s.Z,{status:"warning",h:"70px",onClick:()=>{m(k,R,z)},disabled:I,fontStyle:I?"italic":"normal",children:I?"Please wait...":j})]})})]})]})})}},65367:function(e,t,n){n.d(t,{Ic:function(){return i},Q8:function(){return s},T3:function(){return c},U5:function(){return l},Vt:function(){return h},j1:function(){return u},xi:function(){return d}});var r=n(67294),o=n(30351),a=n(98303);const s=e=>"string"===typeof e&&e.startsWith("/")?"".concat(window.location.origin).concat(e):e,i=e=>new Promise((async(t,n)=>{if(!e)return t(null);if(window.FileReader){let o;if("string"===typeof e)try{o=await(await fetch(e)).blob()}catch(r){return void n(r)}const a=new FileReader;a.onloadend=function(){a.result?(a.result.toString(),t(a.result)):n(new Error("empty-filereader-result"))},a.onerror=function(e){n(e)},a.readAsDataURL(o||e)}else if("string"!==typeof e)n(new Error("file-reader-not-supported"));else{const r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var e=document.createElement("canvas"),o=e.getContext("2d");if(o){e.height=r.naturalHeight,e.width=r.naturalWidth,o.drawImage(r,0,0);const n=e.toDataURL();t(n)}else n("no-canvas")},r.src=e}})),c=e=>{const[t,n]=(0,r.useState)(),[o,a]=(0,r.useState)(),[c,l]=(0,r.useState)();return(0,r.useEffect)((()=>{const t=s(e);t?(a(!0),i(t).then((e=>{e&&n(e.toString()),a(!1)})).catch((e=>{l(e.message),a(!1)}))):n(null)}),[e]),{base64Url:t,loading:o,error:c}},l=e=>{const[t,n]=(0,r.useState)(),[a,s]=(0,r.useState)(),[i,c]=(0,r.useState)();return(0,r.useEffect)((()=>{e&&(s(!0),(0,o.gP)(e).then((t=>{n({base64Url:e,width:t.width,height:t.height}),s(!1)})).catch((e=>{c(e.message),s(!1)})))}),[e]),{userImage:t,loading:a,error:i}},d=(e,t)=>{const[n,a]=(0,r.useState)(),[s,i]=(0,r.useState)(),[c,l]=(0,r.useState)();return(0,r.useEffect)((()=>{t&&(i(!0),(0,o.jl)(t,e).then((e=>{a(e),i(!1)})).catch((e=>{l(e.message),i(!1)})))}),[t]),{color:n,loading:s,error:c}},u=(e,t,n)=>{const[a,s]=(0,r.useState)(),[i,c]=(0,r.useState)(),[l,d]=(0,r.useState)();return(0,r.useEffect)((()=>{n&&(c(!0),(0,o.aD)(n,e,t).then((e=>{s(e),c(!1)})).catch((e=>{d(e.message),c(!1)})))}),[n]),{stamp:a,loading:i,error:l}},h=e=>{const[t,n]=(0,r.useState)(),[o,s]=(0,r.useState)();return{value:(0,a.S)(e||{}),loading:t,error:o}}},13653:function(e,t,n){function r(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>{t({width:r.width,height:r.height})},r.onerror=e=>{n(new Error("Failed to load image: ".concat(e)))},r.src=e}))}async function o(e,t){return new Promise(((n,r)=>{const o=new Image;o.onload=()=>{const e=o.width/o.height,a=t/e,s=document.createElement("canvas");s.width=t,s.height=a;const i=s.getContext("2d");if(i){i.drawImage(o,0,0,t,a);const e=s.toDataURL("image/png");n(e)}else r(new Error("Failed to get canvas context"))},o.onerror=e=>{r(new Error("Failed to load image: ".concat(e)))},o.src=e}))}function a(e,t,n){var r;const[o,a]=e.split(",");if(n=n||(null===(r=o.match(/:(.*?);/))||void 0===r?void 0:r[1]),!t){const e=(null===n||void 0===n?void 0:n.split("/")[1])||"bin";t="file_".concat(Date.now(),".").concat(e)}const s=window.atob(a),i=s.length,c=new Uint8Array(i);for(let d=0;d<i;d++)c[d]=s.charCodeAt(d);const l=new Blob([c],{type:n});return new File([l],t,{type:n})}n.d(t,{g8:function(){return a},gu:function(){return o},pz:function(){return r}})},57369:function(e,t,n){n.d(t,{OL:function(){return a},fe:function(){return o},ht:function(){return r}});const r={faceshot:"SOFTBAKER_FACESHOT"},o=e=>localStorage.getItem(e),a=e=>{((e,t)=>{try{localStorage.setItem(e,t)}catch(n){try{localStorage.clear(),localStorage.setItem(e,t)}catch(n){}}})(r.faceshot,e)}},77181:function(e,t,n){n.d(t,{t:function(){return r}});const r=async(e,t)=>new Promise(((n,r)=>{const o=new FileReader;o.readAsDataURL(e),o.onload=async r=>{var o;const a=new Image;a.src=null===(o=r.target)||void 0===o?void 0:o.result,a.onload=()=>{const r=document.createElement("canvas"),o=r.getContext("2d");r.width=a.width,r.height=a.height,o.drawImage(a,0,0);const s=o.getImageData(0,0,r.width,r.height).data.length/(r.width*r.height),i=t/s,c=Math.sqrt(i);let l,d;a.width>=a.height?(l=c,d=a.height*(c/a.width)):(d=c,l=a.width*(c/a.height)),r.width=l,r.height=d,o.drawImage(a,0,0,l,d),r.toBlob((t=>{if(t){const o=new File([t],e.name,{type:e.type});n({base64:r.toDataURL(),file:o})}}),e.type)}},o.onerror=e=>r(e)}))}}]);