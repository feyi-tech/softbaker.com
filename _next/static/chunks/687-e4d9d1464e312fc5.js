"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[687],{59501:function(e,t,n){var a=n(85893),o=n(45161),i=n(14225),r=n(34292),s=n(57747),l=n(71293),c=n(55204);t.Z=e=>{let{as:t,onClick:n,children:d,variant:h,bgColor:g,outlineColor:u,leftIcon:m,rightIcon:p,loading:x,disabled:f,...w}=e;const b=g||(0,o.ff)("colorAccent.light","colorAccent.dark"),v=u||(0,o.ff)("colorAccentDestination.light","colorAccentDestination.dark");return(0,a.jsx)(i.z,{as:t||"button",cursor:"pointer",disabled:f||x,onClick:e=>{!n||f||x||n(e)},display:"inline-flex",justifyContent:"center",alignItems:"center",p:"0px 24px",h:"48px",letterSpacing:"0.03em",textAlign:"center",borderRadius:"16px",bg:"outline"==h?"transparent":b,border:"outline"==h?"2px solid":"none",borderColor:"outline"==h?v:"transparent",color:"outline"==h?v:"#fff",boxShadow:"ghost"==h||"outline"==h?"none":"rgb(14 14 44 / 40%) 0px -1px 0px 0px inset",opacity:"ghost"==h?"0.8":"1",transition:"background-color 0.2s ease 0s, opacity 0.2s ease 0s",_hover:{opacity:"0.65",border:"none !important"},_disabled:{opacity:"0.65",cursor:"not-allowed"},...w,children:(0,a.jsxs)(r.U,{justifyContent:"center",alignItems:"center",children:[m?(0,a.jsx)(s.xu,{mr:"7px",children:m}):null,(0,a.jsx)(l.x,{as:"div",children:d}),x?(0,a.jsx)(s.xu,{as:c.g4,display:"inline",width:"20%",height:"20%",color:"#fff"}):p?(0,a.jsx)(s.xu,{ml:"7px",children:p}):null]})})}},98924:function(e,t,n){var a=n(85893),o=n(67294),i=n(98303),r=n(55083),s=n(19778),l=n(85335),c=n(64859),d=n(71293),h=n(34292),g=n(57747),u=n(54346),m=n(14253),p=n(55154),x=n(53754),f=n(96918);t.Z=e=>{let{bg:t,color:n,children:w,placement:b,onClose:v,isOpen:k,isClosable:j,closeOnOverlayClick:y,title:C,footer:S,hideModeSwitch:I,h:T,height:E,maxH:A,maxHeight:R,w:z,width:F,maxW:D,maxWidth:O,...Z}=e;const[P,U]=(0,o.useState)(),[B,L]=(0,o.useState)(),[N,M]=(0,o.useState)({}),[W,H]=(0,o.useState)({}),[Y,_]=(0,o.useState)({}),[$,K]=(0,o.useState)({});return b=(0,i.S)("string"===typeof b?{base:b}:b),(0,o.useEffect)((()=>{"left"===b?(M("0px"),H("32px"),_("0px"),K("32px"),U(E||T),L(F||z)):"right"===b?(M("32px"),H("0px"),_("32px"),K("0px"),U(E||T),L(F||z)):"top"===b?(M("0px"),H("0px"),_("32px"),K("32px"),U(E||T||"50vh"),L(F||z)):"bottom"===b&&(M("32px"),H("32px"),_("0px"),K("0px"),U(E||T||"60vh"),L(F||z))}),[b,E,F]),(0,a.jsxs)(r.d,{placement:b,onClose:v||(()=>{}),isOpen:k,closeOnOverlayClick:!!(0,x.nj)(y)||y,children:[(0,a.jsx)(s.Z,{}),(0,a.jsxs)(l.s,{bg:t||(0,f.Z)("cardBg.light","cardBg.dark"),color:n,h:P,w:B,maxH:A||R||P,maxW:D||O||B,borderTopLeftRadius:N,borderTopRightRadius:W,borderBottomLeftRadius:Y,borderBottomRightRadius:$,...Z,children:[(0,a.jsxs)(c.x,{borderBottomWidth:"1px",w:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,a.jsx)(d.x,{as:"div",fontSize:{base:"1.1rem",md:"1.3rem"},textTransform:"capitalize",children:C}),(0,a.jsx)(h.U,{children:v&&(j||void 0===j)?(0,a.jsx)(g.xu,{onClick:v,cursor:"pointer",display:"block",children:(0,a.jsx)(p.aHS,{size:"24px"})}):null})]}),(0,a.jsx)(u.f,{...Z,children:w}),S?(0,a.jsx)(m.m,{children:S}):null]})]})}},98687:function(e,t,n){n.d(t,{Z:function(){return B}});var a=n(85893),o=n(51857),i=n.n(o),r=n(57747),s=n(85970),l=n(34292),c=n(5418),d=n(6089),h=n(71293),g=n(67294),u=n(30351),m=n(36238),p=n(35052),x=n(49626),f=n(85461),w=n(53754),b=n(82084),v=(n(72554),n(48783)),k=n(81136),j=n(49289),y=n(98924),C=n(59501);const S=async(e,t)=>{const n=await(a=e,new Promise(((e,t)=>{const n=new Image;n.addEventListener("load",(()=>e(n))),n.addEventListener("error",(e=>t(e))),n.src=a})));var a;const o=document.createElement("canvas"),i=o.getContext("2d");if(!i)throw new Error("Could not get canvas context");const r=t.width*n.width/100,s=t.height*n.height/100,l=t.x*n.width/100,c=t.y*n.height/100;return o.width=r,o.height=s,i.drawImage(n,l,c,r,s,0,0,r,s),{base64:o.toDataURL("image/png")}};var I=e=>{let{image:t,imageFile:n,imageCropArg:o,onThumb:i,onImage:s}=e;const[c,u]=(0,g.useState)(),[m,p]=(0,g.useState)(null),[x,f]=(0,g.useState)(!1);(0,g.useEffect)((()=>{t&&w()}),[t]);const w=async()=>{try{u({unit:"%",x:25,y:20,width:50,height:50})}catch(e){console.error("Error loading image:",e),s(null,null,null,e)}};return(0,a.jsx)(y.Z,{title:"Crop Image",isOpen:!0,width:"100%",height:"100%",placement:"top",onClose:()=>{s(null,null,null,null)},overflowY:"auto",children:(0,a.jsx)(v.g,{width:"100%",alignItems:"center",children:x?(0,a.jsxs)(v.g,{p:"0.5rem",width:"300px",height:"300px",pos:"relative",justifyContent:"center",alignItems:"center",children:[(0,a.jsx)(k.$,{size:"xl",mb:2}),(0,a.jsx)(h.x,{textAlign:"center",fontStyle:"italic",children:"Processing image. Please wait..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(v.g,{border:"1px",p:"0.5rem",width:"300px",height:"300px",pos:"relative",justifyContent:"flex-start",alignItems:"center",mb:4,children:[o.sampleImage&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.U,{justifyContent:"flex-start",alignItems:"flex-end",mb:0,children:[(0,a.jsx)(d.E,{width:"auto",height:"60px",src:o.sampleImage,border:"1px dashed"}),(0,a.jsx)(h.x,{children:"Sample Image"})]}),(0,a.jsx)(j.i,{})]}),(0,a.jsx)(b.ZP,{crop:c,onChange:(e,t)=>{t.width>5&&t.height>5&&u(t)},onComplete:(e,t)=>{p(t)},children:(0,a.jsx)(d.E,{src:t,height:"200px",width:"auto"})})]}),o.message&&(0,a.jsx)(r.xu,{children:(0,a.jsx)(h.x,{textAlign:"center",maxWidth:"600px",children:o.message})}),(0,a.jsx)(C.Z,{onClick:async()=>{if(f(!0),m)try{const e=await S(t,m);s(null,e.base64),f(!1)}catch(e){console.error("Error cropping the image:",e),s(null,null,null,e),f(!1)}},outlineColor:"#dd6b20",children:"Submit Crop"})]})})})},T=n(65040),E=n(93717),A=n(94345),R=n(85963),z=n(11802),F=n(33939),D=n(13653);const O=["\ud83e\udde0 Applying AI magic... Step {CURRENT} of {TOTAL}. Your image's background is being removed as we speak!\ud83d\udd25","\ud83e\udde0 Applying AI magic... Step {CURRENT} of {TOTAL}. Please be patient. Nothing's broken. The background is still being removed.\ud83d\udc4c","\ud83e\udde0 Applying AI magic... Step {CURRENT} of {TOTAL}. AI does good job at tasks like this. But can be a little bit slow if your mobile phone or PC's GPU is low. Please be patient.\u270c","\ud83e\udde0 Applying AI magic... Step {CURRENT} of {TOTAL}. Hang on buddy. All is working fine. Your image's background is being removed as we speak.\ud83d\ude0d","\ud83e\udde0 Applying AI magic... Step {CURRENT} of {TOTAL}. Only step 1 takes the longest time. The remaining steps take less than a few seconds in total.\ud83d\ude80"];var Z=(e,t,n)=>{const[a,o]=(0,g.useState)(),[i,r]=(0,g.useState)(),[s,l]=(0,g.useState)(),c=(0,F.Z)(5),d=()=>{if(a){const e=Date.now();!s&&a.key.includes("compute:inference")&&l(e),r(function(e,t,n,a,o){let i="";if(e.startsWith("fetch:"))i=t<n?"\ud83d\ude80 Downloading background removal tools... ".concat(Math.floor(t/n*100),"% completed. If this is your first time, this may take a bit longer. But don\u2019t worry, next time will be much faster!"):"\u2705 Tools downloaded! We're all set for quick background removal from now on.";else if(e.includes("compute:decode"))i="\ud83d\udd0d Decoding image data... Step ".concat(t," of ").concat(n,". Hang tight, we're preparing your image for background removal.");else if(e.includes("compute:inference")){const e=o-a,r=Math.floor(e/1e4)%O.length;i=O[r].replace("{CURRENT}","".concat(t)).replace("{TOTAL}","".concat(n))}else i="Wrapping up... Step ".concat(t," of ").concat(n,". Your image is being re-touched!");return i}(a.key,a.current,a.total,s||e,e))}};(0,g.useEffect)((()=>{d()}),[c]),(0,g.useEffect)((()=>{d()}),[a]);const[h,u]=(0,g.useState)({imageData:e,imageFile:t});(0,g.useEffect)((()=>{u({imageData:e,imageFile:t})}),[e,t]);const[m,p]=(0,g.useState)({publicPath:z.c9,progress:(e,t,n)=>{o({key:e,current:t,total:n}),console.info("Downloading; ".concat(e,": ").concat(t," of ").concat(n))}}),x=(e,t)=>new Promise(((n,a)=>{const o=new Image;o.src=e,o.onload=()=>{const e=document.createElement("canvas");e.width=o.width*t,e.height=o.height*t;const i=e.getContext("2d");i?(i.drawImage(o,0,0,e.width,e.height),n(e.toDataURL())):a(new Error("Failed to get canvas context"))},o.onerror=()=>{a(new Error("Failed to load image for downscaling"))}})),f=(e,t)=>new Promise(((n,a)=>{const o=new Image,i=new Image;o.src=e,i.src=t,o.onload=()=>{i.onload=()=>{const e=document.createElement("canvas");e.width=o.width,e.height=o.height;const t=e.getContext("2d");t?(t.drawImage(o,0,0,e.width,e.height),t.globalCompositeOperation="destination-in",t.drawImage(i,0,0,e.width,e.height),n(e.toDataURL())):a(new Error("Failed to get canvas context"))},i.onerror=()=>{a(new Error("Failed to load mask image"))}},o.onerror=()=>{a(new Error("Failed to load original image"))}}));return{progress:a,progressMessage:i,startBackgroundRemoval:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise(((a,o)=>{let i=Promise.resolve(e),r=e;n&&n<1&&(i=x(e,n)),i.then((e=>(0,R.X1)(e,m))).then((e=>{const n=new FileReader;n.onloadend=()=>{const e=n.result;f(r,e).then((e=>{let n;t&&(n=(0,D.g8)(e,t.name,t.type));const o={imageData:e,imageFile:n};u(o),a(o)})).catch((e=>{o(e)}))},n.onerror=()=>{o(new Error("Failed to convert blob to base64"))},n.readAsDataURL(e)})).catch((e=>{o(e)}))}))},imageState:h}};var P=e=>{let{image:t,imageFile:n,onThumb:o,onImage:i,debug:r}=e;const[s,l]=(0,g.useState)(!0),{startBackgroundRemoval:c,progress:u,progressMessage:m}=Z(t,n,r),p=async(e,t)=>{let n,a;if(t&&(a=(0,D.g8)(e,t.name,t.type)),o&&a)try{n=await o(a,e)}catch(r){console.error(r)}i(a,e,n)};return(0,g.useEffect)((()=>{t&&(l(!0),(async e=>new Promise((t=>{const n=new Image;n.src=e,n.onload=()=>{const e=document.createElement("canvas"),a=e.getContext("2d");if(!a)return t(!1);e.width=n.width,e.height=n.height,a.drawImage(n,0,0);const o=a.getImageData(0,0,e.width,e.height).data,i=.15,r=[[0,0],[e.width-i*e.width,0],[0,e.height-i*e.height],[e.width-i*e.width,e.height-i*e.height]],s=(t,n)=>{const a=4*(n*e.width+t);return o[a+3]<51};let l=0;const c=.0225*e.width*e.height;for(const[t,n]of r)for(let a=0;a<i*e.width;a++)for(let o=0;o<i*e.height;o++)s(t+a,n+o)&&l++;t(l/c>.5)},n.onerror=()=>t(!1)})))(t).then((async e=>{e?(await p(t,n),l(!1)):l(!1)})).catch((e=>{i(null,null,null,e)})))}),[t]),(0,a.jsx)(A.Z,{title:"Background Remover",isOpen:!0,width:"100%",height:"100%",onClose:()=>{i(null,null,null,null)},children:(0,a.jsxs)(v.g,{spacing:4,alignItems:"center",children:[(0,a.jsx)(d.E,{src:t,height:"250px",width:"auto",overflowY:"auto"}),u&&s&&m?(0,a.jsxs)(v.g,{w:"200px",alignItems:"center",children:[(0,a.jsx)(T.E,{value:u.current/u.total*100,width:"100%",borderRadius:"2px",hasStripe:!0,isAnimated:!0}),(0,a.jsx)(h.x,{fontSize:"12px",textAlign:"center",fontStyle:"italic",children:m}),(0,a.jsx)(k.$,{size:"sm"})]}):s?(0,a.jsxs)(v.g,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,a.jsx)(k.$,{size:"xl",mb:2}),(0,a.jsx)(h.x,{textAlign:"center",fontStyle:"italic",children:"Checking Image opacity. Please be patient..."})]}):(0,a.jsxs)(E.k,{w:"100%",flexDirection:{base:"column",md:"row"},justifyContent:{base:"flex-start",md:"center"},children:[(0,a.jsx)(C.Z,{fontSize:"0.7rem",bgColor:"tomato",mr:{base:"0px",md:"0.5rem"},mb:{base:"0.5rem",md:"0px"},onClick:()=>{l(!0),c(.25).then((async e=>{await p(e.imageData,e.imageFile||n),l(!1)})).catch((e=>{l(!1),i(null,null,null,e)}))},children:"Remove Background"}),(0,a.jsx)(C.Z,{fontSize:"0.7rem",variant:"outline",outlineColor:"tomato",onClick:async()=>{l(!0),await p(t,n),l(!1)},children:"Skip Background Remover"})]})]})})},U=n(77181);var B=e=>{let{onThumb:t,accept:n,galleryKey:o,title:b,thumbnail:v,onChange:k,disableCrop:j,disabled:y,info:C,helperText:S,errorMessage:T,message:E,hoverMessage:A,ruleMessage:R,useImageText:z,maxFileSize:F,isOtherFiles:O,showAsButton:Z,textTransform:B,labelEndIcon:L,imageCropArg:N,removeBackground:M,...W}=e;const[H,Y]=(0,g.useState)(!1),[_,$]=(0,g.useState)(!1),[K,q]=(0,g.useState)(!1),[G,J]=(0,g.useState)(!1),[X,Q]=(0,g.useState)(),[V,ee]=(0,g.useState)(),[te,ne]=(0,g.useState)(),ae=(e,t,n,a)=>{if(t&&X&&F&&!O){J(!0);const a=e||(0,D.g8)(t,X.name,X.type);(0,U.t)(a,F).then((e=>{Q(e.file),ee(e.base64),k(e.file,e.base64,n),J(!1)})).catch((e=>{k(null,null,null,e),J(!1)}))}else k(e,t,n,a)};return(0,a.jsxs)(r.xu,{...W,children:[Z?(0,a.jsx)(f.Z,{status:"success",onClick:e=>{e.preventDefault(),y||G||Y(!0)},children:b}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.NI,{opacity:G||y?.4:1,cursor:G||y?"not-allowed":"pointer",children:[(0,a.jsxs)(l.U,{w:"100%",justifyContent:"space-between",alignItems:"center",children:[!b||(0,w.N4)(C)||y?(0,a.jsx)(c.l,{textTransform:B||"capitalize",mb:"0px",children:b}):(0,a.jsx)(x.Z,{as:c.l,info:C,textTransform:B||"capitalize",children:b}),L||null]}),(0,a.jsxs)(l.U,{className:"image-selector-button",onClick:e=>{e.preventDefault(),y||G||Y(!0)},children:[(0,a.jsx)(r.xu,{width:"auto",height:"40px",bg:"#dfdfdf",children:!G&&v?(0,a.jsx)(d.E,{src:v,width:"auto",h:"40px",objectFit:"cover"}):null}),(0,a.jsx)(h.x,{as:"div",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontStyle:G?"italic":"normal",children:G?"Please wait...":v?"Click to change":"Click to upload"})]})]}),(0,a.jsx)(m.Z,{type:m.Z.TYPES.none,helperText:S,errorMessage:T})]}),H?(0,a.jsx)(p.Z,{galleryKey:o,title:b,message:E,onThumb:t,hoverMessage:A,ruleMessage:R,useImageText:z,onImage:(e,t,n,a)=>{((e,t,n,a)=>{Y(!1),j||O?ae(e,t,n):(J(!0),N?(Q(e),ee(t),ne(n),$(!0)):M?(Q(e),ee(t),ne(n),q(!0)):(0,u.xJ)(t).then((t=>{ae(e,t,n),J(!1)})).catch((e=>{J(!1)})))})(e,t,n)},onClose:()=>{Y(!1)},isOtherFiles:O,accept:n}):null,_&&V&&N?(0,a.jsx)(I,{image:V,imageFile:X,imageCropArg:N,onThumb:t,onImage:(e,t,n,a)=>{e&&Q(e),t&&ee(t),n&&ne(n),M&&t?($(!1),q(!0)):(J(!1),$(!1),t?ae(e,t,n):a&&ae(null,null,null,a))}}):null,K&&V&&M?(0,a.jsx)(P,{image:V,imageFile:X,onThumb:t,onImage:(e,t,n,a)=>{e&&Q(e),t&&ee(t),n&&ne(n),J(!1),q(!1),t?ae(e,t,n):a&&ae(null,null,null,a)}}):null,(0,a.jsx)(i(),{id:"95178590041dfe1a",children:".image-selector-button{width:100%;min-width:0px;outline:2px solid transparent;outline-offset:2px;position:relative;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;-webkit-transition-property:var(--chakra-transition-property-common);-moz-transition-timing-function:var(--chakra-transition-property-common);-o-transition-timing-function:var(--chakra-transition-property-common);transition-property:var(--chakra-transition-property-common);-webkit-transition-duration:var(--chakra-transition-duration-normal);-moz-transition-duration:var(--chakra-transition-duration-normal);-o-transition-duration:var(--chakra-transition-duration-normal);transition-duration:var(--chakra-transition-duration-normal);font-size:var(--chakra-fontSizes-md);-webkit-padding-start:var(--chakra-space-4);-moz-padding-start:var(--chakra-space-4);padding-inline-start:var(--chakra-space-4);-webkit-padding-end:var(--chakra-space-10);-moz-padding-end:var(--chakra-space-10);padding-inline-end:var(--chakra-space-10);height:var(--chakra-sizes-10);-webkit-border-radius:var(--chakra-radii-md);-moz-border-radius:var(--chakra-radii-md);border-radius:var(--chakra-radii-md);border:1px solid;border-color:inherit;background:inherit}"})]})}},33939:function(e,t,n){var a=n(67294);t.Z=e=>{const[t,n]=(0,a.useState)(Date.now());return(0,a.useEffect)((()=>{const t=setInterval((()=>{n(Date.now())}),e);return()=>clearInterval(t)}),[e]),t}}}]);